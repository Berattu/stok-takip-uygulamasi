(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HI={exports:{}},Xg={},GI={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=Symbol.for("react.element"),FF=Symbol.for("react.portal"),BF=Symbol.for("react.fragment"),zF=Symbol.for("react.strict_mode"),UF=Symbol.for("react.profiler"),KF=Symbol.for("react.provider"),qF=Symbol.for("react.context"),WF=Symbol.for("react.forward_ref"),HF=Symbol.for("react.suspense"),GF=Symbol.for("react.memo"),YF=Symbol.for("react.lazy"),Zk=Symbol.iterator;function XF(t){return t===null||typeof t!="object"?null:(t=Zk&&t[Zk]||t["@@iterator"],typeof t=="function"?t:null)}var YI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XI=Object.assign,QI={};function Cc(t,e,r){this.props=t,this.context=e,this.refs=QI,this.updater=r||YI}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JI(){}JI.prototype=Cc.prototype;function O1(t,e,r){this.props=t,this.context=e,this.refs=QI,this.updater=r||YI}var R1=O1.prototype=new JI;R1.constructor=O1;XI(R1,Cc.prototype);R1.isPureReactComponent=!0;var eA=Array.isArray,ZI=Object.prototype.hasOwnProperty,D1={current:null},eO={key:!0,ref:!0,__self:!0,__source:!0};function tO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ZI.call(e,n)&&!eO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Uf,type:t,key:a,ref:o,props:i,_owner:D1.current}}function QF(t,e){return{$$typeof:Uf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function M1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uf}function JF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tA=/\/+/g;function By(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JF(""+t.key):e.toString(36)}function Cp(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uf:case FF:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+By(o,0):n,eA(i)?(r="",t!=null&&(r=t.replace(tA,"$&/")+"/"),Cp(i,e,r,"",function(u){return u})):i!=null&&(M1(i)&&(i=QF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",eA(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+By(a,s);o+=Cp(a,e,r,l,i)}else if(l=XF(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+By(a,s++),o+=Cp(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zh(t,e,r){if(t==null)return t;var n=[],i=0;return Cp(t,n,"","",function(a){return e.call(r,a,i++)}),n}function ZF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},Ip={transition:null},e5={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Ip,ReactCurrentOwner:D1};function rO(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:zh,forEach:function(t,e,r){zh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zh(t,function(){e++}),e},toArray:function(t){return zh(t,function(e){return e})||[]},only:function(t){if(!M1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=Cc;Ke.Fragment=BF;Ke.Profiler=UF;Ke.PureComponent=O1;Ke.StrictMode=zF;Ke.Suspense=HF;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e5;Ke.act=rO;Ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=XI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=D1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)ZI.call(e,l)&&!eO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Uf,type:t.type,key:i,ref:a,props:n,_owner:o}};Ke.createContext=function(t){return t={$$typeof:qF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KF,_context:t},t.Consumer=t};Ke.createElement=tO;Ke.createFactory=function(t){var e=tO.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:WF,render:t}};Ke.isValidElement=M1;Ke.lazy=function(t){return{$$typeof:YF,_payload:{_status:-1,_result:t},_init:ZF}};Ke.memo=function(t,e){return{$$typeof:GF,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Ip.transition;Ip.transition={};try{t()}finally{Ip.transition=e}};Ke.unstable_act=rO;Ke.useCallback=function(t,e){return qr.current.useCallback(t,e)};Ke.useContext=function(t){return qr.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return qr.current.useEffect(t,e)};Ke.useId=function(){return qr.current.useId()};Ke.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};Ke.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return qr.current.useMemo(t,e)};Ke.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};Ke.useRef=function(t){return qr.current.useRef(t)};Ke.useState=function(t){return qr.current.useState(t)};Ke.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};Ke.useTransition=function(){return qr.current.useTransition()};Ke.version="18.3.1";GI.exports=Ke;var R=GI.exports;const M=nt(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5=R,r5=Symbol.for("react.element"),n5=Symbol.for("react.fragment"),i5=Object.prototype.hasOwnProperty,a5=t5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o5={key:!0,ref:!0,__self:!0,__source:!0};function nO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)i5.call(e,n)&&!o5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:r5,type:t,key:a,ref:o,props:i,_owner:a5.current}}Xg.Fragment=n5;Xg.jsx=nO;Xg.jsxs=nO;HI.exports=Xg;var c=HI.exports,g0={},iO={exports:{}},xn={},aO={exports:{}},oO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var X=F.length;F.push(z);e:for(;0<X;){var re=X-1>>>1,V=F[re];if(0<i(V,z))F[re]=z,F[X]=V,X=re;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],X=F.pop();if(X!==z){F[0]=X;e:for(var re=0,V=F.length,Y=V>>>1;re<Y;){var Z=2*(re+1)-1,ee=F[Z],we=Z+1,ge=F[we];if(0>i(ee,X))we<V&&0>i(ge,ee)?(F[re]=ge,F[we]=X,re=we):(F[re]=ee,F[Z]=X,re=Z);else if(we<V&&0>i(ge,X))F[re]=ge,F[we]=X,re=we;else break e}}return z}function i(F,z){var X=F.sortIndex-z.sortIndex;return X!==0?X:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=F)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function j(F){if(v=!1,b(F),!g)if(r(l)!==null)g=!0,q(x);else{var z=r(u);z!==null&&U(j,z.startTime-F)}}function x(F,z){g=!1,v&&(v=!1,y(k),k=-1),m=!0;var X=h;try{for(b(z),f=r(l);f!==null&&(!(f.expirationTime>z)||F&&!O());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var V=re(f.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(l)&&n(l),b(z)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var Z=r(u);Z!==null&&U(j,Z.startTime-z),Y=!1}return Y}finally{f=null,h=X,m=!1}}var S=!1,T=null,k=-1,E=5,I=-1;function O(){return!(t.unstable_now()-I<E)}function P(){if(T!==null){var F=t.unstable_now();I=F;var z=!0;try{z=T(!0,F)}finally{z?C():(S=!1,T=null)}}else S=!1}var C;if(typeof _=="function")C=function(){_(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=P,C=function(){$.postMessage(null)}}else C=function(){w(P,0)};function q(F){T=F,S||(S=!0,C())}function U(F,z){k=w(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,q(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var X=h;h=z;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return z()}finally{h=X}},t.unstable_scheduleCallback=function(F,z,X){var re=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?re+X:re):X=re,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,F={id:d++,callback:z,priorityLevel:F,startTime:X,expirationTime:V,sortIndex:-1},X>re?(F.sortIndex=X,e(u,F),r(l)===null&&F===r(u)&&(v?(y(k),k=-1):v=!0,U(j,X-re))):(F.sortIndex=V,e(l,F),g||m||(g=!0,q(x))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var z=h;return function(){var X=h;h=z;try{return F.apply(this,arguments)}finally{h=X}}}})(oO);aO.exports=oO;var s5=aO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5=R,yn=s5;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sO=new Set,Td={};function Os(t,e){Bl(t,e),Bl(t+"Capture",e)}function Bl(t,e){for(Td[t]=e,t=0;t<e.length;t++)sO.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v0=Object.prototype.hasOwnProperty,c5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rA={},nA={};function u5(t){return v0.call(nA,t)?!0:v0.call(rA,t)?!1:c5.test(t)?nA[t]=!0:(rA[t]=!0,!1)}function d5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f5(t,e,r,n){if(e===null||typeof e>"u"||d5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $1=/[\-:]([a-z])/g;function L1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($1,L1);xr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($1,L1);xr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($1,L1);xr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function V1(t,e,r,n){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f5(e,r,i,n)&&(r=null),n||i===null?u5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var va=l5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uh=Symbol.for("react.element"),rl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),lO=Symbol.for("react.provider"),cO=Symbol.for("react.context"),B1=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),uO=Symbol.for("react.offscreen"),iA=Symbol.iterator;function vu(t){return t===null||typeof t!="object"?null:(t=iA&&t[iA]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,zy;function $u(t){if(zy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zy=e&&e[1]||""}return`
`+zy+t}var Uy=!1;function Ky(t,e){if(!t||Uy)return"";Uy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Uy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$u(t):""}function h5(t){switch(t.tag){case 5:return $u(t.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return t=Ky(t.type,!1),t;case 11:return t=Ky(t.type.render,!1),t;case 1:return t=Ky(t.type,!0),t;default:return""}}function w0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case rl:return"Portal";case y0:return"Profiler";case F1:return"StrictMode";case x0:return"Suspense";case b0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cO:return(t.displayName||"Context")+".Consumer";case lO:return(t._context.displayName||"Context")+".Provider";case B1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z1:return e=t.displayName||null,e!==null?e:w0(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return w0(t(e))}catch{}}return null}function p5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w0(e);case 8:return e===F1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function uo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m5(t){var e=dO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=m5(t))}function fO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function am(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _0(t,e){var r=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aA(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=uo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hO(t,e){e=e.checked,e!=null&&V1(t,"checked",e,!1)}function S0(t,e){hO(t,e);var r=uo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T0(t,e.type,r):e.hasOwnProperty("defaultValue")&&T0(t,e.type,uo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oA(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function T0(t,e,r){(e!=="number"||am(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Lu=Array.isArray;function kl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+uo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sA(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(Lu(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:uo(r)}}function pO(t,e){var r=uo(e.value),n=uo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function lA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qh,gO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qh=qh||document.createElement("div"),qh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g5=["Webkit","ms","Moz","O"];Object.keys(Xu).forEach(function(t){g5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xu[e]=Xu[t]})});function vO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xu.hasOwnProperty(t)&&Xu[t]?(""+e).trim():e+"px"}function yO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=vO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var v5=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E0(t,e){if(e){if(v5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function j0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=null;function U1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var N0=null,Al=null,El=null;function cA(t){if(t=Wf(t)){if(typeof N0!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=tv(e),N0(t.stateNode,t.type,e))}}function xO(t){Al?El?El.push(t):El=[t]:Al=t}function bO(){if(Al){var t=Al,e=El;if(El=Al=null,cA(t),e)for(t=0;t<e.length;t++)cA(e[t])}}function wO(t,e){return t(e)}function _O(){}var qy=!1;function SO(t,e,r){if(qy)return t(e,r);qy=!0;try{return wO(t,e,r)}finally{qy=!1,(Al!==null||El!==null)&&(_O(),bO())}}function Ad(t,e){var r=t.stateNode;if(r===null)return null;var n=tv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var C0=!1;if(ra)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){C0=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{C0=!1}function y5(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Qu=!1,om=null,sm=!1,I0=null,x5={onError:function(t){Qu=!0,om=t}};function b5(t,e,r,n,i,a,o,s,l){Qu=!1,om=null,y5.apply(x5,arguments)}function w5(t,e,r,n,i,a,o,s,l){if(b5.apply(this,arguments),Qu){if(Qu){var u=om;Qu=!1,om=null}else throw Error(ce(198));sm||(sm=!0,I0=u)}}function Rs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uA(t){if(Rs(t)!==t)throw Error(ce(188))}function _5(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return uA(i),t;if(a===n)return uA(i),e;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function kO(t){return t=_5(t),t!==null?AO(t):null}function AO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AO(t);if(e!==null)return e;t=t.sibling}return null}var EO=yn.unstable_scheduleCallback,dA=yn.unstable_cancelCallback,S5=yn.unstable_shouldYield,T5=yn.unstable_requestPaint,Vt=yn.unstable_now,k5=yn.unstable_getCurrentPriorityLevel,K1=yn.unstable_ImmediatePriority,jO=yn.unstable_UserBlockingPriority,lm=yn.unstable_NormalPriority,A5=yn.unstable_LowPriority,PO=yn.unstable_IdlePriority,Qg=null,mi=null;function E5(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Qg,t,void 0,(t.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:N5,j5=Math.log,P5=Math.LN2;function N5(t){return t>>>=0,t===0?32:31-(j5(t)/P5|0)|0}var Wh=64,Hh=4194304;function Vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Vu(s):(a&=o,a!==0&&(n=Vu(a)))}else o=r&~i,o!==0?n=Vu(o):a!==0&&(n=Vu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ri(e),i=1<<r,n|=t[r],e&=~i;return n}function C5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ri(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=C5(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function O0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NO(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Wy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ri(e),t[e]=r}function O5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ri(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function q1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ri(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var it=0;function CO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IO,W1,OO,RO,DO,R0=!1,Gh=[],Ha=null,Ga=null,Ya=null,Ed=new Map,jd=new Map,Da=[],R5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fA(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(e.pointerId)}}function xu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Wf(e),e!==null&&W1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D5(t,e,r,n,i){switch(e){case"focusin":return Ha=xu(Ha,t,e,r,n,i),!0;case"dragenter":return Ga=xu(Ga,t,e,r,n,i),!0;case"mouseover":return Ya=xu(Ya,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ed.set(a,xu(Ed.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,jd.set(a,xu(jd.get(a)||null,t,e,r,n,i)),!0}return!1}function MO(t){var e=Go(t.target);if(e!==null){var r=Rs(e);if(r!==null){if(e=r.tag,e===13){if(e=TO(r),e!==null){t.blockedOn=e,DO(t.priority,function(){OO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=D0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);P0=n,r.target.dispatchEvent(n),P0=null}else return e=Wf(r),e!==null&&W1(e),t.blockedOn=r,!1;e.shift()}return!0}function hA(t,e,r){Op(t)&&r.delete(e)}function M5(){R0=!1,Ha!==null&&Op(Ha)&&(Ha=null),Ga!==null&&Op(Ga)&&(Ga=null),Ya!==null&&Op(Ya)&&(Ya=null),Ed.forEach(hA),jd.forEach(hA)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,R0||(R0=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,M5)))}function Pd(t){function e(i){return bu(i,t)}if(0<Gh.length){bu(Gh[0],t);for(var r=1;r<Gh.length;r++){var n=Gh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ha!==null&&bu(Ha,t),Ga!==null&&bu(Ga,t),Ya!==null&&bu(Ya,t),Ed.forEach(e),jd.forEach(e),r=0;r<Da.length;r++)n=Da[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Da.length&&(r=Da[0],r.blockedOn===null);)MO(r),r.blockedOn===null&&Da.shift()}var jl=va.ReactCurrentBatchConfig,um=!0;function $5(t,e,r,n){var i=it,a=jl.transition;jl.transition=null;try{it=1,H1(t,e,r,n)}finally{it=i,jl.transition=a}}function L5(t,e,r,n){var i=it,a=jl.transition;jl.transition=null;try{it=4,H1(t,e,r,n)}finally{it=i,jl.transition=a}}function H1(t,e,r,n){if(um){var i=D0(t,e,r,n);if(i===null)rx(t,e,n,dm,r),fA(t,n);else if(D5(i,t,e,r,n))n.stopPropagation();else if(fA(t,n),e&4&&-1<R5.indexOf(t)){for(;i!==null;){var a=Wf(i);if(a!==null&&IO(a),a=D0(t,e,r,n),a===null&&rx(t,e,n,dm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else rx(t,e,n,null,r)}}var dm=null;function D0(t,e,r,n){if(dm=null,t=U1(n),t=Go(t),t!==null)if(e=Rs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dm=t,null}function $O(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k5()){case K1:return 1;case jO:return 4;case lm:case A5:return 16;case PO:return 536870912;default:return 16}default:return 16}}var za=null,G1=null,Rp=null;function LO(){if(Rp)return Rp;var t,e=G1,r=e.length,n,i="value"in za?za.value:za.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Rp=i.slice(t,1<n?1-n:void 0)}function Dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yh(){return!0}function pA(){return!1}function bn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yh:pA,this.isPropagationStopped=pA,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yh)},persist:function(){},isPersistent:Yh}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y1=bn(Ic),qf=Nt({},Ic,{view:0,detail:0}),V5=bn(qf),Hy,Gy,wu,Jg=Nt({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(Hy=t.screenX-wu.screenX,Gy=t.screenY-wu.screenY):Gy=Hy=0,wu=t),Hy)},movementY:function(t){return"movementY"in t?t.movementY:Gy}}),mA=bn(Jg),F5=Nt({},Jg,{dataTransfer:0}),B5=bn(F5),z5=Nt({},qf,{relatedTarget:0}),Yy=bn(z5),U5=Nt({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=bn(U5),q5=Nt({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W5=bn(q5),H5=Nt({},Ic,{data:0}),gA=bn(H5),G5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X5[t])?!!e[t]:!1}function X1(){return Q5}var J5=Nt({},qf,{key:function(t){if(t.key){var e=G5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X1,charCode:function(t){return t.type==="keypress"?Dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z5=bn(J5),eB=Nt({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vA=bn(eB),tB=Nt({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X1}),rB=bn(tB),nB=Nt({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),iB=bn(nB),aB=Nt({},Jg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oB=bn(aB),sB=[9,13,27,32],Q1=ra&&"CompositionEvent"in window,Ju=null;ra&&"documentMode"in document&&(Ju=document.documentMode);var lB=ra&&"TextEvent"in window&&!Ju,VO=ra&&(!Q1||Ju&&8<Ju&&11>=Ju),yA=" ",xA=!1;function FO(t,e){switch(t){case"keyup":return sB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function cB(t,e){switch(t){case"compositionend":return BO(e);case"keypress":return e.which!==32?null:(xA=!0,yA);case"textInput":return t=e.data,t===yA&&xA?null:t;default:return null}}function uB(t,e){if(il)return t==="compositionend"||!Q1&&FO(t,e)?(t=LO(),Rp=G1=za=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VO&&e.locale!=="ko"?null:e.data;default:return null}}var dB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dB[t.type]:e==="textarea"}function zO(t,e,r,n){xO(n),e=fm(e,"onChange"),0<e.length&&(r=new Y1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zu=null,Nd=null;function fB(t){ZO(t,0)}function Zg(t){var e=sl(t);if(fO(e))return t}function hB(t,e){if(t==="change")return e}var UO=!1;if(ra){var Xy;if(ra){var Qy="oninput"in document;if(!Qy){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),Qy=typeof wA.oninput=="function"}Xy=Qy}else Xy=!1;UO=Xy&&(!document.documentMode||9<document.documentMode)}function _A(){Zu&&(Zu.detachEvent("onpropertychange",KO),Nd=Zu=null)}function KO(t){if(t.propertyName==="value"&&Zg(Nd)){var e=[];zO(e,Nd,t,U1(t)),SO(fB,e)}}function pB(t,e,r){t==="focusin"?(_A(),Zu=e,Nd=r,Zu.attachEvent("onpropertychange",KO)):t==="focusout"&&_A()}function mB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zg(Nd)}function gB(t,e){if(t==="click")return Zg(e)}function vB(t,e){if(t==="input"||t==="change")return Zg(e)}function yB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:yB;function Cd(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!v0.call(e,i)||!ai(t[i],e[i]))return!1}return!0}function SA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TA(t,e){var r=SA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SA(r)}}function qO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WO(){for(var t=window,e=am();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=am(t.document)}return e}function J1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xB(t){var e=WO(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qO(r.ownerDocument.documentElement,r)){if(n!==null&&J1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=TA(r,a);var o=TA(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bB=ra&&"documentMode"in document&&11>=document.documentMode,al=null,M0=null,ed=null,$0=!1;function kA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$0||al==null||al!==am(n)||(n=al,"selectionStart"in n&&J1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ed&&Cd(ed,n)||(ed=n,n=fm(M0,"onSelect"),0<n.length&&(e=new Y1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=al)))}function Xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ol={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},Jy={},HO={};ra&&(HO=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function ev(t){if(Jy[t])return Jy[t];if(!ol[t])return t;var e=ol[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in HO)return Jy[t]=e[r];return t}var GO=ev("animationend"),YO=ev("animationiteration"),XO=ev("animationstart"),QO=ev("transitionend"),JO=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){JO.set(t,e),Os(e,[t])}for(var Zy=0;Zy<AA.length;Zy++){var ex=AA[Zy],wB=ex.toLowerCase(),_B=ex[0].toUpperCase()+ex.slice(1);xo(wB,"on"+_B)}xo(GO,"onAnimationEnd");xo(YO,"onAnimationIteration");xo(XO,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(QO,"onTransitionEnd");Bl("onMouseEnter",["mouseout","mouseover"]);Bl("onMouseLeave",["mouseout","mouseover"]);Bl("onPointerEnter",["pointerout","pointerover"]);Bl("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fu));function EA(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,w5(n,e,void 0,t),t.currentTarget=null}function ZO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;EA(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;EA(i,s,u),a=l}}}if(sm)throw t=I0,sm=!1,I0=null,t}function gt(t,e){var r=e[z0];r===void 0&&(r=e[z0]=new Set);var n=t+"__bubble";r.has(n)||(eR(e,t,2,!1),r.add(n))}function tx(t,e,r){var n=0;e&&(n|=4),eR(r,t,n,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Qh]){t[Qh]=!0,sO.forEach(function(r){r!=="selectionchange"&&(SB.has(r)||tx(r,!1,t),tx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,tx("selectionchange",!1,e))}}function eR(t,e,r,n){switch($O(e)){case 1:var i=$5;break;case 4:i=L5;break;default:i=H1}r=i.bind(null,e,r,t),i=void 0,!C0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function rx(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Go(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}SO(function(){var u=a,d=U1(r),f=[];e:{var h=JO.get(t);if(h!==void 0){var m=Y1,g=t;switch(t){case"keypress":if(Dp(r)===0)break e;case"keydown":case"keyup":m=Z5;break;case"focusin":g="focus",m=Yy;break;case"focusout":g="blur",m=Yy;break;case"beforeblur":case"afterblur":m=Yy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rB;break;case GO:case YO:case XO:m=K5;break;case QO:m=iB;break;case"scroll":m=V5;break;case"wheel":m=oB;break;case"copy":case"cut":case"paste":m=W5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vA}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,b;_!==null;){b=_;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Ad(_,y),j!=null&&v.push(Od(_,j,b)))),w)break;_=_.return}0<v.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==P0&&(g=r.relatedTarget||r.fromElement)&&(Go(g)||g[na]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Go(g):null,g!==null&&(w=Rs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=mA,j="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=vA,j="onPointerLeave",y="onPointerEnter",_="pointer"),w=m==null?h:sl(m),b=g==null?h:sl(g),h=new v(j,_+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,Go(d)===u&&(v=new v(y,_+"enter",g,r,d),v.target=b,v.relatedTarget=w,j=v),w=j,m&&g)t:{for(v=m,y=g,_=0,b=v;b;b=Gs(b))_++;for(b=0,j=y;j;j=Gs(j))b++;for(;0<_-b;)v=Gs(v),_--;for(;0<b-_;)y=Gs(y),b--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=Gs(v),y=Gs(y)}v=null}else v=null;m!==null&&jA(f,h,m,v,!1),g!==null&&w!==null&&jA(f,w,g,v,!0)}}e:{if(h=u?sl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=hB;else if(bA(h))if(UO)x=vB;else{x=mB;var S=pB}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=gB);if(x&&(x=x(t,u))){zO(f,x,r,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&T0(h,"number",h.value)}switch(S=u?sl(u):window,t){case"focusin":(bA(S)||S.contentEditable==="true")&&(al=S,M0=u,ed=null);break;case"focusout":ed=M0=al=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,kA(f,r,d);break;case"selectionchange":if(bB)break;case"keydown":case"keyup":kA(f,r,d)}var T;if(Q1)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else il?FO(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(VO&&r.locale!=="ko"&&(il||k!=="onCompositionStart"?k==="onCompositionEnd"&&il&&(T=LO()):(za=d,G1="value"in za?za.value:za.textContent,il=!0)),S=fm(u,k),0<S.length&&(k=new gA(k,t,null,r,d),f.push({event:k,listeners:S}),T?k.data=T:(T=BO(r),T!==null&&(k.data=T)))),(T=lB?cB(t,r):uB(t,r))&&(u=fm(u,"onBeforeInput"),0<u.length&&(d=new gA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=T))}ZO(f,e)})}function Od(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ad(t,r),a!=null&&n.unshift(Od(t,a,i)),a=Ad(t,e),a!=null&&n.push(Od(t,a,i))),t=t.return}return n}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jA(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Ad(r,a),l!=null&&o.unshift(Od(r,l,s))):i||(l=Ad(r,a),l!=null&&o.push(Od(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var TB=/\r\n?/g,kB=/\u0000|\uFFFD/g;function PA(t){return(typeof t=="string"?t:""+t).replace(TB,`
`).replace(kB,"")}function Jh(t,e,r){if(e=PA(e),PA(t)!==e&&r)throw Error(ce(425))}function hm(){}var L0=null,V0=null;function F0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,AB=typeof clearTimeout=="function"?clearTimeout:void 0,NA=typeof Promise=="function"?Promise:void 0,EB=typeof queueMicrotask=="function"?queueMicrotask:typeof NA<"u"?function(t){return NA.resolve(null).then(t).catch(jB)}:B0;function jB(t){setTimeout(function(){throw t})}function nx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pd(e)}function Xa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),fi="__reactFiber$"+Oc,Rd="__reactProps$"+Oc,na="__reactContainer$"+Oc,z0="__reactEvents$"+Oc,PB="__reactListeners$"+Oc,NB="__reactHandles$"+Oc;function Go(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[na]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=CA(t);t!==null;){if(r=t[fi])return r;t=CA(t)}return e}t=r,r=t.parentNode}return null}function Wf(t){return t=t[fi]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function tv(t){return t[Rd]||null}var U0=[],ll=-1;function bo(t){return{current:t}}function bt(t){0>ll||(t.current=U0[ll],U0[ll]=null,ll--)}function ht(t,e){ll++,U0[ll]=t.current,t.current=e}var fo={},Dr=bo(fo),rn=bo(!1),gs=fo;function zl(t,e){var r=t.type.contextTypes;if(!r)return fo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function pm(){bt(rn),bt(Dr)}function IA(t,e,r){if(Dr.current!==fo)throw Error(ce(168));ht(Dr,e),ht(rn,r)}function tR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,p5(t)||"Unknown",i));return Nt({},r,n)}function mm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fo,gs=Dr.current,ht(Dr,t),ht(rn,rn.current),!0}function OA(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=tR(t,e,gs),n.__reactInternalMemoizedMergedChildContext=t,bt(rn),bt(Dr),ht(Dr,t)):bt(rn),ht(rn,r)}var Fi=null,rv=!1,ix=!1;function rR(t){Fi===null?Fi=[t]:Fi.push(t)}function CB(t){rv=!0,rR(t)}function wo(){if(!ix&&Fi!==null){ix=!0;var t=0,e=it;try{var r=Fi;for(it=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fi=null,rv=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(t+1)),EO(K1,wo),i}finally{it=e,ix=!1}}return null}var cl=[],ul=0,gm=null,vm=0,Pn=[],Nn=0,vs=null,Bi=1,zi="";function Fo(t,e){cl[ul++]=vm,cl[ul++]=gm,gm=t,vm=e}function nR(t,e,r){Pn[Nn++]=Bi,Pn[Nn++]=zi,Pn[Nn++]=vs,vs=t;var n=Bi;t=zi;var i=32-ri(n)-1;n&=~(1<<i),r+=1;var a=32-ri(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Bi=1<<32-ri(e)+i|r<<i|n,zi=a+t}else Bi=1<<a|r<<i|n,zi=t}function Z1(t){t.return!==null&&(Fo(t,1),nR(t,1,0))}function e_(t){for(;t===gm;)gm=cl[--ul],cl[ul]=null,vm=cl[--ul],cl[ul]=null;for(;t===vs;)vs=Pn[--Nn],Pn[Nn]=null,zi=Pn[--Nn],Pn[Nn]=null,Bi=Pn[--Nn],Pn[Nn]=null}var pn=null,fn=null,St=!1,Jn=null;function iR(t,e){var r=On(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RA(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=Xa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vs!==null?{id:Bi,overflow:zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=On(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,pn=t,fn=null,!0):!1;default:return!1}}function K0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function q0(t){if(St){var e=fn;if(e){var r=e;if(!RA(t,e)){if(K0(t))throw Error(ce(418));e=Xa(r.nextSibling);var n=pn;e&&RA(t,e)?iR(n,r):(t.flags=t.flags&-4097|2,St=!1,pn=t)}}else{if(K0(t))throw Error(ce(418));t.flags=t.flags&-4097|2,St=!1,pn=t}}}function DA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Zh(t){if(t!==pn)return!1;if(!St)return DA(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F0(t.type,t.memoizedProps)),e&&(e=fn)){if(K0(t))throw aR(),Error(ce(418));for(;e;)iR(t,e),e=Xa(e.nextSibling)}if(DA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=Xa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?Xa(t.stateNode.nextSibling):null;return!0}function aR(){for(var t=fn;t;)t=Xa(t.nextSibling)}function Ul(){fn=pn=null,St=!1}function t_(t){Jn===null?Jn=[t]:Jn.push(t)}var IB=va.ReactCurrentBatchConfig;function _u(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function ep(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MA(t){var e=t._init;return e(t._payload)}function oR(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function r(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=eo(y,_),y.index=0,y.sibling=null,y}function a(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,b,j){return _===null||_.tag!==6?(_=dx(b,y.mode,j),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,j){var x=b.type;return x===nl?d(y,_,b.props.children,j,b.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ia&&MA(x)===_.type)?(j=i(_,b.props),j.ref=_u(y,_,b),j.return=y,j):(j=zp(b.type,b.key,b.props,null,y.mode,j),j.ref=_u(y,_,b),j.return=y,j)}function u(y,_,b,j){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=fx(b,y.mode,j),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function d(y,_,b,j,x){return _===null||_.tag!==7?(_=os(b,y.mode,j,x),_.return=y,_):(_=i(_,b),_.return=y,_)}function f(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=dx(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uh:return b=zp(_.type,_.key,_.props,null,y.mode,b),b.ref=_u(y,null,_),b.return=y,b;case rl:return _=fx(_,y.mode,b),_.return=y,_;case Ia:var j=_._init;return f(y,j(_._payload),b)}if(Lu(_)||vu(_))return _=os(_,y.mode,b,null),_.return=y,_;ep(y,_)}return null}function h(y,_,b,j){var x=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:s(y,_,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uh:return b.key===x?l(y,_,b,j):null;case rl:return b.key===x?u(y,_,b,j):null;case Ia:return x=b._init,h(y,_,x(b._payload),j)}if(Lu(b)||vu(b))return x!==null?null:d(y,_,b,j,null);ep(y,b)}return null}function m(y,_,b,j,x){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,s(_,y,""+j,x);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Uh:return y=y.get(j.key===null?b:j.key)||null,l(_,y,j,x);case rl:return y=y.get(j.key===null?b:j.key)||null,u(_,y,j,x);case Ia:var S=j._init;return m(y,_,b,S(j._payload),x)}if(Lu(j)||vu(j))return y=y.get(b)||null,d(_,y,j,x,null);ep(_,j)}return null}function g(y,_,b,j){for(var x=null,S=null,T=_,k=_=0,E=null;T!==null&&k<b.length;k++){T.index>k?(E=T,T=null):E=T.sibling;var I=h(y,T,b[k],j);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(y,T),_=a(I,_,k),S===null?x=I:S.sibling=I,S=I,T=E}if(k===b.length)return r(y,T),St&&Fo(y,k),x;if(T===null){for(;k<b.length;k++)T=f(y,b[k],j),T!==null&&(_=a(T,_,k),S===null?x=T:S.sibling=T,S=T);return St&&Fo(y,k),x}for(T=n(y,T);k<b.length;k++)E=m(T,y,k,b[k],j),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?k:E.key),_=a(E,_,k),S===null?x=E:S.sibling=E,S=E);return t&&T.forEach(function(O){return e(y,O)}),St&&Fo(y,k),x}function v(y,_,b,j){var x=vu(b);if(typeof x!="function")throw Error(ce(150));if(b=x.call(b),b==null)throw Error(ce(151));for(var S=x=null,T=_,k=_=0,E=null,I=b.next();T!==null&&!I.done;k++,I=b.next()){T.index>k?(E=T,T=null):E=T.sibling;var O=h(y,T,I.value,j);if(O===null){T===null&&(T=E);break}t&&T&&O.alternate===null&&e(y,T),_=a(O,_,k),S===null?x=O:S.sibling=O,S=O,T=E}if(I.done)return r(y,T),St&&Fo(y,k),x;if(T===null){for(;!I.done;k++,I=b.next())I=f(y,I.value,j),I!==null&&(_=a(I,_,k),S===null?x=I:S.sibling=I,S=I);return St&&Fo(y,k),x}for(T=n(y,T);!I.done;k++,I=b.next())I=m(T,y,k,I.value,j),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?k:I.key),_=a(I,_,k),S===null?x=I:S.sibling=I,S=I);return t&&T.forEach(function(P){return e(y,P)}),St&&Fo(y,k),x}function w(y,_,b,j){if(typeof b=="object"&&b!==null&&b.type===nl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Uh:e:{for(var x=b.key,S=_;S!==null;){if(S.key===x){if(x=b.type,x===nl){if(S.tag===7){r(y,S.sibling),_=i(S,b.props.children),_.return=y,y=_;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ia&&MA(x)===S.type){r(y,S.sibling),_=i(S,b.props),_.ref=_u(y,S,b),_.return=y,y=_;break e}r(y,S);break}else e(y,S);S=S.sibling}b.type===nl?(_=os(b.props.children,y.mode,j,b.key),_.return=y,y=_):(j=zp(b.type,b.key,b.props,null,y.mode,j),j.ref=_u(y,_,b),j.return=y,y=j)}return o(y);case rl:e:{for(S=b.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){r(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else e(y,_);_=_.sibling}_=fx(b,y.mode,j),_.return=y,y=_}return o(y);case Ia:return S=b._init,w(y,_,S(b._payload),j)}if(Lu(b))return g(y,_,b,j);if(vu(b))return v(y,_,b,j);ep(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(r(y,_.sibling),_=i(_,b),_.return=y,y=_):(r(y,_),_=dx(b,y.mode,j),_.return=y,y=_),o(y)):r(y,_)}return w}var Kl=oR(!0),sR=oR(!1),ym=bo(null),xm=null,dl=null,r_=null;function n_(){r_=dl=xm=null}function i_(t){var e=ym.current;bt(ym),t._currentValue=e}function W0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pl(t,e){xm=t,r_=dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(r_!==t)if(t={context:t,memoizedValue:e,next:null},dl===null){if(xm===null)throw Error(ce(308));dl=t,xm.dependencies={lanes:0,firstContext:t}}else dl=dl.next=t;return e}var Yo=null;function a_(t){Yo===null?Yo=[t]:Yo.push(t)}function lR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,a_(e)):(r.next=i.next,i.next=r),e.interleaved=r,ia(t,n)}function ia(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Oa=!1;function o_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ia(t,r)}return i=n.interleaved,i===null?(e.next=e,a_(n)):(e.next=i.next,i.next=e),n.interleaved=e,ia(t,r)}function Mp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q1(t,r)}}function $A(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function bm(t,e,r,n){var i=t.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,v=s;switch(h=e,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Nt({},f,h);break e;case 2:Oa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=f}}function LA(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Hf={},gi=bo(Hf),Dd=bo(Hf),Md=bo(Hf);function Xo(t){if(t===Hf)throw Error(ce(174));return t}function s_(t,e){switch(ht(Md,e),ht(Dd,t),ht(gi,Hf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A0(e,t)}bt(gi),ht(gi,e)}function ql(){bt(gi),bt(Dd),bt(Md)}function uR(t){Xo(Md.current);var e=Xo(gi.current),r=A0(e,t.type);e!==r&&(ht(Dd,t),ht(gi,r))}function l_(t){Dd.current===t&&(bt(gi),bt(Dd))}var Et=bo(0);function wm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ax=[];function c_(){for(var t=0;t<ax.length;t++)ax[t]._workInProgressVersionPrimary=null;ax.length=0}var $p=va.ReactCurrentDispatcher,ox=va.ReactCurrentBatchConfig,ys=0,Pt=null,Yt=null,nr=null,_m=!1,td=!1,$d=0,OB=0;function Tr(){throw Error(ce(321))}function u_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ai(t[r],e[r]))return!1;return!0}function d_(t,e,r,n,i,a){if(ys=a,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$p.current=t===null||t.memoizedState===null?$B:LB,t=r(n,i),td){a=0;do{if(td=!1,$d=0,25<=a)throw Error(ce(301));a+=1,nr=Yt=null,e.updateQueue=null,$p.current=VB,t=r(n,i)}while(td)}if($p.current=Sm,e=Yt!==null&&Yt.next!==null,ys=0,nr=Yt=Pt=null,_m=!1,e)throw Error(ce(300));return t}function f_(){var t=$d!==0;return $d=0,t}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Pt.memoizedState=nr=t:nr=nr.next=t,nr}function Vn(){if(Yt===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nr===null?Pt.memoizedState:nr.next;if(e!==null)nr=e,Yt=t;else{if(t===null)throw Error(ce(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nr===null?Pt.memoizedState=nr=t:nr=nr.next=t}return nr}function Ld(t,e){return typeof e=="function"?e(t):e}function sx(t){var e=Vn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var d=u.lane;if((ys&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Pt.lanes|=d,xs|=d}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,ai(n,e.memoizedState)||(Zr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Pt.lanes|=a,xs|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lx(t){var e=Vn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ai(a,e.memoizedState)||(Zr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function dR(){}function fR(t,e){var r=Pt,n=Vn(),i=e(),a=!ai(n.memoizedState,i);if(a&&(n.memoizedState=i,Zr=!0),n=n.queue,h_(mR.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,Vd(9,pR.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(ce(349));ys&30||hR(r,e,i)}return i}function hR(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pR(t,e,r,n){e.value=r,e.getSnapshot=n,gR(e)&&vR(t)}function mR(t,e,r){return r(function(){gR(e)&&vR(t)})}function gR(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ai(t,r)}catch{return!0}}function vR(t){var e=ia(t,1);e!==null&&ni(e,t,1,-1)}function VA(t){var e=di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:t},e.queue=t,t=t.dispatch=MB.bind(null,Pt,t),[e.memoizedState,t]}function Vd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yR(){return Vn().memoizedState}function Lp(t,e,r,n){var i=di();Pt.flags|=t,i.memoizedState=Vd(1|e,r,void 0,n===void 0?null:n)}function nv(t,e,r,n){var i=Vn();n=n===void 0?null:n;var a=void 0;if(Yt!==null){var o=Yt.memoizedState;if(a=o.destroy,n!==null&&u_(n,o.deps)){i.memoizedState=Vd(e,r,a,n);return}}Pt.flags|=t,i.memoizedState=Vd(1|e,r,a,n)}function FA(t,e){return Lp(8390656,8,t,e)}function h_(t,e){return nv(2048,8,t,e)}function xR(t,e){return nv(4,2,t,e)}function bR(t,e){return nv(4,4,t,e)}function wR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _R(t,e,r){return r=r!=null?r.concat([t]):null,nv(4,4,wR.bind(null,e,t),r)}function p_(){}function SR(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&u_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TR(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&u_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kR(t,e,r){return ys&21?(ai(r,e)||(r=NO(),Pt.lanes|=r,xs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=r)}function RB(t,e){var r=it;it=r!==0&&4>r?r:4,t(!0);var n=ox.transition;ox.transition={};try{t(!1),e()}finally{it=r,ox.transition=n}}function AR(){return Vn().memoizedState}function DB(t,e,r){var n=Za(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ER(t))jR(e,r);else if(r=lR(t,e,r,n),r!==null){var i=Ur();ni(r,t,n,i),PR(r,e,n)}}function MB(t,e,r){var n=Za(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ER(t))jR(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,ai(s,o)){var l=e.interleaved;l===null?(i.next=i,a_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=lR(t,e,i,n),r!==null&&(i=Ur(),ni(r,t,n,i),PR(r,e,n))}}function ER(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function jR(t,e){td=_m=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function PR(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q1(t,r)}}var Sm={readContext:Ln,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},$B={readContext:Ln,useCallback:function(t,e){return di().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:FA,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lp(4194308,4,wR.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lp(4,2,t,e)},useMemo:function(t,e){var r=di();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=di();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=DB.bind(null,Pt,t),[n.memoizedState,t]},useRef:function(t){var e=di();return t={current:t},e.memoizedState=t},useState:VA,useDebugValue:p_,useDeferredValue:function(t){return di().memoizedState=t},useTransition:function(){var t=VA(!1),e=t[0];return t=RB.bind(null,t[1]),di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pt,i=di();if(St){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),ar===null)throw Error(ce(349));ys&30||hR(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,FA(mR.bind(null,n,a,t),[t]),n.flags|=2048,Vd(9,pR.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=di(),e=ar.identifierPrefix;if(St){var r=zi,n=Bi;r=(n&~(1<<32-ri(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$d++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=OB++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LB={readContext:Ln,useCallback:SR,useContext:Ln,useEffect:h_,useImperativeHandle:_R,useInsertionEffect:xR,useLayoutEffect:bR,useMemo:TR,useReducer:sx,useRef:yR,useState:function(){return sx(Ld)},useDebugValue:p_,useDeferredValue:function(t){var e=Vn();return kR(e,Yt.memoizedState,t)},useTransition:function(){var t=sx(Ld)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:dR,useSyncExternalStore:fR,useId:AR,unstable_isNewReconciler:!1},VB={readContext:Ln,useCallback:SR,useContext:Ln,useEffect:h_,useImperativeHandle:_R,useInsertionEffect:xR,useLayoutEffect:bR,useMemo:TR,useReducer:lx,useRef:yR,useState:function(){return lx(Ld)},useDebugValue:p_,useDeferredValue:function(t){var e=Vn();return Yt===null?e.memoizedState=t:kR(e,Yt.memoizedState,t)},useTransition:function(){var t=lx(Ld)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:dR,useSyncExternalStore:fR,useId:AR,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function H0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Nt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var iv={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=Za(t),a=Qi(n,i);a.payload=e,r!=null&&(a.callback=r),e=Qa(t,a,i),e!==null&&(ni(e,t,i,n),Mp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=Za(t),a=Qi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Qa(t,a,i),e!==null&&(ni(e,t,i,n),Mp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=Za(t),i=Qi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Qa(t,i,n),e!==null&&(ni(e,t,n,r),Mp(e,t,n))}};function BA(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Cd(r,n)||!Cd(i,a):!0}function NR(t,e,r){var n=!1,i=fo,a=e.contextType;return typeof a=="object"&&a!==null?a=Ln(a):(i=nn(e)?gs:Dr.current,n=e.contextTypes,a=(n=n!=null)?zl(t,i):fo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function zA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function G0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},o_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ln(a):(a=nn(e)?gs:Dr.current,i.context=zl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(H0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&iv.enqueueReplaceState(i,i.state,null),bm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e){try{var r="",n=e;do r+=h5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function cx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Y0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var FB=typeof WeakMap=="function"?WeakMap:Map;function CR(t,e,r){r=Qi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){km||(km=!0,ab=n),Y0(t,e)},r}function IR(t,e,r){r=Qi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Y0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Y0(t,e),typeof n!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function UA(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new FB;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=ez.bind(null,t,e,r),e.then(t,t))}function KA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qA(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qi(-1,1),e.tag=2,Qa(r,e,1))),r.lanes|=1),t)}var BB=va.ReactCurrentOwner,Zr=!1;function $r(t,e,r,n){e.child=t===null?sR(e,null,r,n):Kl(e,t.child,r,n)}function WA(t,e,r,n,i){r=r.render;var a=e.ref;return Pl(e,i),n=d_(t,e,r,n,a,i),r=f_(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(St&&r&&Z1(e),e.flags|=1,$r(t,e,n,i),e.child)}function HA(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!__(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,OR(t,e,a,n,i)):(t=zp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Cd,r(o,n)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=eo(a,n),t.ref=e.ref,t.return=e,e.child=t}function OR(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Cd(a,n)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,aa(t,e,i)}return X0(t,e,r,n,i)}function RR(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(hl,cn),cn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(hl,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ht(hl,cn),cn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ht(hl,cn),cn|=n;return $r(t,e,i,r),e.child}function DR(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function X0(t,e,r,n,i){var a=nn(r)?gs:Dr.current;return a=zl(e,a),Pl(e,i),r=d_(t,e,r,n,a,i),n=f_(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(St&&n&&Z1(e),e.flags|=1,$r(t,e,r,i),e.child)}function GA(t,e,r,n,i){if(nn(r)){var a=!0;mm(e)}else a=!1;if(Pl(e,i),e.stateNode===null)Vp(t,e),NR(e,r,n),G0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=nn(r)?gs:Dr.current,u=zl(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&zA(e,o,n,u),Oa=!1;var h=e.memoizedState;o.state=h,bm(e,n,o,i),l=e.memoizedState,s!==n||h!==l||rn.current||Oa?(typeof d=="function"&&(H0(e,r,d,n),l=e.memoizedState),(s=Oa||BA(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,cR(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Yn(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=nn(r)?gs:Dr.current,l=zl(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&zA(e,o,n,l),Oa=!1,h=e.memoizedState,o.state=h,bm(e,n,o,i);var g=e.memoizedState;s!==f||h!==g||rn.current||Oa?(typeof m=="function"&&(H0(e,r,m,n),g=e.memoizedState),(u=Oa||BA(e,r,u,n,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Q0(t,e,r,n,a,i)}function Q0(t,e,r,n,i,a){DR(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&OA(e,r,!1),aa(t,e,a);n=e.stateNode,BB.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,a),e.child=Kl(e,null,s,a)):$r(t,e,s,a),e.memoizedState=n.state,i&&OA(e,r,!0),e.child}function MR(t){var e=t.stateNode;e.pendingContext?IA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IA(t,e.context,!1),s_(t,e.containerInfo)}function YA(t,e,r,n,i){return Ul(),t_(i),e.flags|=256,$r(t,e,r,n),e.child}var J0={dehydrated:null,treeContext:null,retryLane:0};function Z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function $R(t,e,r){var n=e.pendingProps,i=Et.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ht(Et,i&1),t===null)return q0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sv(o,n,0,null),t=os(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Z0(r),e.memoizedState=J0,t):m_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return zB(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=eo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=eo(s,a):(a=os(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Z0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=J0,n}return a=t.child,t=a.sibling,n=eo(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function m_(t,e){return e=sv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tp(t,e,r,n){return n!==null&&t_(n),Kl(e,t.child,null,r),t=m_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zB(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=cx(Error(ce(422))),tp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=sv({mode:"visible",children:n.children},i,0,null),a=os(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=Z0(o),e.memoizedState=J0,a);if(!(e.mode&1))return tp(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ce(419)),n=cx(a,n,void 0),tp(t,e,o,n)}if(s=(o&t.childLanes)!==0,Zr||s){if(n=ar,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ia(t,i),ni(n,t,i,-1))}return w_(),n=cx(Error(ce(421))),tp(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tz.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,fn=Xa(i.nextSibling),pn=e,St=!0,Jn=null,t!==null&&(Pn[Nn++]=Bi,Pn[Nn++]=zi,Pn[Nn++]=vs,Bi=t.id,zi=t.overflow,vs=e),e=m_(e,n.children),e.flags|=4096,e)}function XA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),W0(t.return,e,r)}function ux(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function LR(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if($r(t,e,n.children,r),n=Et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XA(t,r,e);else if(t.tag===19)XA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ht(Et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&wm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ux(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ux(e,!0,r,null,a);break;case"together":ux(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=eo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=eo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function UB(t,e,r){switch(e.tag){case 3:MR(e),Ul();break;case 5:uR(e);break;case 1:nn(e.type)&&mm(e);break;case 4:s_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ht(ym,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ht(Et,Et.current&1),e.flags|=128,null):r&e.child.childLanes?$R(t,e,r):(ht(Et,Et.current&1),t=aa(t,e,r),t!==null?t.sibling:null);ht(Et,Et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return LR(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ht(Et,Et.current),n)break;return null;case 22:case 23:return e.lanes=0,RR(t,e,r)}return aa(t,e,r)}var VR,eb,FR,BR;VR=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eb=function(){};FR=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Xo(gi.current);var a=null;switch(r){case"input":i=_0(t,i),n=_0(t,n),a=[];break;case"select":i=Nt({},i,{value:void 0}),n=Nt({},n,{value:void 0}),a=[];break;case"textarea":i=k0(t,i),n=k0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hm)}E0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Td.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Td.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};BR=function(t,e,r,n){r!==n&&(e.flags|=4)};function Su(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function KB(t,e,r){var n=e.pendingProps;switch(e_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return nn(e.type)&&pm(),kr(e),null;case 3:return n=e.stateNode,ql(),bt(rn),bt(Dr),c_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(lb(Jn),Jn=null))),eb(t,e),kr(e),null;case 5:l_(e);var i=Xo(Md.current);if(r=e.type,t!==null&&e.stateNode!=null)FR(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return kr(e),null}if(t=Xo(gi.current),Zh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fi]=e,n[Rd]=a,t=(e.mode&1)!==0,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(i=0;i<Fu.length;i++)gt(Fu[i],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":aA(n,a),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},gt("invalid",n);break;case"textarea":sA(n,a),gt("invalid",n)}E0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Jh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Jh(n.textContent,s,t),i=["children",""+s]):Td.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&gt("scroll",n)}switch(r){case"input":Kh(n),oA(n,a,!0);break;case"textarea":Kh(n),lA(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[fi]=e,t[Rd]=n,VR(t,e,!1,!1),e.stateNode=t;e:{switch(o=j0(r,n),r){case"dialog":gt("cancel",t),gt("close",t),i=n;break;case"iframe":case"object":case"embed":gt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fu.length;i++)gt(Fu[i],t);i=n;break;case"source":gt("error",t),i=n;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=n;break;case"details":gt("toggle",t),i=n;break;case"input":aA(t,n),i=_0(t,n),gt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Nt({},n,{value:void 0}),gt("invalid",t);break;case"textarea":sA(t,n),i=k0(t,n),gt("invalid",t);break;default:i=n}E0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?yO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&kd(t,l):typeof l=="number"&&kd(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Td.hasOwnProperty(a)?l!=null&&a==="onScroll"&&gt("scroll",t):l!=null&&V1(t,a,l,o))}switch(r){case"input":Kh(t),oA(t,n,!1);break;case"textarea":Kh(t),lA(t);break;case"option":n.value!=null&&t.setAttribute("value",""+uo(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?kl(t,!!n.multiple,a,!1):n.defaultValue!=null&&kl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)BR(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Xo(Md.current),Xo(gi.current),Zh(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(a=n.nodeValue!==r)&&(t=pn,t!==null))switch(t.tag){case 3:Jh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return kr(e),null;case 13:if(bt(Et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&fn!==null&&e.mode&1&&!(e.flags&128))aR(),Ul(),e.flags|=98560,a=!1;else if(a=Zh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[fi]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),a=!1}else Jn!==null&&(lb(Jn),Jn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Qt===0&&(Qt=3):w_())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return ql(),eb(t,e),t===null&&Id(e.stateNode.containerInfo),kr(e),null;case 10:return i_(e.type._context),kr(e),null;case 17:return nn(e.type)&&pm(),kr(e),null;case 19:if(bt(Et),a=e.memoizedState,a===null)return kr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Su(a,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wm(t),o!==null){for(e.flags|=128,Su(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ht(Et,Et.current&1|2),e.child}t=t.sibling}a.tail!==null&&Vt()>Hl&&(e.flags|=128,n=!0,Su(a,!1),e.lanes=4194304)}else{if(!n)if(t=wm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Su(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!St)return kr(e),null}else 2*Vt()-a.renderingStartTime>Hl&&r!==1073741824&&(e.flags|=128,n=!0,Su(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Vt(),e.sibling=null,r=Et.current,ht(Et,n?r&1|2:r&1),e):(kr(e),null);case 22:case 23:return b_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cn&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function qB(t,e){switch(e_(e),e.tag){case 1:return nn(e.type)&&pm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),bt(rn),bt(Dr),c_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l_(e),null;case 13:if(bt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Et),null;case 4:return ql(),null;case 10:return i_(e.type._context),null;case 22:case 23:return b_(),null;case 24:return null;default:return null}}var rp=!1,Pr=!1,WB=typeof WeakSet=="function"?WeakSet:Set,ve=null;function fl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(t,e,n)}else r.current=null}function tb(t,e,r){try{r()}catch(n){Rt(t,e,n)}}var QA=!1;function HB(t,e){if(L0=um,t=WO(),J1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(V0={focusedElem:t,selectionRange:r},um=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yn(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(j){Rt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return g=QA,QA=!1,g}function rd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&tb(e,r,a)}i=i.next}while(i!==n)}}function av(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rb(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zR(t){var e=t.alternate;e!==null&&(t.alternate=null,zR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[Rd],delete e[z0],delete e[PB],delete e[NB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UR(t){return t.tag===5||t.tag===3||t.tag===4}function JA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hm));else if(n!==4&&(t=t.child,t!==null))for(nb(t,e,r),t=t.sibling;t!==null;)nb(t,e,r),t=t.sibling}function ib(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ib(t,e,r),t=t.sibling;t!==null;)ib(t,e,r),t=t.sibling}var fr=null,Xn=!1;function ja(t,e,r){for(r=r.child;r!==null;)KR(t,e,r),r=r.sibling}function KR(t,e,r){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Qg,r)}catch{}switch(r.tag){case 5:Pr||fl(r,e);case 6:var n=fr,i=Xn;fr=null,ja(t,e,r),fr=n,Xn=i,fr!==null&&(Xn?(t=fr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(Xn?(t=fr,r=r.stateNode,t.nodeType===8?nx(t.parentNode,r):t.nodeType===1&&nx(t,r),Pd(t)):nx(fr,r.stateNode));break;case 4:n=fr,i=Xn,fr=r.stateNode.containerInfo,Xn=!0,ja(t,e,r),fr=n,Xn=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&tb(r,e,o),i=i.next}while(i!==n)}ja(t,e,r);break;case 1:if(!Pr&&(fl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Rt(r,e,s)}ja(t,e,r);break;case 21:ja(t,e,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,ja(t,e,r),Pr=n):ja(t,e,r);break;default:ja(t,e,r)}}function ZA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new WB),e.forEach(function(n){var i=rz.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:fr=s.stateNode,Xn=!1;break e;case 3:fr=s.stateNode.containerInfo,Xn=!0;break e;case 4:fr=s.stateNode.containerInfo,Xn=!0;break e}s=s.return}if(fr===null)throw Error(ce(160));KR(a,o,i),fr=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qR(e,t),e=e.sibling}function qR(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ui(t),n&4){try{rd(3,t,t.return),av(3,t)}catch(v){Rt(t,t.return,v)}try{rd(5,t,t.return)}catch(v){Rt(t,t.return,v)}}break;case 1:qn(e,t),ui(t),n&512&&r!==null&&fl(r,r.return);break;case 5:if(qn(e,t),ui(t),n&512&&r!==null&&fl(r,r.return),t.flags&32){var i=t.stateNode;try{kd(i,"")}catch(v){Rt(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&hO(i,a),j0(s,o);var u=j0(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?yO(i,f):d==="dangerouslySetInnerHTML"?gO(i,f):d==="children"?kd(i,f):V1(i,d,f,u)}switch(s){case"input":S0(i,a);break;case"textarea":pO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?kl(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?kl(i,!!a.multiple,a.defaultValue,!0):kl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Rd]=a}catch(v){Rt(t,t.return,v)}}break;case 6:if(qn(e,t),ui(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Rt(t,t.return,v)}}break;case 3:if(qn(e,t),ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pd(e.containerInfo)}catch(v){Rt(t,t.return,v)}break;case 4:qn(e,t),ui(t);break;case 13:qn(e,t),ui(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(y_=Vt())),n&4&&ZA(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Pr=(u=Pr)||d,qn(e,t),Pr=u):qn(e,t),ui(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,m=h.child,h.tag){case 0:case 11:case 14:case 15:rd(4,h,h.return);break;case 1:fl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Rt(n,r,v)}}break;case 5:fl(h,h.return);break;case 22:if(h.memoizedState!==null){tE(f);continue}}m!==null?(m.return=h,ve=m):tE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=vO("display",o))}catch(v){Rt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Rt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(e,t),ui(t),n&4&&ZA(t);break;case 21:break;default:qn(e,t),ui(t)}}function ui(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(UR(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(kd(i,""),n.flags&=-33);var a=JA(t);ib(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=JA(t);nb(t,s,o);break;default:throw Error(ce(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GB(t,e,r){ve=t,WR(t)}function WR(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||rp;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Pr;s=rp;var u=Pr;if(rp=o,(Pr=l)&&!u)for(ve=i;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?rE(i):l!==null?(l.return=o,ve=l):rE(i);for(;a!==null;)ve=a,WR(a),a=a.sibling;ve=i,rp=s,Pr=u}eE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ve=a):eE(t)}}function eE(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||av(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Yn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&LA(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}LA(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Pr||e.flags&512&&rb(e)}catch(h){Rt(e,e.return,h)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function tE(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function rE(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{av(4,e)}catch(l){Rt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Rt(e,i,l)}}var a=e.return;try{rb(e)}catch(l){Rt(e,a,l)}break;case 5:var o=e.return;try{rb(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){ve=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ve=s;break}ve=e.return}}var YB=Math.ceil,Tm=va.ReactCurrentDispatcher,g_=va.ReactCurrentOwner,Dn=va.ReactCurrentBatchConfig,Qe=0,ar=null,Ut=null,gr=0,cn=0,hl=bo(0),Qt=0,Fd=null,xs=0,ov=0,v_=0,nd=null,Xr=null,y_=0,Hl=1/0,Li=null,km=!1,ab=null,Ja=null,np=!1,Ua=null,Am=0,id=0,ob=null,Fp=-1,Bp=0;function Ur(){return Qe&6?Vt():Fp!==-1?Fp:Fp=Vt()}function Za(t){return t.mode&1?Qe&2&&gr!==0?gr&-gr:IB.transition!==null?(Bp===0&&(Bp=NO()),Bp):(t=it,t!==0||(t=window.event,t=t===void 0?16:$O(t.type)),t):1}function ni(t,e,r,n){if(50<id)throw id=0,ob=null,Error(ce(185));Kf(t,r,n),(!(Qe&2)||t!==ar)&&(t===ar&&(!(Qe&2)&&(ov|=r),Qt===4&&Ma(t,gr)),an(t,n),r===1&&Qe===0&&!(e.mode&1)&&(Hl=Vt()+500,rv&&wo()))}function an(t,e){var r=t.callbackNode;I5(t,e);var n=cm(t,t===ar?gr:0);if(n===0)r!==null&&dA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&dA(r),e===1)t.tag===0?CB(nE.bind(null,t)):rR(nE.bind(null,t)),EB(function(){!(Qe&6)&&wo()}),r=null;else{switch(CO(n)){case 1:r=K1;break;case 4:r=jO;break;case 16:r=lm;break;case 536870912:r=PO;break;default:r=lm}r=eD(r,HR.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function HR(t,e){if(Fp=-1,Bp=0,Qe&6)throw Error(ce(327));var r=t.callbackNode;if(Nl()&&t.callbackNode!==r)return null;var n=cm(t,t===ar?gr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Em(t,n);else{e=n;var i=Qe;Qe|=2;var a=YR();(ar!==t||gr!==e)&&(Li=null,Hl=Vt()+500,as(t,e));do try{JB();break}catch(s){GR(t,s)}while(!0);n_(),Tm.current=a,Qe=i,Ut!==null?e=0:(ar=null,gr=0,e=Qt)}if(e!==0){if(e===2&&(i=O0(t),i!==0&&(n=i,e=sb(t,i))),e===1)throw r=Fd,as(t,0),Ma(t,n),an(t,Vt()),r;if(e===6)Ma(t,n);else{if(i=t.current.alternate,!(n&30)&&!XB(i)&&(e=Em(t,n),e===2&&(a=O0(t),a!==0&&(n=a,e=sb(t,a))),e===1))throw r=Fd,as(t,0),Ma(t,n),an(t,Vt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:Bo(t,Xr,Li);break;case 3:if(Ma(t,n),(n&130023424)===n&&(e=y_+500-Vt(),10<e)){if(cm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=B0(Bo.bind(null,t,Xr,Li),e);break}Bo(t,Xr,Li);break;case 4:if(Ma(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ri(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YB(n/1960))-n,10<n){t.timeoutHandle=B0(Bo.bind(null,t,Xr,Li),n);break}Bo(t,Xr,Li);break;case 5:Bo(t,Xr,Li);break;default:throw Error(ce(329))}}}return an(t,Vt()),t.callbackNode===r?HR.bind(null,t):null}function sb(t,e){var r=nd;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Em(t,e),t!==2&&(e=Xr,Xr=r,e!==null&&lb(e)),t}function lb(t){Xr===null?Xr=t:Xr.push.apply(Xr,t)}function XB(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ai(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(t,e){for(e&=~v_,e&=~ov,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ri(e),n=1<<r;t[r]=-1,e&=~n}}function nE(t){if(Qe&6)throw Error(ce(327));Nl();var e=cm(t,0);if(!(e&1))return an(t,Vt()),null;var r=Em(t,e);if(t.tag!==0&&r===2){var n=O0(t);n!==0&&(e=n,r=sb(t,n))}if(r===1)throw r=Fd,as(t,0),Ma(t,e),an(t,Vt()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bo(t,Xr,Li),an(t,Vt()),null}function x_(t,e){var r=Qe;Qe|=1;try{return t(e)}finally{Qe=r,Qe===0&&(Hl=Vt()+500,rv&&wo())}}function bs(t){Ua!==null&&Ua.tag===0&&!(Qe&6)&&Nl();var e=Qe;Qe|=1;var r=Dn.transition,n=it;try{if(Dn.transition=null,it=1,t)return t()}finally{it=n,Dn.transition=r,Qe=e,!(Qe&6)&&wo()}}function b_(){cn=hl.current,bt(hl)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AB(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(e_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pm();break;case 3:ql(),bt(rn),bt(Dr),c_();break;case 5:l_(n);break;case 4:ql();break;case 13:bt(Et);break;case 19:bt(Et);break;case 10:i_(n.type._context);break;case 22:case 23:b_()}r=r.return}if(ar=t,Ut=t=eo(t.current,null),gr=cn=e,Qt=0,Fd=null,v_=ov=xs=0,Xr=nd=null,Yo!==null){for(e=0;e<Yo.length;e++)if(r=Yo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Yo=null}return t}function GR(t,e){do{var r=Ut;try{if(n_(),$p.current=Sm,_m){for(var n=Pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_m=!1}if(ys=0,nr=Yt=Pt=null,td=!1,$d=0,g_.current=null,r===null||r.return===null){Qt=1,Fd=e,Ut=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=gr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=KA(o);if(m!==null){m.flags&=-257,qA(m,o,s,a,e),m.mode&1&&UA(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){UA(a,u,e),w_();break e}l=Error(ce(426))}}else if(St&&s.mode&1){var w=KA(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qA(w,o,s,a,e),t_(Wl(l,s));break e}}a=l=Wl(l,s),Qt!==4&&(Qt=2),nd===null?nd=[a]:nd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=CR(a,l,e);$A(a,y);break e;case 1:s=l;var _=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ja===null||!Ja.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=IR(a,s,e);$A(a,j);break e}}a=a.return}while(a!==null)}QR(r)}catch(x){e=x,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function YR(){var t=Tm.current;return Tm.current=Sm,t===null?Sm:t}function w_(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ar===null||!(xs&268435455)&&!(ov&268435455)||Ma(ar,gr)}function Em(t,e){var r=Qe;Qe|=2;var n=YR();(ar!==t||gr!==e)&&(Li=null,as(t,e));do try{QB();break}catch(i){GR(t,i)}while(!0);if(n_(),Qe=r,Tm.current=n,Ut!==null)throw Error(ce(261));return ar=null,gr=0,Qt}function QB(){for(;Ut!==null;)XR(Ut)}function JB(){for(;Ut!==null&&!S5();)XR(Ut)}function XR(t){var e=ZR(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?QR(t):Ut=e,g_.current=null}function QR(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qB(r,e),r!==null){r.flags&=32767,Ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Ut=null;return}}else if(r=KB(r,e,cn),r!==null){Ut=r;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Qt===0&&(Qt=5)}function Bo(t,e,r){var n=it,i=Dn.transition;try{Dn.transition=null,it=1,ZB(t,e,r,n)}finally{Dn.transition=i,it=n}return null}function ZB(t,e,r,n){do Nl();while(Ua!==null);if(Qe&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(O5(t,a),t===ar&&(Ut=ar=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||np||(np=!0,eD(lm,function(){return Nl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dn.transition,Dn.transition=null;var o=it;it=1;var s=Qe;Qe|=4,g_.current=null,HB(t,r),qR(r,t),xB(V0),um=!!L0,V0=L0=null,t.current=r,GB(r),T5(),Qe=s,it=o,Dn.transition=a}else t.current=r;if(np&&(np=!1,Ua=t,Am=i),a=t.pendingLanes,a===0&&(Ja=null),E5(r.stateNode),an(t,Vt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(km)throw km=!1,t=ab,ab=null,t;return Am&1&&t.tag!==0&&Nl(),a=t.pendingLanes,a&1?t===ob?id++:(id=0,ob=t):id=0,wo(),null}function Nl(){if(Ua!==null){var t=CO(Am),e=Dn.transition,r=it;try{if(Dn.transition=null,it=16>t?16:t,Ua===null)var n=!1;else{if(t=Ua,Ua=null,Am=0,Qe&6)throw Error(ce(331));var i=Qe;for(Qe|=4,ve=t.current;ve!==null;){var a=ve,o=a.child;if(ve.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:rd(8,d,a)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,m=d.return;if(zR(d),d===u){ve=null;break}if(h!==null){h.return=m,ve=h;break}ve=m}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ve=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ve=o;else e:for(;ve!==null;){if(a=ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rd(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ve=y;break e}ve=a.return}}var _=t.current;for(ve=_;ve!==null;){o=ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ve=b;else e:for(o=_;ve!==null;){if(s=ve,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:av(9,s)}}catch(x){Rt(s,s.return,x)}if(s===o){ve=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,ve=j;break e}ve=s.return}}if(Qe=i,wo(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Qg,t)}catch{}n=!0}return n}finally{it=r,Dn.transition=e}}return!1}function iE(t,e,r){e=Wl(r,e),e=CR(t,e,1),t=Qa(t,e,1),e=Ur(),t!==null&&(Kf(t,1,e),an(t,e))}function Rt(t,e,r){if(t.tag===3)iE(t,t,r);else for(;e!==null;){if(e.tag===3){iE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ja===null||!Ja.has(n))){t=Wl(r,t),t=IR(e,t,1),e=Qa(e,t,1),t=Ur(),e!==null&&(Kf(e,1,t),an(e,t));break}}e=e.return}}function ez(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(gr&r)===r&&(Qt===4||Qt===3&&(gr&130023424)===gr&&500>Vt()-y_?as(t,0):v_|=r),an(t,e)}function JR(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var r=Ur();t=ia(t,e),t!==null&&(Kf(t,e,r),an(t,r))}function tz(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JR(t,r)}function rz(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),JR(t,r)}var ZR;ZR=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)Zr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Zr=!1,UB(t,e,r);Zr=!!(t.flags&131072)}else Zr=!1,St&&e.flags&1048576&&nR(e,vm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vp(t,e),t=e.pendingProps;var i=zl(e,Dr.current);Pl(e,r),i=d_(null,e,n,t,i,r);var a=f_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(n)?(a=!0,mm(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o_(e),i.updater=iv,e.stateNode=i,i._reactInternals=e,G0(e,n,t,r),e=Q0(null,e,n,!0,a,r)):(e.tag=0,St&&a&&Z1(e),$r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=iz(n),t=Yn(n,t),i){case 0:e=X0(null,e,n,t,r);break e;case 1:e=GA(null,e,n,t,r);break e;case 11:e=WA(null,e,n,t,r);break e;case 14:e=HA(null,e,n,Yn(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yn(n,i),X0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yn(n,i),GA(t,e,n,i,r);case 3:e:{if(MR(e),t===null)throw Error(ce(387));n=e.pendingProps,a=e.memoizedState,i=a.element,cR(t,e),bm(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Wl(Error(ce(423)),e),e=YA(t,e,n,r,i);break e}else if(n!==i){i=Wl(Error(ce(424)),e),e=YA(t,e,n,r,i);break e}else for(fn=Xa(e.stateNode.containerInfo.firstChild),pn=e,St=!0,Jn=null,r=sR(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ul(),n===i){e=aa(t,e,r);break e}$r(t,e,n,r)}e=e.child}return e;case 5:return uR(e),t===null&&q0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,F0(n,i)?o=null:a!==null&&F0(n,a)&&(e.flags|=32),DR(t,e),$r(t,e,o,r),e.child;case 6:return t===null&&q0(e),null;case 13:return $R(t,e,r);case 4:return s_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kl(e,null,n,r):$r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yn(n,i),WA(t,e,n,i,r);case 7:return $r(t,e,e.pendingProps,r),e.child;case 8:return $r(t,e,e.pendingProps.children,r),e.child;case 12:return $r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ht(ym,n._currentValue),n._currentValue=o,a!==null)if(ai(a.value,o)){if(a.children===i.children&&!rn.current){e=aa(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Qi(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),W0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ce(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),W0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}$r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Pl(e,r),i=Ln(i),n=n(i),e.flags|=1,$r(t,e,n,r),e.child;case 14:return n=e.type,i=Yn(n,e.pendingProps),i=Yn(n.type,i),HA(t,e,n,i,r);case 15:return OR(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yn(n,i),Vp(t,e),e.tag=1,nn(n)?(t=!0,mm(e)):t=!1,Pl(e,r),NR(e,n,i),G0(e,n,i,r),Q0(null,e,n,!0,t,r);case 19:return LR(t,e,r);case 22:return RR(t,e,r)}throw Error(ce(156,e.tag))};function eD(t,e){return EO(t,e)}function nz(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,r,n){return new nz(t,e,r,n)}function __(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iz(t){if(typeof t=="function")return __(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B1)return 11;if(t===z1)return 14}return 2}function eo(t,e){var r=t.alternate;return r===null?(r=On(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")__(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return os(r.children,i,a,e);case F1:o=8,i|=8;break;case y0:return t=On(12,r,e,i|2),t.elementType=y0,t.lanes=a,t;case x0:return t=On(13,r,e,i),t.elementType=x0,t.lanes=a,t;case b0:return t=On(19,r,e,i),t.elementType=b0,t.lanes=a,t;case uO:return sv(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lO:o=10;break e;case cO:o=9;break e;case B1:o=11;break e;case z1:o=14;break e;case Ia:o=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=On(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function os(t,e,r,n){return t=On(7,t,n,e),t.lanes=r,t}function sv(t,e,r,n){return t=On(22,t,n,e),t.elementType=uO,t.lanes=r,t.stateNode={isHidden:!1},t}function dx(t,e,r){return t=On(6,t,null,e),t.lanes=r,t}function fx(t,e,r){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function az(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wy(0),this.expirationTimes=Wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function S_(t,e,r,n,i,a,o,s,l){return t=new az(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=On(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},o_(a),t}function oz(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tD(t){if(!t)return fo;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(nn(r))return tR(t,r,e)}return e}function rD(t,e,r,n,i,a,o,s,l){return t=S_(r,n,!0,t,i,a,o,s,l),t.context=tD(null),r=t.current,n=Ur(),i=Za(r),a=Qi(n,i),a.callback=e??null,Qa(r,a,i),t.current.lanes=i,Kf(t,i,n),an(t,n),t}function lv(t,e,r,n){var i=e.current,a=Ur(),o=Za(i);return r=tD(r),e.context===null?e.context=r:e.pendingContext=r,e=Qi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qa(i,e,o),t!==null&&(ni(t,i,o,a),Mp(t,i,o)),o}function jm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function T_(t,e){aE(t,e),(t=t.alternate)&&aE(t,e)}function sz(){return null}var nD=typeof reportError=="function"?reportError:function(t){console.error(t)};function k_(t){this._internalRoot=t}cv.prototype.render=k_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));lv(t,e,null,null)};cv.prototype.unmount=k_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){lv(null,t,null,null)}),e[na]=null}};function cv(t){this._internalRoot=t}cv.prototype.unstable_scheduleHydration=function(t){if(t){var e=RO();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Da.length&&e!==0&&e<Da[r].priority;r++);Da.splice(r,0,t),r===0&&MO(t)}};function A_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oE(){}function lz(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=jm(o);a.call(u)}}var o=rD(e,n,t,0,null,!1,!1,"",oE);return t._reactRootContainer=o,t[na]=o.current,Id(t.nodeType===8?t.parentNode:t),bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=jm(l);s.call(u)}}var l=S_(t,0,!1,null,null,!1,!1,"",oE);return t._reactRootContainer=l,t[na]=l.current,Id(t.nodeType===8?t.parentNode:t),bs(function(){lv(e,l,r,n)}),l}function dv(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=jm(o);s.call(l)}}lv(e,o,t,i)}else o=lz(r,e,t,i,n);return jm(o)}IO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Vu(e.pendingLanes);r!==0&&(q1(e,r|1),an(e,Vt()),!(Qe&6)&&(Hl=Vt()+500,wo()))}break;case 13:bs(function(){var n=ia(t,1);if(n!==null){var i=Ur();ni(n,t,1,i)}}),T_(t,1)}};W1=function(t){if(t.tag===13){var e=ia(t,134217728);if(e!==null){var r=Ur();ni(e,t,134217728,r)}T_(t,134217728)}};OO=function(t){if(t.tag===13){var e=Za(t),r=ia(t,e);if(r!==null){var n=Ur();ni(r,t,e,n)}T_(t,e)}};RO=function(){return it};DO=function(t,e){var r=it;try{return it=t,e()}finally{it=r}};N0=function(t,e,r){switch(e){case"input":if(S0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=tv(n);if(!i)throw Error(ce(90));fO(n),S0(n,i)}}}break;case"textarea":pO(t,r);break;case"select":e=r.value,e!=null&&kl(t,!!r.multiple,e,!1)}};wO=x_;_O=bs;var cz={usingClientEntryPoint:!1,Events:[Wf,sl,tv,xO,bO,x_]},Tu={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uz={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kO(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||sz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{Qg=ip.inject(uz),mi=ip}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cz;xn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A_(e))throw Error(ce(200));return oz(t,e,null,r)};xn.createRoot=function(t,e){if(!A_(t))throw Error(ce(299));var r=!1,n="",i=nD;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=S_(t,1,!1,null,null,r,!1,n,i),t[na]=e.current,Id(t.nodeType===8?t.parentNode:t),new k_(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=kO(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return bs(t)};xn.hydrate=function(t,e,r){if(!uv(e))throw Error(ce(200));return dv(null,t,e,!0,r)};xn.hydrateRoot=function(t,e,r){if(!A_(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=nD;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=rD(e,null,t,1,r??null,i,!1,a,o),t[na]=e.current,Id(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new cv(e)};xn.render=function(t,e,r){if(!uv(e))throw Error(ce(200));return dv(null,t,e,!1,r)};xn.unmountComponentAtNode=function(t){if(!uv(t))throw Error(ce(40));return t._reactRootContainer?(bs(function(){dv(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};xn.unstable_batchedUpdates=x_;xn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!uv(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return dv(t,e,r,!1,n)};xn.version="18.3.1-next-f1338f8080-20240426";function iD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iD)}catch(t){console.error(t)}}iD(),iO.exports=xn;var aD=iO.exports;const dz=nt(aD);var sE=aD;g0.createRoot=sE.createRoot,g0.hydrateRoot=sE.hydrateRoot;var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},fz=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},sD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),n.push(r[d],r[f],r[h],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new hz;const h=a<<2|s>>4;if(n.push(h),u!==64){const m=s<<4&240|u>>2;if(n.push(m),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pz=function(t){const e=oD(t);return sD.encodeByteArray(e,!0)},Pm=function(t){return pz(t).replace(/\./g,"")},lD=function(t){try{return sD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=()=>mz().__FIREBASE_DEFAULTS__,vz=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lD(t[1]);return e&&JSON.parse(e)},fv=()=>{try{return gz()||vz()||yz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cD=t=>{var e,r;return(r=(e=fv())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},xz=t=>{const e=cD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},uD=()=>{var t;return(t=fv())===null||t===void 0?void 0:t.config},dD=t=>{var e;return(e=fv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pm(JSON.stringify(r)),Pm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function Sz(){var t;const e=(t=fv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Az(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ez(){const t=Mr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jz(){return!Sz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pz(){try{return typeof indexedDB=="object"}catch{return!1}}function Nz(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="FirebaseError";class ya extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Cz,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf.prototype.create)}}class Gf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Iz(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ya(i,s,n)}}function Iz(t,e){return t.replace(Oz,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Oz=/\{\$([^}]+)}/g;function Rz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(cE(a)&&cE(o)){if(!Nm(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Dz(t,e){const r=new Mz(t,e);return r.subscribe.bind(r)}class Mz{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");$z(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=hx),i.error===void 0&&(i.error=hx),i.complete===void 0&&(i.complete=hx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $z(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function hx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bz;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fz(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Vz(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vz(t){return t===zo?void 0:t}function Fz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Lz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const zz={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Uz=We.INFO,Kz={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},qz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Kz[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=Uz,this._logHandler=qz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Wz=(t,e)=>e.some(r=>t instanceof r);let uE,dE;function Hz(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gz(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fD=new WeakMap,cb=new WeakMap,hD=new WeakMap,px=new WeakMap,j_=new WeakMap;function Yz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(to(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&fD.set(r,t)}).catch(()=>{}),j_.set(e,t),e}function Xz(t){if(cb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});cb.set(t,e)}let ub={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return cb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return to(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qz(t){ub=t(ub)}function Jz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(mx(this),e,...r);return hD.set(n,e.sort?e.sort():[e]),to(n)}:Gz().includes(t)?function(...e){return t.apply(mx(this),e),to(fD.get(this))}:function(...e){return to(t.apply(mx(this),e))}}function Zz(t){return typeof t=="function"?Jz(t):(t instanceof IDBTransaction&&Xz(t),Wz(t,Hz())?new Proxy(t,ub):t)}function to(t){if(t instanceof IDBRequest)return Yz(t);if(px.has(t))return px.get(t);const e=Zz(t);return e!==t&&(px.set(t,e),j_.set(e,t)),e}const mx=t=>j_.get(t);function eU(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=to(o);return n&&o.addEventListener("upgradeneeded",l=>{n(to(o.result),l.oldVersion,l.newVersion,to(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const tU=["get","getKey","getAll","getAllKeys","count"],rU=["put","add","delete","clear"],gx=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gx.get(e))return gx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=rU.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tU.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return gx.set(e,a),a}Qz(t=>({...t,get:(e,r,n)=>fE(e,r)||t.get(e,r,n),has:(e,r)=>!!fE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iU(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function iU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const db="@firebase/app",hE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new E_("@firebase/app"),aU="@firebase/app-compat",oU="@firebase/analytics-compat",sU="@firebase/analytics",lU="@firebase/app-check-compat",cU="@firebase/app-check",uU="@firebase/auth",dU="@firebase/auth-compat",fU="@firebase/database",hU="@firebase/data-connect",pU="@firebase/database-compat",mU="@firebase/functions",gU="@firebase/functions-compat",vU="@firebase/installations",yU="@firebase/installations-compat",xU="@firebase/messaging",bU="@firebase/messaging-compat",wU="@firebase/performance",_U="@firebase/performance-compat",SU="@firebase/remote-config",TU="@firebase/remote-config-compat",kU="@firebase/storage",AU="@firebase/storage-compat",EU="@firebase/firestore",jU="@firebase/vertexai-preview",PU="@firebase/firestore-compat",NU="firebase",CU="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="[DEFAULT]",IU={[db]:"fire-core",[aU]:"fire-core-compat",[sU]:"fire-analytics",[oU]:"fire-analytics-compat",[cU]:"fire-app-check",[lU]:"fire-app-check-compat",[uU]:"fire-auth",[dU]:"fire-auth-compat",[fU]:"fire-rtdb",[hU]:"fire-data-connect",[pU]:"fire-rtdb-compat",[mU]:"fire-fn",[gU]:"fire-fn-compat",[vU]:"fire-iid",[yU]:"fire-iid-compat",[xU]:"fire-fcm",[bU]:"fire-fcm-compat",[wU]:"fire-perf",[_U]:"fire-perf-compat",[SU]:"fire-rc",[TU]:"fire-rc-compat",[kU]:"fire-gcs",[AU]:"fire-gcs-compat",[EU]:"fire-fst",[PU]:"fire-fst-compat",[jU]:"fire-vertex","fire-js":"fire-js",[NU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map,OU=new Map,hb=new Map;function pE(t,e){try{t.container.addComponent(e)}catch(r){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gl(t){const e=t.name;if(hb.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;hb.set(e,t);for(const r of Cm.values())pE(r,t);for(const r of OU.values())pE(r,t);return!0}function P_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Gf("app","Firebase",RU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=CU;function pD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:fb,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ro.create("bad-app-name",{appName:String(i)});if(r||(r=uD()),!r)throw ro.create("no-options");const a=Cm.get(i);if(a){if(Nm(r,a.options)&&Nm(n,a.config))return a;throw ro.create("duplicate-app",{appName:i})}const o=new Bz(i);for(const l of hb.values())o.addComponent(l);const s=new DU(r,n,o);return Cm.set(i,s),s}function mD(t=fb){const e=Cm.get(t);if(!e&&t===fb&&uD())return pD();if(!e)throw ro.create("no-app",{appName:t});return e}function no(t,e,r){var n;let i=(n=IU[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(s.join(" "));return}Gl(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="firebase-heartbeat-database",$U=1,Bd="firebase-heartbeat-store";let vx=null;function gD(){return vx||(vx=eU(MU,$U,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),vx}async function LU(t){try{const r=(await gD()).transaction(Bd),n=await r.objectStore(Bd).get(vD(t));return await r.done,n}catch(e){if(e instanceof ya)oa.warn(e.message);else{const r=ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(r.message)}}}async function mE(t,e){try{const n=(await gD()).transaction(Bd,"readwrite");await n.objectStore(Bd).put(e,vD(t)),await n.done}catch(r){if(r instanceof ya)oa.warn(r.message);else{const n=ro.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});oa.warn(n.message)}}}function vD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=1024,FU=30*24*60*60*1e3;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new UU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=FU}),this._storage.overwrite(this._heartbeatsCache))}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=gE(),{heartbeatsToSend:n,unsentEntries:i}=zU(this._heartbeatsCache.heartbeats),a=Pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return oa.warn(r),""}}}function gE(){return new Date().toISOString().substring(0,10)}function zU(t,e=VU){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),vE(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),vE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class UU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pz()?Nz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await LU(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vE(t){return Pm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){Gl(new ws("platform-logger",e=>new nU(e),"PRIVATE")),Gl(new ws("heartbeat",e=>new BU(e),"PRIVATE")),no(db,hE,t),no(db,hE,"esm2017"),no("fire-js","")}KU("");var qU="firebase",WU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(qU,WU,"app");function N_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HU=yD,xD=new Gf("auth","Firebase",yD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new E_("@firebase/auth");function GU(t,...e){Im.logLevel<=We.WARN&&Im.warn(`Auth (${Rc}): ${t}`,...e)}function Up(t,...e){Im.logLevel<=We.ERROR&&Im.error(`Auth (${Rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw C_(t,...e)}function vi(t,...e){return C_(t,...e)}function bD(t,e,r){const n=Object.assign(Object.assign({},HU()),{[e]:r});return new Gf("auth","Firebase",n).create(e,{appName:t.name})}function yi(t){return bD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return xD.create(t,...e)}function Ne(t,e,...r){if(!t)throw C_(e,...r)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Up(e),new Error(e)}function sa(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YU(){return yE()==="http:"||yE()==="https:"}function yE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||kz()||"connection"in navigator)?navigator.onLine:!0}function QU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r){this.shortDelay=e,this.longDelay=r,sa(r>e,"Short delay should be less than long delay!"),this.isMobile=_z()||Az()}get(){return XU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){sa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=new Xf(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _o(t,e,r,n,i={}){return _D(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=Yf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return Tz()||(u.referrerPolicy="no-referrer"),wD.fetch()(SD(t,t.config.apiHost,r,s),u)})}async function _D(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},JU),e);try{const i=new t9(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ap(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ap(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ap(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ap(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bD(t,d,u);oi(t,d)}}catch(i){if(i instanceof ya)throw i;oi(t,"network-request-failed",{message:String(i)})}}async function Dc(t,e,r,n,i={}){const a=await _o(t,e,r,n,i);return"mfaPendingCredential"in a&&oi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function SD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?I_(t.config,i):`${t.config.apiScheme}://${i}`}function e9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(vi(this.auth,"network-request-failed")),ZU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ap(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=vi(t,e,n);return i.customData._tokenResponse=r,i}function xE(t){return t!==void 0&&t.enterprise!==void 0}class r9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return e9(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function n9(t,e){return _o(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function TD(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a9(t,e=!1){const r=Mt(t),n=await r.getIdToken(e),i=O_(n);Ne(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ad(yx(i.auth_time)),issuedAtTime:ad(yx(i.iat)),expirationTime:ad(yx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yx(t){return Number(t)*1e3}function O_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Up("JWT malformed, contained fewer than 3 sections"),null;try{const i=lD(r);return i?JSON.parse(i):(Up("Failed to decode base64 JWT payload"),null)}catch(i){return Up("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bE(t){const e=O_(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ya&&o9(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function o9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ad(this.lastLoginAt),this.creationTime=ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t){var e;const r=t.auth,n=await t.getIdToken(),i=await zd(t,TD(r,{idToken:n}));Ne(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kD(a.providerUserInfo):[],s=c9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new mb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function l9(t){const e=Mt(t);await Om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c9(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function kD(t){return t.map(e=>{var{providerId:r}=e,n=N_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){const r=await _D(t,{},async()=>{const n=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=SD(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",wD.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function d9(t,e){return _o(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const r=bE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await u9(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Cl;return n&&(Ne(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ne(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=N_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await zd(this,this.stsTokenManager.getToken(this.auth,e));return Ne(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return a9(this,e)}reload(){return l9(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Om(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await zd(this,i9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,v=(s=r.tenantId)!==null&&s!==void 0?s:void 0,w=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=r.createdAt)!==null&&u!==void 0?u:void 0,_=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:j,isAnonymous:x,providerData:S,stsTokenManager:T}=r;Ne(b&&T,e,"internal-error");const k=Cl.fromJSON(this.name,T);Ne(typeof b=="string",e,"internal-error"),Pa(f,e.name),Pa(h,e.name),Ne(typeof j=="boolean",e,"internal-error"),Ne(typeof x=="boolean",e,"internal-error"),Pa(m,e.name),Pa(g,e.name),Pa(v,e.name),Pa(w,e.name),Pa(y,e.name),Pa(_,e.name);const E=new Ki({uid:b,auth:e,email:h,emailVerified:j,displayName:f,isAnonymous:x,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:k,createdAt:y,lastLoginAt:_});return S&&Array.isArray(S)&&(E.providerData=S.map(I=>Object.assign({},I))),w&&(E._redirectEventId=w),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new Cl;i.updateFromServerResponse(r);const a=new Ki({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Om(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?kD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Cl;s.updateFromIdToken(n);const l=new Ki({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function qi(t){sa(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}AD.type="NONE";const _E=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e,r){return`firebase:${t}:${e}:${r}`}class Il{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Kp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Kp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Il(qi(_E),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||qi(_E);const o=Kp(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const d=await u._get(o);if(d){const f=Ki._fromJSON(e,d);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Il(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Il(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ND(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ED(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ID(e))return"Blackberry";if(OD(e))return"Webos";if(jD(e))return"Safari";if((e.includes("chrome/")||PD(e))&&!e.includes("edge/"))return"Chrome";if(CD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function ED(t=Mr()){return/firefox\//i.test(t)}function jD(t=Mr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PD(t=Mr()){return/crios\//i.test(t)}function ND(t=Mr()){return/iemobile/i.test(t)}function CD(t=Mr()){return/android/i.test(t)}function ID(t=Mr()){return/blackberry/i.test(t)}function OD(t=Mr()){return/webos/i.test(t)}function R_(t=Mr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f9(t=Mr()){var e;return R_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h9(){return Ez()&&document.documentMode===10}function RD(t=Mr()){return R_(t)||CD(t)||OD(t)||ID(t)||/windows phone/i.test(t)||ND(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e=[]){let r;switch(t){case"Browser":r=SE(Mr());break;case"Worker":r=`${SE(Mr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Rc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e={}){return _o(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=6;class v9{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:g9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new p9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=qi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await TD(this,{idToken:e}),n=await Ki._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Om(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(yi(this));const r=e?Mt(e):null;return r&&Ne(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m9(this),r=new v9(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await d9(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&qi(e)||this._popupRedirectResolver;Ne(r,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[qi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&GU(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function So(t){return Mt(t)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dz(r=>this.observer=r)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x9(t){hv=t}function MD(t){return hv.loadJS(t)}function b9(){return hv.recaptchaEnterpriseScript}function w9(){return hv.gapiScript}function _9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const S9="recaptcha-enterprise",T9="NO_RECAPTCHA";class k9{constructor(e){this.type=S9,this.auth=So(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{n9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new r9(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;xE(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(T9)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&xE(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=b9();l.length!==0&&(l+=s),MD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function kE(t,e,r,n=!1){const i=new k9(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gb(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await kE(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await kE(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e){const r=P_(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Nm(a,e??{}))return i;oi(i,"already-initialized")}return r.initialize({options:e})}function E9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function j9(t,e,r){const n=So(t);Ne(n._canInitEmulator,n,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=$D(e),{host:o,port:s}=P9(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),N9()}function $D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P9(t){const e=$D(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:AE(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:AE(o)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,r){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function C9(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e){return Dc(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function R9(t,e){return Dc(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends D_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ud(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ud(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,r,"signInWithPassword",I9);case"emailLink":return O9(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,n,"signUpPassword",C9);case"emailLink":return R9(e,{idToken:r,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return Dc(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="http://localhost";class _s extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):oi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=N_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new _s(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Ol(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ol(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ol(e,r)}buildRequest(){const e={requestUri:D9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Yf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $9(t){const e=Bu(zu(t)).link,r=e?Bu(zu(e)).deep_link_id:null,n=Bu(zu(t)).deep_link_id;return(n?Bu(zu(n)).link:null)||n||r||e||t}class M_{constructor(e){var r,n,i,a,o,s;const l=Bu(zu(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,f=M9((i=l.mode)!==null&&i!==void 0?i:null);Ne(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=$9(e);try{return new M_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,r){return Ud._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=M_.parseLink(r);return Ne(n,"argument-error"),Ud._fromEmailAndCode(e,n.code,n.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends LD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Qf{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Qf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return _s._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return La.credential(r,n)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Qf{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Qf{constructor(){super("twitter.com")}static credential(e,r){return _s._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Fa.credential(r,n)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e){return Dc(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ki._fromIdTokenResponse(e,n,i),o=EE(n);return new ho({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=EE(n);return new ho({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends ya{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Rm(e,r,n,i)}}function VD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,a,e,n):a})}async function V9(t,e,r=!1){const n=await zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ho._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e,r=!1){const{auth:n}=t;if(ei(n.app))return Promise.reject(yi(n));const i="reauthenticate";try{const a=await zd(t,VD(n,i,e,t),r);Ne(a.idToken,n,"internal-error");const o=O_(a.idToken);Ne(o,n,"internal-error");const{sub:s}=o;return Ne(t.uid===s,n,"user-mismatch"),ho._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e,r=!1){if(ei(t.app))return Promise.reject(yi(t));const n="signIn",i=await VD(t,n,e),a=await ho._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function B9(t,e){return FD(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e){return Dc(t,"POST","/v1/accounts:signInWithCustomToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){if(ei(t.app))return Promise.reject(yi(t));const r=So(t),n=await z9(r,{token:e,returnSecureToken:!0}),i=await ho._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K9(t,e,r){if(ei(t.app))return Promise.reject(yi(t));const n=So(t),o=await gb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&BD(t),l}),s=await ho._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function q9(t,e,r){return ei(t.app)?Promise.reject(yi(t)):B9(Mt(t),Mc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&BD(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return Mt(t).setPersistence(e)}function H9(t,e,r,n){return Mt(t).onIdTokenChanged(e,r,n)}function G9(t,e,r){return Mt(t).beforeAuthStateChanged(e,r)}function Y9(t,e,r,n){return Mt(t).onAuthStateChanged(e,r,n)}function X9(t){return Mt(t).signOut()}const Dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Dm,"1"),this.storage.removeItem(Dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=1e3,J9=10;class UD extends zD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);h9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}UD.type="LOCAL";const KD=UD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends zD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}qD.type="SESSION";const $_=qD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new pv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await Z9(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=L_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function t8(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function r8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i8(){return WD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebaseLocalStorageDb",a8=1,Mm="firebaseLocalStorage",GD="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mv(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function o8(){const t=indexedDB.deleteDatabase(HD);return new Jf(t).toPromise()}function vb(){const t=indexedDB.open(HD,a8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Mm,{keyPath:GD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Mm)?e(n):(n.close(),await o8(),e(await vb()))})})}async function jE(t,e,r){const n=mv(t,!0).put({[GD]:e,value:r});return new Jf(n).toPromise()}async function s8(t,e){const r=mv(t,!1).get(e),n=await new Jf(r).toPromise();return n===void 0?null:n.value}function PE(t,e){const r=mv(t,!0).delete(e);return new Jf(r).toPromise()}const l8=800,c8=3;class YD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>c8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pv._getInstance(i8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await r8(),!this.activeServiceWorker)return;this.sender=new e8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vb();return await jE(e,Dm,"1"),await PE(e,Dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>s8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>PE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=mv(i,!1).getAll();return new Jf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YD.type="LOCAL";const u8=YD;new Xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e){return e?qi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ol(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function f8(t){return FD(t.auth,new V_(t),t.bypassAuthState)}function h8(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),F9(r,new V_(t),t.bypassAuthState)}async function p8(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),V9(r,new V_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f8;case"linkViaPopup":case"linkViaRedirect":return p8;case"reauthViaPopup":case"reauthViaRedirect":return h8;default:oi(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new Xf(2e3,1e4);class pl extends XD{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=L_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m8.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="pendingRedirect",qp=new Map;class v8 extends XD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=qp.get(this.auth._key());if(!e){try{const n=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}qp.set(this.auth._key(),e)}return this.bypassAuthState||qp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(t,e){const r=w8(e),n=b8(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function x8(t,e){qp.set(t._key(),e)}function b8(t){return qi(t._redirectPersistence)}function w8(t){return Kp(g8,t.config.apiKey,t.name)}async function _8(t,e,r=!1){if(ei(t.app))return Promise.reject(yi(t));const n=So(t),i=d8(n,e),o=await new v8(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=10*60*1e3;class T8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k8(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!QD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(vi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S8&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j8=/^https?/;async function P8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A8(t);for(const r of e)try{if(N8(r))return}catch{}oi(t,"unauthorized-domain")}function N8(t){const e=pb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!j8.test(r))return!1;if(E8.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=new Xf(3e4,6e4);function CE(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function I8(t){return new Promise((e,r)=>{var n,i,a;function o(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),r(vi(t,"network-request-failed"))},timeout:C8.get()})}if(!((i=(n=xi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=xi().gapi)===null||a===void 0)&&a.load)o();else{const s=_9("iframefcb");return xi()[s]=()=>{gapi.load?o():r(vi(t,"network-request-failed"))},MD(`${w9()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw Wp=null,e})}let Wp=null;function O8(t){return Wp=Wp||I8(t),Wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new Xf(5e3,15e3),D8="__/auth/iframe",M8="emulator/auth/iframe",$8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V8(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?I_(e,M8):`https://${t.config.authDomain}/${D8}`,n={apiKey:e.apiKey,appName:t.name,v:Rc},i=L8.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Yf(n).slice(1)}`}async function F8(t){const e=await O8(t),r=xi().gapi;return Ne(r,t,"internal-error"),e.open({where:document.body,url:V8(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$8,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),s=xi().setTimeout(()=>{a(o)},R8.get());function l(){xi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z8=500,U8=600,K8="_blank",q8="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W8(t,e,r,n=z8,i=U8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},B8),{width:n.toString(),height:i.toString(),top:a,left:o}),u=Mr().toLowerCase();r&&(s=PD(u)?K8:r),ED(u)&&(e=e||q8,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(f9(u)&&s!=="_self")return H8(e||"",s),new IE(null);const f=window.open(e||"",s,d);Ne(f,t,"popup-blocked");try{f.focus()}catch{}return new IE(f)}function H8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="__/auth/handler",Y8="emulator/auth/handler",X8=encodeURIComponent("fac");async function OE(t,e,r,n,i,a){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Rc,eventId:i};if(e instanceof LD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Qf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${X8}=${encodeURIComponent(l)}`:"";return`${Q8(t)}?${Yf(s).slice(1)}${u}`}function Q8({config:t}){return t.emulator?I_(t,Y8):`https://${t.authDomain}/${G8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="webStorageSupport";class J8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$_,this._completeRedirectFn=_8,this._overrideRedirectResult=x8}async _openPopup(e,r,n,i){var a;sa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await OE(e,r,n,pb(),i);return W8(e,o,L_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await OE(e,r,n,pb(),i);return t8(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(sa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await F8(e),n=new T8(e);return r.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(xx,{type:xx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[xx];o!==void 0&&r(!!o),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=P8(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return RD()||jD()||R_()}}const Z8=J8;var RE="@firebase/auth",DE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r7(t){Gl(new ws("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DD(t)},u=new y9(n,i,a,l);return E9(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gl(new ws("auth-internal",e=>{const r=So(e.getProvider("auth").getImmediate());return(n=>new e7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(RE,DE,t7(t)),no(RE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=5*60,i7=dD("authIdTokenMaxAge")||n7;let ME=null;const a7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>i7)return;const i=r==null?void 0:r.token;ME!==i&&(ME=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o7(t=mD()){const e=P_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=A9(t,{popupRedirectResolver:Z8,persistence:[u8,KD,$_]}),n=dD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=a7(a.toString());G9(r,o,()=>o(r.currentUser)),H9(r,s=>o(s))}}const i=cD("auth");return i&&j9(r,`http://${i}`),r}function s7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x9({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=vi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",s7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r7("Browser");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,JD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,k){function E(){}E.prototype=k.prototype,T.D=k.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(I,O,P){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return k.prototype[O].apply(I,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,E){E||(E=0);var I=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)I[O]=k.charCodeAt(E++)|k.charCodeAt(E++)<<8|k.charCodeAt(E++)<<16|k.charCodeAt(E++)<<24;else for(O=0;16>O;++O)I[O]=k[E++]|k[E++]<<8|k[E++]<<16|k[E++]<<24;k=T.g[0],E=T.g[1],O=T.g[2];var P=T.g[3],C=k+(P^E&(O^P))+I[0]+3614090360&4294967295;k=E+(C<<7&4294967295|C>>>25),C=P+(O^k&(E^O))+I[1]+3905402710&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(E^P&(k^E))+I[2]+606105819&4294967295,O=P+(C<<17&4294967295|C>>>15),C=E+(k^O&(P^k))+I[3]+3250441966&4294967295,E=O+(C<<22&4294967295|C>>>10),C=k+(P^E&(O^P))+I[4]+4118548399&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(O^k&(E^O))+I[5]+1200080426&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(E^P&(k^E))+I[6]+2821735955&4294967295,O=P+(C<<17&4294967295|C>>>15),C=E+(k^O&(P^k))+I[7]+4249261313&4294967295,E=O+(C<<22&4294967295|C>>>10),C=k+(P^E&(O^P))+I[8]+1770035416&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(O^k&(E^O))+I[9]+2336552879&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(E^P&(k^E))+I[10]+4294925233&4294967295,O=P+(C<<17&4294967295|C>>>15),C=E+(k^O&(P^k))+I[11]+2304563134&4294967295,E=O+(C<<22&4294967295|C>>>10),C=k+(P^E&(O^P))+I[12]+1804603682&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(O^k&(E^O))+I[13]+4254626195&4294967295,P=k+(C<<12&4294967295|C>>>20),C=O+(E^P&(k^E))+I[14]+2792965006&4294967295,O=P+(C<<17&4294967295|C>>>15),C=E+(k^O&(P^k))+I[15]+1236535329&4294967295,E=O+(C<<22&4294967295|C>>>10),C=k+(O^P&(E^O))+I[1]+4129170786&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^O&(k^E))+I[6]+3225465664&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^E&(P^k))+I[11]+643717713&4294967295,O=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(O^P))+I[0]+3921069994&4294967295,E=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(E^O))+I[5]+3593408605&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^O&(k^E))+I[10]+38016083&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^E&(P^k))+I[15]+3634488961&4294967295,O=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(O^P))+I[4]+3889429448&4294967295,E=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(E^O))+I[9]+568446438&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^O&(k^E))+I[14]+3275163606&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^E&(P^k))+I[3]+4107603335&4294967295,O=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(O^P))+I[8]+1163531501&4294967295,E=O+(C<<20&4294967295|C>>>12),C=k+(O^P&(E^O))+I[13]+2850285829&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^O&(k^E))+I[2]+4243563512&4294967295,P=k+(C<<9&4294967295|C>>>23),C=O+(k^E&(P^k))+I[7]+1735328473&4294967295,O=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(O^P))+I[12]+2368359562&4294967295,E=O+(C<<20&4294967295|C>>>12),C=k+(E^O^P)+I[5]+4294588738&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^O)+I[8]+2272392833&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^E)+I[11]+1839030562&4294967295,O=P+(C<<16&4294967295|C>>>16),C=E+(O^P^k)+I[14]+4259657740&4294967295,E=O+(C<<23&4294967295|C>>>9),C=k+(E^O^P)+I[1]+2763975236&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^O)+I[4]+1272893353&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^E)+I[7]+4139469664&4294967295,O=P+(C<<16&4294967295|C>>>16),C=E+(O^P^k)+I[10]+3200236656&4294967295,E=O+(C<<23&4294967295|C>>>9),C=k+(E^O^P)+I[13]+681279174&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^O)+I[0]+3936430074&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^E)+I[3]+3572445317&4294967295,O=P+(C<<16&4294967295|C>>>16),C=E+(O^P^k)+I[6]+76029189&4294967295,E=O+(C<<23&4294967295|C>>>9),C=k+(E^O^P)+I[9]+3654602809&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^O)+I[12]+3873151461&4294967295,P=k+(C<<11&4294967295|C>>>21),C=O+(P^k^E)+I[15]+530742520&4294967295,O=P+(C<<16&4294967295|C>>>16),C=E+(O^P^k)+I[2]+3299628645&4294967295,E=O+(C<<23&4294967295|C>>>9),C=k+(O^(E|~P))+I[0]+4096336452&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~O))+I[7]+1126891415&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~E))+I[14]+2878612391&4294967295,O=P+(C<<15&4294967295|C>>>17),C=E+(P^(O|~k))+I[5]+4237533241&4294967295,E=O+(C<<21&4294967295|C>>>11),C=k+(O^(E|~P))+I[12]+1700485571&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~O))+I[3]+2399980690&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~E))+I[10]+4293915773&4294967295,O=P+(C<<15&4294967295|C>>>17),C=E+(P^(O|~k))+I[1]+2240044497&4294967295,E=O+(C<<21&4294967295|C>>>11),C=k+(O^(E|~P))+I[8]+1873313359&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~O))+I[15]+4264355552&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~E))+I[6]+2734768916&4294967295,O=P+(C<<15&4294967295|C>>>17),C=E+(P^(O|~k))+I[13]+1309151649&4294967295,E=O+(C<<21&4294967295|C>>>11),C=k+(O^(E|~P))+I[4]+4149444226&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~O))+I[11]+3174756917&4294967295,P=k+(C<<10&4294967295|C>>>22),C=O+(k^(P|~E))+I[2]+718787259&4294967295,O=P+(C<<15&4294967295|C>>>17),C=E+(P^(O|~k))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+P&4294967295}n.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var E=k-this.blockSize,I=this.B,O=this.h,P=0;P<k;){if(O==0)for(;P<=E;)i(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<k;)if(I[O++]=T.charCodeAt(P++),O==this.blockSize){i(this,I),O=0;break}}else for(;P<k;)if(I[O++]=T[P++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=k},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var E=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=E&255,E/=256;for(this.u(T),T=Array(16),k=E=0;4>k;++k)for(var I=0;32>I;I+=8)T[E++]=this.g[k]>>>I&255;return T};function a(T,k){var E=s;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=k(T)}function o(T,k){this.h=k;for(var E=[],I=!0,O=T.length-1;0<=O;O--){var P=T[O]|0;I&&P==k||(E[O]=P,I=!1)}this.g=E}var s={};function l(T){return-128<=T&&128>T?a(T,function(k){return new o([k|0],0>k?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return w(u(-T));for(var k=[],E=1,I=0;T>=E;I++)k[I]=T/E|0,E*=4294967296;return new o(k,0)}function d(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return w(d(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(k,8)),I=f,O=0;O<T.length;O+=8){var P=Math.min(8,T.length-O),C=parseInt(T.substring(O,O+P),k);8>P?(P=u(Math.pow(k,P)),I=I.j(P).add(u(C))):(I=I.j(E),I=I.add(u(C)))}return I}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();for(var T=0,k=1,E=0;E<this.g.length;E++){var I=this.i(E);T+=(0<=I?I:4294967296+I)*k,k*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(v(this))return"-"+w(this).toString(T);for(var k=u(Math.pow(T,6)),E=this,I="";;){var O=j(E,k).g;E=y(E,O.j(k));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=O,g(E))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=y(this,T),v(T)?-1:g(T)?0:1};function w(T){for(var k=T.g.length,E=[],I=0;I<k;I++)E[I]=~T.g[I];return new o(E,~T.h).add(h)}t.abs=function(){return v(this)?w(this):this},t.add=function(T){for(var k=Math.max(this.g.length,T.g.length),E=[],I=0,O=0;O<=k;O++){var P=I+(this.i(O)&65535)+(T.i(O)&65535),C=(P>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);I=C>>>16,P&=65535,C&=65535,E[O]=C<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(T,k){return T.add(w(k))}t.j=function(T){if(g(this)||g(T))return f;if(v(this))return v(T)?w(this).j(w(T)):w(w(this).j(T));if(v(T))return w(this.j(w(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,E=[],I=0;I<2*k;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<T.g.length;O++){var P=this.i(I)>>>16,C=this.i(I)&65535,L=T.i(O)>>>16,$=T.i(O)&65535;E[2*I+2*O]+=C*$,_(E,2*I+2*O),E[2*I+2*O+1]+=P*$,_(E,2*I+2*O+1),E[2*I+2*O+1]+=C*L,_(E,2*I+2*O+1),E[2*I+2*O+2]+=P*L,_(E,2*I+2*O+2)}for(I=0;I<k;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=k;I<2*k;I++)E[I]=0;return new o(E,0)};function _(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function b(T,k){this.g=T,this.h=k}function j(T,k){if(g(k))throw Error("division by zero");if(g(T))return new b(f,f);if(v(T))return k=j(w(T),k),new b(w(k.g),w(k.h));if(v(k))return k=j(T,w(k)),new b(w(k.g),k.h);if(30<T.g.length){if(v(T)||v(k))throw Error("slowDivide_ only works with positive integers.");for(var E=h,I=k;0>=I.l(T);)E=x(E),I=x(I);var O=S(E,1),P=S(I,1);for(I=S(I,2),E=S(E,2);!g(I);){var C=P.add(I);0>=C.l(T)&&(O=O.add(E),P=C),I=S(I,1),E=S(E,1)}return k=y(T,O.j(k)),new b(O,k)}for(O=f;0<=T.l(k);){for(E=Math.max(1,Math.floor(T.m()/k.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=u(E),C=P.j(k);v(C)||0<C.l(T);)E-=I,P=u(E),C=P.j(k);g(P)&&(P=h),O=O.add(P),T=y(T,C)}return new b(O,T)}t.A=function(T){return j(this,T).h},t.and=function(T){for(var k=Math.max(this.g.length,T.g.length),E=[],I=0;I<k;I++)E[I]=this.i(I)&T.i(I);return new o(E,this.h&T.h)},t.or=function(T){for(var k=Math.max(this.g.length,T.g.length),E=[],I=0;I<k;I++)E[I]=this.i(I)|T.i(I);return new o(E,this.h|T.h)},t.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),E=[],I=0;I<k;I++)E[I]=this.i(I)^T.i(I);return new o(E,this.h^T.h)};function x(T){for(var k=T.g.length+1,E=[],I=0;I<k;I++)E[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(E,T.h)}function S(T,k){var E=k>>5;k%=32;for(var I=T.g.length-E,O=[],P=0;P<I;P++)O[P]=0<k?T.i(P+E)>>>k|T.i(P+E+1)<<32-k:T.i(P+E);return new o(O,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,JD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ss=o}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZD,Uu,eM,Hp,yb,tM,rM,nM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,N){return p==Array.prototype||p==Object.prototype||(p[A]=N.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof op=="object"&&op];for(var A=0;A<p.length;++A){var N=p[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function i(p,A){if(A)e:{var N=n;p=p.split(".");for(var D=0;D<p.length-1;D++){var H=p[D];if(!(H in N))break e;N=N[H]}p=p[p.length-1],D=N[p],A=A(D),A!=D&&A!=null&&e(N,p,{configurable:!0,writable:!0,value:A})}}function a(p,A){p instanceof String&&(p+="");var N=0,D=!1,H={next:function(){if(!D&&N<p.length){var Q=N++;return{value:A(Q,p[Q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(p){return p||function(){return a(this,function(A,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function u(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function d(p,A,N){return p.call.apply(p.bind,arguments)}function f(p,A,N){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,D),p.apply(A,H)}}return function(){return p.apply(A,arguments)}}function h(p,A,N){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,A){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function g(p,A){function N(){}N.prototype=A.prototype,p.aa=A.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(D,H,Q){for(var ue=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ue[ct-2]=arguments[ct];return A.prototype[H].apply(D,ue)}}function v(p){const A=p.length;if(0<A){const N=Array(A);for(let D=0;D<A;D++)N[D]=p[D];return N}return[]}function w(p,A){for(let N=1;N<arguments.length;N++){const D=arguments[N];if(l(D)){const H=p.length||0,Q=D.length||0;p.length=H+Q;for(let ue=0;ue<Q;ue++)p[H+ue]=D[ue]}else p.push(D)}}class y{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(p){return/^[\s\xa0]*$/.test(p)}function b(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var x=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function S(p,A,N){for(const D in p)A.call(N,p[D],D,p)}function T(p,A){for(const N in p)A.call(void 0,p[N],N,p)}function k(p){const A={};for(const N in p)A[N]=p[N];return A}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,A){let N,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(N in D)p[N]=D[N];for(let Q=0;Q<E.length;Q++)N=E[Q],Object.prototype.hasOwnProperty.call(D,N)&&(p[N]=D[N])}}function O(p){var A=1;p=p.split(":");const N=[];for(;0<A&&p.length;)N.push(p.shift()),A--;return p.length&&N.push(p.join(":")),N}function P(p){s.setTimeout(()=>{throw p},0)}function C(){var p=z;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class L{constructor(){this.h=this.g=null}add(A,N){const D=$.get();D.set(A,N),this.h?this.h.next=D:this.g=D,this.h=D}}var $=new y(()=>new q,p=>p.reset());class q{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,z=new L,X=()=>{const p=s.Promise.resolve(void 0);U=()=>{p.then(re)}};var re=()=>{for(var p;p=C();){try{p.h.call(p.g)}catch(N){P(N)}var A=$;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}F=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};s.addEventListener("test",N,A),s.removeEventListener("test",N,A)}catch{}return p}();function ee(p,A){if(Y.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(x){e:{try{j(A.nodeName);var H=!0;break e}catch{}H=!1}H||(A=null)}}else N=="mouseover"?A=p.fromElement:N=="mouseout"&&(A=p.toElement);this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:we[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ee.aa.h.call(this)}}g(ee,Y);var we={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Le=0;function G(p,A,N,D,H){this.listener=p,this.proxy=null,this.src=A,this.type=N,this.capture=!!D,this.ha=H,this.key=++Le,this.da=this.fa=!1}function K(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function W(p){this.src=p,this.g={},this.h=0}W.prototype.add=function(p,A,N,D,H){var Q=p.toString();p=this.g[Q],p||(p=this.g[Q]=[],this.h++);var ue=ne(p,A,D,H);return-1<ue?(A=p[ue],N||(A.fa=!1)):(A=new G(A,this.src,Q,!!D,H),A.fa=N,p.push(A)),A};function B(p,A){var N=A.type;if(N in p.g){var D=p.g[N],H=Array.prototype.indexOf.call(D,A,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(D,H,1),Q&&(K(A),p.g[N].length==0&&(delete p.g[N],p.h--))}}function ne(p,A,N,D){for(var H=0;H<p.length;++H){var Q=p[H];if(!Q.da&&Q.listener==A&&Q.capture==!!N&&Q.ha==D)return H}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),pe={};function Ce(p,A,N,D,H){if(Array.isArray(A)){for(var Q=0;Q<A.length;Q++)Ce(p,A[Q],N,D,H);return null}return N=wt(N),p&&p[ge]?p.K(A,N,u(D)?!!D.capture:!1,H):Ve(p,A,N,!1,D,H)}function Ve(p,A,N,D,H,Q){if(!A)throw Error("Invalid event type");var ue=u(H)?!!H.capture:!!H,ct=ze(p);if(ct||(p[ae]=ct=new W(p)),N=ct.add(A,N,D,ue,Q),N.proxy)return N;if(D=Ye(),N.proxy=D,D.src=p,D.listener=N,p.addEventListener)Z||(H=ue),H===void 0&&(H=!1),p.addEventListener(A.toString(),D,H);else if(p.attachEvent)p.attachEvent(Se(A.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ye(){function p(N){return A.call(p.src,p.listener,N)}const A=Be;return p}function se(p,A,N,D,H){if(Array.isArray(A))for(var Q=0;Q<A.length;Q++)se(p,A[Q],N,D,H);else D=u(D)?!!D.capture:!!D,N=wt(N),p&&p[ge]?(p=p.i,A=String(A).toString(),A in p.g&&(Q=p.g[A],N=ne(Q,N,D,H),-1<N&&(K(Q[N]),Array.prototype.splice.call(Q,N,1),Q.length==0&&(delete p.g[A],p.h--)))):p&&(p=ze(p))&&(A=p.g[A.toString()],p=-1,A&&(p=ne(A,N,D,H)),(N=-1<p?A[p]:null)&&de(N))}function de(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[ge])B(A.i,p);else{var N=p.type,D=p.proxy;A.removeEventListener?A.removeEventListener(N,D,p.capture):A.detachEvent?A.detachEvent(Se(N),D):A.addListener&&A.removeListener&&A.removeListener(D),(N=ze(A))?(B(N,p),N.h==0&&(N.src=null,A[ae]=null)):K(p)}}}function Se(p){return p in pe?pe[p]:pe[p]="on"+p}function Be(p,A){if(p.da)p=!0;else{A=new ee(A,this);var N=p.listener,D=p.ha||p.src;p.fa&&de(p),p=N.call(D,A)}return p}function ze(p){return p=p[ae],p instanceof W?p:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(p){return typeof p=="function"?p:(p[tt]||(p[tt]=function(A){return p.handleEvent(A)}),p[tt])}function $e(){V.call(this),this.i=new W(this),this.M=this,this.F=null}g($e,V),$e.prototype[ge]=!0,$e.prototype.removeEventListener=function(p,A,N,D){se(this,p,A,N,D)};function Ue(p,A){var N,D=p.F;if(D)for(N=[];D;D=D.F)N.push(D);if(p=p.M,D=A.type||A,typeof A=="string")A=new Y(A,p);else if(A instanceof Y)A.target=A.target||p;else{var H=A;A=new Y(D,p),I(A,H)}if(H=!0,N)for(var Q=N.length-1;0<=Q;Q--){var ue=A.g=N[Q];H=wn(ue,D,!0,A)&&H}if(ue=A.g=p,H=wn(ue,D,!0,A)&&H,H=wn(ue,D,!1,A)&&H,N)for(Q=0;Q<N.length;Q++)ue=A.g=N[Q],H=wn(ue,D,!1,A)&&H}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var N=p.g[A],D=0;D<N.length;D++)K(N[D]);delete p.g[A],p.h--}}this.F=null},$e.prototype.K=function(p,A,N,D){return this.i.add(String(p),A,!1,N,D)},$e.prototype.L=function(p,A,N,D){return this.i.add(String(p),A,!0,N,D)};function wn(p,A,N,D){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var H=!0,Q=0;Q<A.length;++Q){var ue=A[Q];if(ue&&!ue.da&&ue.capture==N){var ct=ue.listener,ur=ue.ha||ue.src;ue.fa&&B(p.i,ue),H=ct.call(ur,D)!==!1&&H}}return H&&!D.defaultPrevented}function wr(p,A,N){if(typeof p=="function")N&&(p=h(p,N));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:s.setTimeout(p,A||0)}function _n(p){p.g=wr(()=>{p.g=null,p.i&&(p.i=!1,_n(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class Oi extends V{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(p){V.call(this),this.h=p,this.g={}}g(sr,V);var Sa=[];function Un(p){S(p.g,function(A,N){this.g.hasOwnProperty(N)&&de(A)},p),p.g={}}sr.prototype.N=function(){sr.aa.N.call(this),Un(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=s.JSON.stringify,Ta=s.JSON.parse,jy=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function ou(){}ou.prototype.h=null;function su(p){return p.h||(p.h=p.i())}function lu(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Io(){Y.call(this,"d")}g(Io,Y);function Sn(){Y.call(this,"c")}g(Sn,Y);var Ri={},Ie=null;function Xe(){return Ie=Ie||new $e}Ri.La="serverreachability";function lt(p){Y.call(this,Ri.La,p)}g(lt,Y);function lr(p){const A=Xe();Ue(A,new lt(A))}Ri.STAT_EVENT="statevent";function Hr(p,A){Y.call(this,Ri.STAT_EVENT,p),this.stat=A}g(Hr,Y);function _t(p){const A=Xe();Ue(A,new Hr(A,p))}Ri.Ma="timingevent";function ci(p,A){Y.call(this,Ri.Ma,p),this.size=A}g(ci,Y);function cr(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},A)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function vF(p,A,N,D,H,Q){p.info(function(){if(p.g)if(Q)for(var ue="",ct=Q.split("&"),ur=0;ur<ct.length;ur++){var Je=ct[ur].split("=");if(1<Je.length){var _r=Je[0];Je=Je[1];var Sr=_r.split("_");ue=2<=Sr.length&&Sr[1]=="type"?ue+(_r+"="+Je+"&"):ue+(_r+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+A+`
`+N+`
`+ue})}function yF(p,A,N,D,H,Q,ue){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+A+`
`+N+`
`+Q+" "+ue})}function Ks(p,A,N,D){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+bF(p,N)+(D?" "+D:"")})}function xF(p,A){p.info(function(){return"TIMEOUT: "+A})}Gr.prototype.info=function(){};function bF(p,A){if(!p.g)return A;if(!A)return null;try{var N=JSON.parse(A);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var D=N[p];if(!(2>D.length)){var H=D[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Us(N)}catch{return A}}var Eh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Py;function jh(){}g(jh,ou),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},Py=new jh;function ka(p,A,N,D){this.j=p,this.i=A,this.l=N,this.R=D||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mk}function mk(){this.i=null,this.g="",this.h=!1}var gk={},Ny={};function Cy(p,A,N){p.L=1,p.v=Ih(Di(A)),p.m=N,p.P=!0,vk(p,null)}function vk(p,A){p.F=Date.now(),Ph(p),p.A=Di(p.v);var N=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),Ck(N.i,"t",D),p.C=0,N=p.j.J,p.h=new mk,p.g=Yk(p.j,N?A:null,!p.m),0<p.O&&(p.M=new Oi(h(p.Y,p,p.g),p.O)),A=p.U,N=p.g,D=p.ca;var H="readystatechange";Array.isArray(H)||(H&&(Sa[0]=H.toString()),H=Sa);for(var Q=0;Q<H.length;Q++){var ue=Ce(N,H[Q],D||A.handleEvent,!1,A.h||A);if(!ue)break;A.g[ue.key]=ue}A=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),lr(),vF(p.i,p.u,p.A,p.l,p.R,p.m)}ka.prototype.ca=function(p){p=p.target;const A=this.M;A&&Mi(p)==3?A.j():this.Y(p)},ka.prototype.Y=function(p){try{if(p==this.g)e:{const Sr=Mi(this.g);var A=this.g.Ba();const Hs=this.g.Z();if(!(3>Sr)&&(Sr!=3||this.g&&(this.h.h||this.g.oa()||Lk(this.g)))){this.J||Sr!=4||A==7||(A==8||0>=Hs?lr(3):lr(2)),Iy(this);var N=this.g.Z();this.X=N;t:if(yk(this)){var D=Lk(this.g);p="";var H=D.length,Q=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),cu(this);var ue="";break t}this.h.i=new s.TextDecoder}for(A=0;A<H;A++)this.h.h=!0,p+=this.h.i.decode(D[A],{stream:!(Q&&A==H-1)});D.length=0,this.h.g+=p,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=N==200,yF(this.i,this.u,this.A,this.l,this.R,Sr,N),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,ur=this.g;if((ct=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ct)){var Je=ct;break t}}Je=null}if(N=Je)Ks(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,N);else{this.o=!1,this.s=3,_t(12),Oo(this),cu(this);break e}}if(this.P){N=!0;let Kn;for(;!this.J&&this.C<ue.length;)if(Kn=wF(this,ue),Kn==Ny){Sr==4&&(this.s=4,_t(14),N=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==gk){this.s=4,_t(15),Ks(this.i,this.l,ue,"[Invalid Chunk]"),N=!1;break}else Ks(this.i,this.l,Kn,null),Oy(this,Kn);if(yk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sr!=4||ue.length!=0||this.h.h||(this.s=1,_t(16),N=!1),this.o=this.o&&N,!N)Ks(this.i,this.l,ue,"[Invalid Chunked Response]"),Oo(this),cu(this);else if(0<ue.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Vy(_r),_r.M=!0,_t(11))}}else Ks(this.i,this.l,ue,null),Oy(this,ue);Sr==4&&Oo(this),this.o&&!this.J&&(Sr==4?qk(this.j,this):(this.o=!1,Ph(this)))}else LF(this.g),N==400&&0<ue.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Oo(this),cu(this)}}}catch{}finally{}};function yk(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function wF(p,A){var N=p.C,D=A.indexOf(`
`,N);return D==-1?Ny:(N=Number(A.substring(N,D)),isNaN(N)?gk:(D+=1,D+N>A.length?Ny:(A=A.slice(D,D+N),p.C=D+N,A)))}ka.prototype.cancel=function(){this.J=!0,Oo(this)};function Ph(p){p.S=Date.now()+p.I,xk(p,p.I)}function xk(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=cr(h(p.ba,p),A)}function Iy(p){p.B&&(s.clearTimeout(p.B),p.B=null)}ka.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(xF(this.i,this.A),this.L!=2&&(lr(),_t(17)),Oo(this),this.s=2,cu(this)):xk(this,this.S-p)};function cu(p){p.j.G==0||p.J||qk(p.j,p)}function Oo(p){Iy(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,Un(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function Oy(p,A){try{var N=p.j;if(N.G!=0&&(N.g==p||Ry(N.h,p))){if(!p.K&&Ry(N.h,p)&&N.G==3){try{var D=N.Da.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Lh(N),Mh(N);else break e;Ly(N),_t(18)}}else N.za=H[1],0<N.za-N.T&&37500>H[2]&&N.F&&N.v==0&&!N.C&&(N.C=cr(h(N.Za,N),6e3));if(1>=_k(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Do(N,11)}else if((p.K||N.g==p)&&Lh(N),!_(A))for(H=N.Da.g.parse(A),A=0;A<H.length;A++){let Je=H[A];if(N.T=Je[0],Je=Je[1],N.G==2)if(Je[0]=="c"){N.K=Je[1],N.ia=Je[2];const _r=Je[3];_r!=null&&(N.la=_r,N.j.info("VER="+N.la));const Sr=Je[4];Sr!=null&&(N.Aa=Sr,N.j.info("SVER="+N.Aa));const Hs=Je[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(D=1.5*Hs,N.L=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const Kn=p.g;if(Kn){const Fh=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fh){var Q=D.h;Q.g||Fh.indexOf("spdy")==-1&&Fh.indexOf("quic")==-1&&Fh.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Dy(Q,Q.h),Q.h=null))}if(D.D){const Fy=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fy&&(D.ya=Fy,mt(D.I,D.D,Fy))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),D=N;var ue=p;if(D.qa=Gk(D,D.J?D.ia:null,D.W),ue.K){Sk(D.h,ue);var ct=ue,ur=D.L;ur&&(ct.I=ur),ct.B&&(Iy(ct),Ph(ct)),D.g=ue}else Uk(D);0<N.i.length&&$h(N)}else Je[0]!="stop"&&Je[0]!="close"||Do(N,7);else N.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Do(N,7):$y(N):Je[0]!="noop"&&N.l&&N.l.ta(Je),N.v=0)}}lr(4)}catch{}}var _F=class{constructor(p,A){this.g=p,this.map=A}};function bk(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wk(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function _k(p){return p.h?1:p.g?p.g.size:0}function Ry(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Dy(p,A){p.g?p.g.add(A):p.h=A}function Sk(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}bk.prototype.cancel=function(){if(this.i=Tk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Tk(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const N of p.g.values())A=A.concat(N.D);return A}return v(p.i)}function SF(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var A=[],N=p.length,D=0;D<N;D++)A.push(p[D]);return A}A=[],N=0;for(D in p)A[N++]=p[D];return A}function TF(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var A=[];p=p.length;for(var N=0;N<p;N++)A.push(N);return A}A=[],N=0;for(const D in p)A[N++]=D;return A}}}function kk(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var N=TF(p),D=SF(p),H=D.length,Q=0;Q<H;Q++)A.call(void 0,D[Q],N&&N[Q],p)}var Ak=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kF(p,A){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var D=p[N].indexOf("="),H=null;if(0<=D){var Q=p[N].substring(0,D);H=p[N].substring(D+1)}else Q=p[N];A(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ro(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ro){this.h=p.h,Nh(this,p.j),this.o=p.o,this.g=p.g,Ch(this,p.s),this.l=p.l;var A=p.i,N=new fu;N.i=A.i,A.g&&(N.g=new Map(A.g),N.h=A.h),Ek(this,N),this.m=p.m}else p&&(A=String(p).match(Ak))?(this.h=!1,Nh(this,A[1]||"",!0),this.o=uu(A[2]||""),this.g=uu(A[3]||"",!0),Ch(this,A[4]),this.l=uu(A[5]||"",!0),Ek(this,A[6]||"",!0),this.m=uu(A[7]||"")):(this.h=!1,this.i=new fu(null,this.h))}Ro.prototype.toString=function(){var p=[],A=this.j;A&&p.push(du(A,jk,!0),":");var N=this.g;return(N||A=="file")&&(p.push("//"),(A=this.o)&&p.push(du(A,jk,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(du(N,N.charAt(0)=="/"?jF:EF,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",du(N,NF)),p.join("")};function Di(p){return new Ro(p)}function Nh(p,A,N){p.j=N?uu(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function Ch(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function Ek(p,A,N){A instanceof fu?(p.i=A,CF(p.i,p.h)):(N||(A=du(A,PF)),p.i=new fu(A,p.h))}function mt(p,A,N){p.i.set(A,N)}function Ih(p){return mt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function uu(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function du(p,A,N){return typeof p=="string"?(p=encodeURI(p).replace(A,AF),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function AF(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var jk=/[#\/\?@]/g,EF=/[#\?:]/g,jF=/[#\?]/g,PF=/[#\?@]/g,NF=/#/g;function fu(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Aa(p){p.g||(p.g=new Map,p.h=0,p.i&&kF(p.i,function(A,N){p.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=fu.prototype,t.add=function(p,A){Aa(this),this.i=null,p=qs(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(A),this.h+=1,this};function Pk(p,A){Aa(p),A=qs(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function Nk(p,A){return Aa(p),A=qs(p,A),p.g.has(A)}t.forEach=function(p,A){Aa(this),this.g.forEach(function(N,D){N.forEach(function(H){p.call(A,H,D,this)},this)},this)},t.na=function(){Aa(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),N=[];for(let D=0;D<A.length;D++){const H=p[D];for(let Q=0;Q<H.length;Q++)N.push(A[D])}return N},t.V=function(p){Aa(this);let A=[];if(typeof p=="string")Nk(this,p)&&(A=A.concat(this.g.get(qs(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)A=A.concat(p[N])}return A},t.set=function(p,A){return Aa(this),this.i=null,p=qs(this,p),Nk(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function Ck(p,A,N){Pk(p,A),0<N.length&&(p.i=null,p.g.set(qs(p,A),v(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var N=0;N<A.length;N++){var D=A[N];const Q=encodeURIComponent(String(D)),ue=this.V(D);for(D=0;D<ue.length;D++){var H=Q;ue[D]!==""&&(H+="="+encodeURIComponent(String(ue[D]))),p.push(H)}}return this.i=p.join("&")};function qs(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function CF(p,A){A&&!p.j&&(Aa(p),p.i=null,p.g.forEach(function(N,D){var H=D.toLowerCase();D!=H&&(Pk(this,D),Ck(this,H,N))},p)),p.j=A}function IF(p,A){const N=new Gr;if(s.Image){const D=new Image;D.onload=m(Ea,N,"TestLoadImage: loaded",!0,A,D),D.onerror=m(Ea,N,"TestLoadImage: error",!1,A,D),D.onabort=m(Ea,N,"TestLoadImage: abort",!1,A,D),D.ontimeout=m(Ea,N,"TestLoadImage: timeout",!1,A,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else A(!1)}function OF(p,A){const N=new Gr,D=new AbortController,H=setTimeout(()=>{D.abort(),Ea(N,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:D.signal}).then(Q=>{clearTimeout(H),Q.ok?Ea(N,"TestPingServer: ok",!0,A):Ea(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(H),Ea(N,"TestPingServer: error",!1,A)})}function Ea(p,A,N,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(N)}catch{}}function RF(){this.g=new jy}function DF(p,A,N){const D=N||"";try{kk(p,function(H,Q){let ue=H;u(H)&&(ue=Us(H)),A.push(D+Q+"="+encodeURIComponent(ue))})}catch(H){throw A.push(D+"type="+encodeURIComponent("_badmap")),H}}function Oh(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Oh,ou),Oh.prototype.g=function(){return new Rh(this.l,this.j)},Oh.prototype.i=function(p){return function(){return p}}({});function Rh(p,A){$e.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Rh,$e),t=Rh.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,pu(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||s).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ik(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ik(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?hu(this):pu(this),this.readyState==3&&Ik(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,hu(this))},t.Qa=function(p){this.g&&(this.response=p,hu(this))},t.ga=function(){this.g&&hu(this)};function hu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,pu(p)}t.setRequestHeader=function(p,A){this.u.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=A.next();return p.join(`\r
`)};function pu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ok(p){let A="";return S(p,function(N,D){A+=D,A+=":",A+=N,A+=`\r
`}),A}function My(p,A,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=Ok(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):mt(p,A,N))}function It(p){$e.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(It,$e);var MF=/^https?$/i,$F=["POST","PUT"];t=It.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,A,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Py.g(),this.v=this.o?su(this.o):su(Py),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(Q){Rk(this,Q);return}if(p=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)N.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Q of D.keys())N.set(Q,D.get(Q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call($F,A,void 0))||D||H||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of N)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$k(this),this.u=!0,this.g.send(p),this.u=!1}catch(Q){Rk(this,Q)}};function Rk(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,Dk(p),Dh(p)}function Dk(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),Dh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dh(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mk(this):this.bb())},t.bb=function(){Mk(this)};function Mk(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Mi(p)!=4||p.Z()!=2)){if(p.u&&Mi(p)==4)wr(p.Ea,0,p);else if(Ue(p,"readystatechange"),Mi(p)==4){p.h=!1;try{const ue=p.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var D;if(D=ue===0){var H=String(p.D).match(Ak)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),D=!MF.test(H?H.toLowerCase():"")}N=D}if(N)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var Q=2<Mi(p)?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.Z()+"]",Dk(p)}}finally{Dh(p)}}}}function Dh(p,A){if(p.g){$k(p);const N=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||Ue(p,"ready");try{N.onreadystatechange=D}catch{}}}function $k(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Mi(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),Ta(A)}};function Lk(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function LF(p){const A={};p=(p.g&&2<=Mi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(_(p[D]))continue;var N=O(p[D]);const H=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Q=A[H]||[];A[H]=Q,Q.push(N)}T(A,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mu(p,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||A}function Vk(p){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mu("baseRetryDelayMs",5e3,p),this.cb=mu("retryDelaySeedMs",1e4,p),this.Wa=mu("forwardChannelMaxRetries",2,p),this.wa=mu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new bk(p&&p.concurrentRequestLimit),this.Da=new RF,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vk.prototype,t.la=8,t.G=1,t.connect=function(p,A,N,D){_t(0),this.W=p,this.H=A||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.I=Gk(this,null,this.W),$h(this)};function $y(p){if(Fk(p),p.G==3){var A=p.U++,N=Di(p.I);if(mt(N,"SID",p.K),mt(N,"RID",A),mt(N,"TYPE","terminate"),gu(p,N),A=new ka(p,p.j,A),A.L=2,A.v=Ih(Di(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(A.v.toString(),"")}catch{}!N&&s.Image&&(new Image().src=A.v,N=!0),N||(A.g=Yk(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Ph(A)}Hk(p)}function Mh(p){p.g&&(Vy(p),p.g.cancel(),p.g=null)}function Fk(p){Mh(p),p.u&&(s.clearTimeout(p.u),p.u=null),Lh(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function $h(p){if(!wk(p.h)&&!p.s){p.s=!0;var A=p.Ga;U||X(),F||(U(),F=!0),z.add(A,p),p.B=0}}function VF(p,A){return _k(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=cr(h(p.Ga,p,A),Wk(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const H=new ka(this,this.j,p);let Q=this.o;if(this.S&&(Q?(Q=k(Q),I(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,4096<A){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=zk(this,H,A),N=Di(this.I),mt(N,"RID",p),mt(N,"CVER",22),this.D&&mt(N,"X-HTTP-Session-Id",this.D),gu(this,N),Q&&(this.O?A="headers="+encodeURIComponent(String(Ok(Q)))+"&"+A:this.m&&My(N,this.m,Q)),Dy(this.h,H),this.Ua&&mt(N,"TYPE","init"),this.P?(mt(N,"$req",A),mt(N,"SID","null"),H.T=!0,Cy(H,N,null)):Cy(H,N,A),this.G=2}}else this.G==3&&(p?Bk(this,p):this.i.length==0||wk(this.h)||Bk(this))};function Bk(p,A){var N;A?N=A.l:N=p.U++;const D=Di(p.I);mt(D,"SID",p.K),mt(D,"RID",N),mt(D,"AID",p.T),gu(p,D),p.m&&p.o&&My(D,p.m,p.o),N=new ka(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),A&&(p.i=A.D.concat(p.i)),A=zk(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Dy(p.h,N),Cy(N,D,A)}function gu(p,A){p.H&&S(p.H,function(N,D){mt(A,D,N)}),p.l&&kk({},function(N,D){mt(A,D,N)})}function zk(p,A,N){N=Math.min(p.i.length,N);var D=p.l?h(p.l.Na,p.l,p):null;e:{var H=p.i;let Q=-1;for(;;){const ue=["count="+N];Q==-1?0<N?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let ct=!0;for(let ur=0;ur<N;ur++){let Je=H[ur].g;const _r=H[ur].map;if(Je-=Q,0>Je)Q=Math.max(0,H[ur].g-100),ct=!1;else try{DF(_r,ue,"req"+Je+"_")}catch{D&&D(_r)}}if(ct){D=ue.join("&");break e}}}return p=p.i.splice(0,N),A.D=p,D}function Uk(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;U||X(),F||(U(),F=!0),z.add(A,p),p.v=0}}function Ly(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=cr(h(p.Fa,p),Wk(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Kk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=cr(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Mh(this),Kk(this))};function Vy(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function Kk(p){p.g=new ka(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=Di(p.qa);mt(A,"RID","rpc"),mt(A,"SID",p.K),mt(A,"AID",p.T),mt(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&mt(A,"TO",p.ja),mt(A,"TYPE","xmlhttp"),gu(p,A),p.m&&p.o&&My(A,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=Ih(Di(A)),N.m=null,N.P=!0,vk(N,p)}t.Za=function(){this.C!=null&&(this.C=null,Mh(this),Ly(this),_t(19))};function Lh(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function qk(p,A){var N=null;if(p.g==A){Lh(p),Vy(p),p.g=null;var D=2}else if(Ry(p.h,A))N=A.D,Sk(p.h,A),D=1;else return;if(p.G!=0){if(A.o)if(D==1){N=A.m?A.m.length:0,A=Date.now()-A.F;var H=p.B;D=Xe(),Ue(D,new ci(D,N)),$h(p)}else Uk(p);else if(H=A.s,H==3||H==0&&0<A.X||!(D==1&&VF(p,A)||D==2&&Ly(p)))switch(N&&0<N.length&&(A=p.h,A.i=A.i.concat(N)),H){case 1:Do(p,5);break;case 4:Do(p,10);break;case 3:Do(p,6);break;default:Do(p,2)}}}function Wk(p,A){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*A}function Do(p,A){if(p.j.info("Error code "+A),A==2){var N=h(p.fb,p),D=p.Xa;const H=!D;D=new Ro(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Nh(D,"https"),Ih(D),H?IF(D.toString(),N):OF(D.toString(),N)}else _t(2);p.G=0,p.l&&p.l.sa(A),Hk(p),Fk(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Hk(p){if(p.G=0,p.ka=[],p.l){const A=Tk(p.h);(A.length!=0||p.i.length!=0)&&(w(p.ka,A),w(p.ka,p.i),p.h.i.length=0,v(p.i),p.i.length=0),p.l.ra()}}function Gk(p,A,N){var D=N instanceof Ro?Di(N):new Ro(N);if(D.g!="")A&&(D.g=A+"."+D.g),Ch(D,D.s);else{var H=s.location;D=H.protocol,A=A?A+"."+H.hostname:H.hostname,H=+H.port;var Q=new Ro(null);D&&Nh(Q,D),A&&(Q.g=A),H&&Ch(Q,H),N&&(Q.l=N),D=Q}return N=p.D,A=p.ya,N&&A&&mt(D,N,A),mt(D,"VER",p.la),gu(p,D),D}function Yk(p,A,N){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new It(new Oh({eb:N})):new It(p.pa),A.Ha(p.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xk(){}t=Xk.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vh(){}Vh.prototype.g=function(p,A){return new sn(p,A)};function sn(p,A){$e.call(this),this.g=new Vk(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!_(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!_(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Ws(this)}g(sn,$e),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){$y(this.g)},sn.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=Us(p),p=N);A.i.push(new _F(A.Ya++,p)),A.G==3&&$h(A)},sn.prototype.N=function(){this.g.l=null,delete this.j,$y(this.g),delete this.g,sn.aa.N.call(this)};function Qk(p){Io.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const N in A){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}g(Qk,Io);function Jk(){Sn.call(this),this.status=1}g(Jk,Sn);function Ws(p){this.g=p}g(Ws,Xk),Ws.prototype.ua=function(){Ue(this.g,"a")},Ws.prototype.ta=function(p){Ue(this.g,new Qk(p))},Ws.prototype.sa=function(p){Ue(this.g,new Jk)},Ws.prototype.ra=function(){Ue(this.g,"b")},Vh.prototype.createWebChannel=Vh.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,nM=function(){return new Vh},rM=function(){return Xe()},tM=Ri,yb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,Hp=Eh,pk.COMPLETE="complete",eM=pk,lu.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Uu=lu,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,ZD=It}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});const LE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new E_("@firebase/firestore");function ku(){return Ss.logLevel}function be(t,...e){if(Ss.logLevel<=We.DEBUG){const r=e.map(F_);Ss.debug(`Firestore (${$c}): ${t}`,...r)}}function la(t,...e){if(Ss.logLevel<=We.ERROR){const r=e.map(F_);Ss.error(`Firestore (${$c}): ${t}`,...r)}}function Yl(t,...e){if(Ss.logLevel<=We.WARN){const r=e.map(F_);Ss.warn(`Firestore (${$c}): ${t}`,...r)}}function F_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+t;throw la(e),new Error(e)}function at(t,e){t||Oe()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ya{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(jr.UNAUTHENTICATED))}shutdown(){}}class c7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class u7{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){at(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new io;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new io,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new io)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(at(typeof n.accessToken=="string"),new iM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new jr(e)}}class d7{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class f7{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new d7(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){at(this.o===void 0);const n=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(at(typeof r.token=="string"),this.R=r.token,new h7(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=m7(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Ze(t,e){return t<e?-1:t>e?1:0}function Xl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Zt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Zt(0,0))}static max(){return new Re(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Oe(),n===void 0?n=e.length-r:n>e.length-r&&Oe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Kd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Kd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xt extends Kd{construct(e,r,n){return new xt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new xt(r)}static emptyPath(){return new xt([])}}const g7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Kd{construct(e,r,n){return new mr(e,r,n)}static isValidIdentifier(e){return g7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(r)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(xt.fromString(e))}static fromName(e){return new ke(xt.fromString(e).popFirst(5))}static empty(){return new ke(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new xt(e.slice()))}}function v7(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(n===1e9?new Zt(r+1,0):new Zt(r,n));return new po(i,ke.empty(),e)}function y7(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new po(Re.min(),ke.empty(),-1)}static max(){return new po(Re.max(),ke.empty(),-1)}}function x7(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ke.comparator(t.documentKey,e.documentKey),r!==0?r:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==b7)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new oe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof oe?r:oe.resolve(r)}catch(r){return oe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):oe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):oe.reject(r)}static resolve(e){return new oe((r,n)=>{r(e)})}static reject(e){return new oe((r,n)=>{n(e)})}static waitFor(e){return new oe((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=oe.resolve(!1);for(const n of e)r=r.next(i=>i?oe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new oe((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(d=>{o[u]=d,++s,s===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new oe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function _7(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function eh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}B_.oe=-1;function gv(t){return t==null}function $m(t){return t===0&&1/t==-1/0}function S7(t){return typeof t=="number"&&Number.isInteger(t)&&!$m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ds(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function oM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||pr.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??pr.RED,this.left=i??pr.EMPTY,this.right=a??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new pr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return pr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new pr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new vr(this.comparator);return r.data=e,r}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new hn([])}unionWith(e){let r=new vr(mr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new hn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sM("Invalid base64 string: "+a):a}}(e);return new br(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new br(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const T7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(at(!!t),typeof t=="string"){let e=0;const r=T7.exec(t);if(at(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function U_(t){const e=t.mapValue.fields.__previous_value__;return z_(e)?U_(e):e}function qd(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,r,n,i,a,o,s,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Wd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Wd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={mapValue:{}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?z_(t)?4:E7(t)?9007199254740991:A7(t)?10:11:Oe()}function Ei(t,e){if(t===e)return!0;const r=ks(t);if(r!==ks(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=mo(i.timestampValue),s=mo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ts(i.bytesValue).isEqual(Ts(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Lt(i.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Lt(i.integerValue)===Lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Lt(i.doubleValue),s=Lt(a.doubleValue);return o===s?$m(o)===$m(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(VE(o)!==VE(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Ei(o[l],s[l])))return!1;return!0}(t,e);default:return Oe()}}function Hd(t,e){return(t.values||[]).find(r=>Ei(r,e))!==void 0}function Ql(t,e){if(t===e)return 0;const r=ks(t),n=ks(e);if(r!==n)return Ze(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Lt(a.integerValue||a.doubleValue),l=Lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return BE(t.timestampValue,e.timestampValue);case 4:return BE(qd(t),qd(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ts(a),l=Ts(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=Ze(s[u],l[u]);if(d!==0)return d}return Ze(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Ze(Lt(a.latitude),Lt(o.latitude));return s!==0?s:Ze(Lt(a.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zE(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,d;const f=a.fields||{},h=o.fields||{},m=(s=f.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=Ze(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:zE(m,g)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===lp.mapValue&&o===lp.mapValue)return 0;if(a===lp.mapValue)return 1;if(o===lp.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ze(l[f],d[f]);if(h!==0)return h;const m=Ql(s[l[f]],u[d[f]]);if(m!==0)return m}return Ze(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function BE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const r=mo(t),n=mo(e),i=Ze(r.seconds,n.seconds);return i!==0?i:Ze(r.nanos,n.nanos)}function zE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ql(r[i],n[i]);if(a)return a}return Ze(r.length,n.length)}function Jl(t){return xb(t)}function xb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=mo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ts(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ke.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=xb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${xb(r.fields[o])}`;return i+"}"}(t.mapValue):Oe()}function UE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bb(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function qE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function A7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=od(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=od(t.arrayValue.values[r]);return e}return Object.assign({},t)}function E7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Gp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(r)}setAll(e){let r=mr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=od(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Gp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ds(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Jr(od(this.value))}}function lM(t){const e=[];return Ds(t.fields,(r,n)=>{const i=new mr([r]);if(Gp(n)){const a=lM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Nr(e,0,Re.min(),Re.min(),Re.min(),Jr.empty(),0)}static newFoundDocument(e,r,n,i){return new Nr(e,1,r,Re.min(),n,i,0)}static newNoDocument(e,r){return new Nr(e,2,r,Re.min(),Re.min(),Jr.empty(),0)}static newUnknownDocument(e,r){return new Nr(e,3,r,Re.min(),Re.min(),Jr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,r){this.position=e,this.inclusive=r}}function WE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ke.comparator(ke.fromName(o.referenceValue),r.key):n=Ql(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function HE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ei(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,r="asc"){this.field=e,this.dir=r}}function j7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{}class Kt extends cM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new N7(e,r,n):r==="array-contains"?new O7(e,n):r==="in"?new R7(e,n):r==="not-in"?new D7(e,n):r==="array-contains-any"?new M7(e,n):new Kt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new C7(e,n):new I7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ql(r,this.value)):r!==null&&ks(this.value)===ks(r)&&this.matchesComparison(Ql(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends cM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new si(e,r)}matches(e){return uM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uM(t){return t.op==="and"}function dM(t){return P7(t)&&uM(t)}function P7(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function wb(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(dM(t))return t.filters.map(e=>wb(e)).join(",");{const e=t.filters.map(r=>wb(r)).join(",");return`${t.op}(${e})`}}function fM(t,e){return t instanceof Kt?function(n,i){return i instanceof Kt&&n.op===i.op&&n.field.isEqual(i.field)&&Ei(n.value,i.value)}(t,e):t instanceof si?function(n,i){return i instanceof si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&fM(o,i.filters[s]),!0):!1}(t,e):void Oe()}function hM(t){return t instanceof Kt?function(r){return`${r.field.canonicalString()} ${r.op} ${Jl(r.value)}`}(t):t instanceof si?function(r){return r.op.toString()+" {"+r.getFilters().map(hM).join(" ,")+"}"}(t):"Filter"}class N7 extends Kt{constructor(e,r,n){super(e,r,n),this.key=ke.fromName(n.referenceValue)}matches(e){const r=ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class C7 extends Kt{constructor(e,r){super(e,"in",r),this.keys=pM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class I7 extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=pM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function pM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ke.fromName(n.referenceValue))}class O7 extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return K_(r)&&Hd(r.arrayValue,this.value)}}class R7 extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Hd(this.value.arrayValue,r)}}class D7 extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Hd(this.value.arrayValue,r)}}class M7 extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!K_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Hd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function GE(t,e=null,r=[],n=[],i=null,a=null,o=null){return new $7(t,e,r,n,i,a,o)}function q_(t){const e=De(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>wb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),gv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Jl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Jl(n)).join(",")),e.ue=r}return e.ue}function W_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!j7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!fM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HE(t.startAt,e.startAt)&&HE(t.endAt,e.endAt)}function _b(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L7(t,e,r,n,i,a,o,s){return new Lc(t,e,r,n,i,a,o,s)}function vv(t){return new Lc(t)}function YE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mM(t){return t.collectionGroup!==null}function sd(t){const e=De(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new vr(mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Gd(a,n))}),r.has(mr.keyField().canonicalString())||e.ce.push(new Gd(mr.keyField(),n))}return e.ce}function bi(t){const e=De(t);return e.le||(e.le=V7(e,sd(t))),e.le}function V7(t,e){if(t.limitType==="F")return GE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Gd(i.field,a)});const r=t.endAt?new Lm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Lm(t.startAt.position,t.startAt.inclusive):null;return GE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Sb(t,e){const r=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Tb(t,e,r){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function yv(t,e){return W_(bi(t),bi(e))&&t.limitType===e.limitType}function gM(t){return`${q_(bi(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>hM(i)).join(", ")}]`),gv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Jl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Jl(i)).join(",")),`Target(${n})`}(bi(t))}; limitType=${t.limitType})`}function xv(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ke.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of sd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=WE(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,sd(n),i)||n.endAt&&!function(o,s,l){const u=WE(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,sd(n),i))}(t,e)}function F7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vM(t){return(e,r)=>{let n=!1;for(const i of sd(t)){const a=B7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function B7(t,e,r){const n=t.field.isKeyField()?ke.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ql(l,u):Oe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return oM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=new Ct(ke.comparator);function ca(){return z7}const yM=new Ct(ke.comparator);function Ku(...t){let e=yM;for(const r of t)e=e.insert(r.key,r);return e}function xM(t){let e=yM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Qo(){return ld()}function bM(){return ld()}function ld(){return new Vc(t=>t.toString(),(t,e)=>t.isEqual(e))}const U7=new Ct(ke.comparator),K7=new vr(ke.comparator);function qe(...t){let e=K7;for(const r of t)e=e.add(r);return e}const q7=new vr(Ze);function W7(){return q7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$m(e)?"-0":e}}function wM(t){return{integerValue:""+t}}function _M(t,e){return S7(e)?wM(e):H_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this._=void 0}}function H7(t,e,r){return t instanceof Yd?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&z_(a)&&(a=U_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Xd?TM(t,e):t instanceof Qd?kM(t,e):function(i,a){const o=SM(i,a),s=XE(o)+XE(i.Pe);return bb(o)&&bb(i.Pe)?wM(s):H_(i.serializer,s)}(t,e)}function G7(t,e,r){return t instanceof Xd?TM(t,e):t instanceof Qd?kM(t,e):r}function SM(t,e){return t instanceof Jd?function(n){return bb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Yd extends bv{}class Xd extends bv{constructor(e){super(),this.elements=e}}function TM(t,e){const r=AM(e);for(const n of t.elements)r.some(i=>Ei(i,n))||r.push(n);return{arrayValue:{values:r}}}class Qd extends bv{constructor(e){super(),this.elements=e}}function kM(t,e){let r=AM(e);for(const n of t.elements)r=r.filter(i=>!Ei(i,n));return{arrayValue:{values:r}}}class Jd extends bv{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function XE(t){return Lt(t.integerValue||t.doubleValue)}function AM(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,r){this.field=e,this.transform=r}}function Y7(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Xd&&i instanceof Xd||n instanceof Qd&&i instanceof Qd?Xl(n.elements,i.elements,Ei):n instanceof Jd&&i instanceof Jd?Ei(n.Pe,i.Pe):n instanceof Yd&&i instanceof Yd}(t.transform,e.transform)}class X7{constructor(e,r){this.version=e,this.transformResults=r}}class Kr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wv{}function jM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _v(t.key,Kr.none()):new th(t.key,t.data,Kr.none());{const r=t.data,n=Jr.empty();let i=new vr(mr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new To(t.key,n,new hn(i.toArray()),Kr.none())}}function Q7(t,e,r){t instanceof th?function(i,a,o){const s=i.value.clone(),l=JE(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof To?function(i,a,o){if(!Yp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=JE(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(PM(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function cd(t,e,r,n){return t instanceof th?function(a,o,s,l){if(!Yp(a.precondition,o))return s;const u=a.value.clone(),d=ZE(a.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof To?function(a,o,s,l){if(!Yp(a.precondition,o))return s;const u=ZE(a.fieldTransforms,l,o),d=o.data;return d.setAll(PM(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return Yp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function J7(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=SM(n.transform,i||null);a!=null&&(r===null&&(r=Jr.empty()),r.set(n.field,a))}return r||null}function QE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xl(n,i,(a,o)=>Y7(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends wv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends wv{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function JE(t,e,r){const n=new Map;at(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,G7(o,s,r[i]))}return n}function ZE(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,H7(a,o,e))}return n}class _v extends wv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z7 extends wv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Q7(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=cd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=cd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=bM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=jM(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),qe())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(r,n)=>QE(r,n))&&Xl(this.baseMutations,e.baseMutations,(r,n)=>QE(r,n))}}class G_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){at(e.mutations.length===n.length);let i=function(){return U7}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new G_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,He;function nK(t){switch(t){default:return Oe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function NM(t){if(t===void 0)return la("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ft.OK:return te.OK;case Ft.CANCELLED:return te.CANCELLED;case Ft.UNKNOWN:return te.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return te.INTERNAL;case Ft.UNAVAILABLE:return te.UNAVAILABLE;case Ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ft.NOT_FOUND:return te.NOT_FOUND;case Ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ft.ABORTED:return te.ABORTED;case Ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ft.DATA_LOSS:return te.DATA_LOSS;default:return Oe()}}(He=Ft||(Ft={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new ss([4294967295,4294967295],0);function ej(t){const e=iK().encode(t),r=new JD;return r.update(e),new Uint8Array(r.digest())}function tj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ss([r,n],0),new ss([i,a],0)]}class Y_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qu(`Invalid padding: ${r}`);if(n<0)throw new qu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ss.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(ss.fromNumber(n)));return i.compare(aK)===1&&(i=new ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=ej(e),[n,i]=tj(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Y_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=ej(e),[n,i]=tj(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,rh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Sv(Re.min(),i,new Ct(Ze),ca(),qe())}}class rh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new rh(n,r,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class CM{constructor(e,r){this.targetId=e,this.me=r}}class IM{constructor(e,r,n=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class rj{constructor(){this.fe=0,this.ge=ij(),this.pe=br.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),r=qe(),n=qe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Oe()}}),new rh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=ij()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oK{constructor(e){this.Le=e,this.Be=new Map,this.ke=ca(),this.qe=nj(),this.Qe=new Ct(Ze)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(_b(a))if(n===0){const o=new ke(a.path);this.Ue(r,o,Nr.newNoDocument(o,Re.min()))}else at(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Ts(n).toUint8Array()}catch(l){if(l instanceof sM)return Yl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Y_(o,i,a)}catch(l){return Yl(l instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&_b(s.target)){const l=new ke(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Nr.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=qe();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Sv(e,r,this.Qe,this.ke,n);return this.ke=ca(),this.qe=nj(),this.Qe=new Ct(Ze),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new rj,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new vr(Ze),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rj),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function nj(){return new Ct(ke.comparator)}function ij(){return new Ct(ke.comparator)}const sK={asc:"ASCENDING",desc:"DESCENDING"},lK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cK={and:"AND",or:"OR"};class uK{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function kb(t,e){return t.useProto3Json||gv(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dK(t,e){return Vm(t,e.toTimestamp())}function wi(t){return at(!!t),Re.fromTimestamp(function(r){const n=mo(r);return new Zt(n.seconds,n.nanos)}(t))}function X_(t,e){return Ab(t,e).canonicalString()}function Ab(t,e){const r=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function RM(t){const e=xt.fromString(t);return at(VM(e)),e}function Eb(t,e){return X_(t.databaseId,e.path)}function bx(t,e){const r=RM(e);if(r.get(1)!==t.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ke(MM(r))}function DM(t,e){return X_(t.databaseId,e)}function fK(t){const e=RM(t);return e.length===4?xt.emptyPath():MM(e)}function jb(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MM(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aj(t,e,r){return{name:Eb(t,e),fields:r.value.mapValue.fields}}function hK(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(at(d===void 0||typeof d=="string"),br.fromBase64String(d||"")):(at(d===void 0||d instanceof Buffer||d instanceof Uint8Array),br.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const d=u.code===void 0?te.UNKNOWN:NM(u.code);return new me(d,u.message||"")}(o);r=new IM(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bx(t,n.document.name),a=wi(n.document.updateTime),o=n.document.createTime?wi(n.document.createTime):Re.min(),s=new Jr({mapValue:{fields:n.document.fields}}),l=Nr.newFoundDocument(i,a,o,s),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Xp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bx(t,n.document),a=n.readTime?wi(n.readTime):Re.min(),o=Nr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new Xp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bx(t,n.document),a=n.removedTargetIds||[];r=new Xp([],a,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new rK(i,a),s=n.targetId;r=new CM(s,o)}}return r}function pK(t,e){let r;if(e instanceof th)r={update:aj(t,e.key,e.value)};else if(e instanceof _v)r={delete:Eb(t,e.key)};else if(e instanceof To)r={update:aj(t,e.key,e.data),updateMask:SK(e.fieldMask)};else{if(!(e instanceof Z7))return Oe();r={verify:Eb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Yd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Xd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Qd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Jd)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Oe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(t,e.precondition)),r}function mK(t,e){return t&&t.length>0?(at(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?wi(i.updateTime):wi(a);return o.isEqual(Re.min())&&(o=wi(a)),new X7(o,i.transformResults||[])}(r,e))):[]}function gK(t,e){return{documents:[DM(t,e.path)]}}function vK(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=DM(t,i);const a=function(u){if(u.length!==0)return LM(si.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:el(h.field),direction:bK(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=kb(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function yK(t){let e=fK(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){at(n===1);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=$M(f);return h instanceof si&&dM(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(g){return new Gd(tl(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,gv(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Lm(m,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Lm(m,h)}(r.endAt)),L7(e,i,o,a,s,"F",l,u)}function xK(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function $M(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=tl(r.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(r.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=tl(r.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tl(r.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(r){return Kt.create(tl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return si.create(r.compositeFilter.filters.map(n=>$M(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(r.compositeFilter.op))}(t):Oe()}function bK(t){return sK[t]}function wK(t){return lK[t]}function _K(t){return cK[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return mr.fromServerFormat(t.fieldPath)}function LM(t){return t instanceof Kt?function(r){if(r.op==="=="){if(qE(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NAN"}};if(KE(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(qE(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NOT_NAN"}};if(KE(r.value))return{unaryFilter:{field:el(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(r.field),op:wK(r.op),value:r.value}}}(t):t instanceof si?function(r){const n=r.getFilters().map(i=>LM(i));return n.length===1?n[0]:{compositeFilter:{op:_K(r.op),filters:n}}}(t):Oe()}function SK(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function VM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,r,n,i,a=Re.min(),o=Re.min(),s=br.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.ct=e}}function kK(t){const e=yK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.un=new EK}addToCollectionParentIndex(e,r){return this.un.add(r),oe.resolve()}getCollectionParents(e,r){return oe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return oe.resolve()}deleteFieldIndex(e,r){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,r){return oe.resolve()}getDocumentsMatchingTarget(e,r){return oe.resolve(null)}getIndexType(e,r){return oe.resolve(0)}getFieldIndexes(e,r){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,r){return oe.resolve(po.min())}getMinOffsetFromCollectionGroup(e,r){return oe.resolve(po.min())}updateCollectionGroup(e,r,n){return oe.resolve()}updateIndexEntries(e,r){return oe.resolve()}}class EK{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new vr(xt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new vr(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zl(0)}static kn(){return new Zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(){this.changes=new Vc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?oe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&cd(n.mutation,i,hn.empty(),Zt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,qe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=qe()){const i=Qo();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Ku();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Qo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,qe()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ca();const o=ld(),s=function(){return ld()}();return r.forEach((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof To)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),cd(d.mutation,u,d.mutation.getFieldMask(),Zt.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var f;return s.set(u,new PK(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=ld();let i=new Ct((o,s)=>o-s),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||hn.empty();d=s.applyToLocalView(u,d),n.set(l,d);const f=(i.get(s.batchId)||qe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=bM();d.forEach(h=>{if(!a.has(h)){const m=jM(r.get(h),n.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return oe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):mM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):oe.resolve(Qo());let s=-1,l=a;return o.next(u=>oe.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(d)?oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,qe())).next(d=>({batchId:s,changes:xM(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ke(r)).next(n=>{let i=Ku();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Ku();return this.indexManager.getCollectionParents(e,a).next(s=>oe.forEach(s,l=>{const u=function(f,h){return new Lc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nr.newInvalidDocument(d)))});let s=Ku();return o.forEach((l,u)=>{const d=a.get(l);d!==void 0&&cd(d.mutation,u,hn.empty(),Zt.now()),xv(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return oe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:wi(i.createTime)}}(r)),oe.resolve()}getNamedQuery(e,r){return oe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:kK(i.bundledQuery),readTime:wi(i.readTime)}}(r)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.overlays=new Ct(ke.comparator),this.Ir=new Map}getOverlay(e,r){return oe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Qo();return oe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),oe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),oe.resolve()}getOverlaysForCollection(e,r,n){const i=Qo(),a=r.length+1,o=new ke(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Ct((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Qo(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=Qo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return oe.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new tK(r,n));let a=this.Ir.get(r);a===void 0&&(a=qe(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Tr=new vr(tr.Er),this.dr=new vr(tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new tr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new tr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ke(new xt([])),n=new tr(r,e),i=new tr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ke(new xt([])),n=new tr(r,e),i=new tr(r,e+1);let a=qe();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new tr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class tr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ke.comparator(e.key,r.key)||Ze(e.wr,r.wr)}static Ar(e,r){return Ze(e.wr,r.wr)||ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new vr(tr.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eK(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new tr(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,r){return oe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new tr(r,0),i=new tr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new vr(Ze);return r.forEach(i=>{const a=new tr(i,0),o=new tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),oe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ke.isDocumentKey(a)||(a=a.child(""));const o=new tr(new ke(a),0);let s=new vr(Ze);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),oe.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){at(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return oe.forEach(r.mutations,i=>{const a=new tr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new tr(r,0),i=this.br.firstAfterOrEqual(n);return oe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.Mr=e,this.docs=function(){return new Ct(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return oe.resolve(n?n.document.mutableCopy():Nr.newInvalidDocument(r))}getEntries(e,r){let n=ca();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Nr.newInvalidDocument(i))}),oe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ca();const o=r.path,s=new ke(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||x7(y7(d),n)<=0||(i.has(d.key)||xv(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Oe()}Or(e,r){return oe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new MK(this)}getSize(e){return oe.resolve(this.size)}}class MK extends jK{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),oe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.persistence=e,this.Nr=new Vc(r=>q_(r),W_),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Q_,this.targetCount=0,this.kr=Zl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Zl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,oe.resolve()}updateTargetData(e,r){return this.Kn(r),oe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return oe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),oe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),oe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return oe.resolve(n)}containsKey(e,r){return oe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,r){this.qr={},this.overlays={},this.Qr=new B_(0),this.Kr=!1,this.Kr=!0,this.$r=new OK,this.referenceDelegate=e(this),this.Ur=new $K(this),this.indexManager=new AK,this.remoteDocumentCache=function(i){return new DK(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new TK(r),this.Gr=new CK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new IK,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new RK(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){be("MemoryPersistence","Starting transaction:",e);const i=new VK(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return oe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class VK extends w7{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.Jr=new Q_,this.Yr=null}static Zr(e){return new J_(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),oe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),oe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),oe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,n=>{const i=ke.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return oe.or([()=>oe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=qe(),i=qe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Z_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jz()?8:_7(Mr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new FK;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ku()<=We.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Zs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(ku()<=We.DEBUG&&be("QueryEngine","Query:",Zs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ku()<=We.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Zs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(r))):oe.resolve())}Yi(e,r){if(YE(r))return oe.resolve(null);let n=bi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Tb(r,null,"F"),n=bi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=qe(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(e,Tb(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return YE(r)||i.isEqual(Re.min())?oe.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?oe.resolve(null):(ku()<=We.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(r)),this.rs(e,o,r,v7(i,-1)).next(s=>s))})}ts(e,r){let n=new vr(vM(e));return r.forEach((i,a)=>{xv(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return ku()<=We.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Zs(r)),this.Ji.getDocumentsMatchingQuery(e,r,po.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Ct(Ze),this._s=new Vc(a=>q_(a),W_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function UK(t,e,r,n){return new zK(t,e,r,n)}async function FM(t,e){const r=De(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=qe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function KK(t,e){const r=De(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,d){const f=u.batch,h=f.keys();let m=oe.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(v=>{const w=u.docVersions.get(g);at(w!==null),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=qe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function BM(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function qK(t,e){const r=De(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(br.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),i=i.insert(f,m),function(v,w,y){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,d)&&s.push(r.Ur.updateTargetData(a,m))});let l=ca(),u=qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(WK(a,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!n.isEqual(Re.min())){const d=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return oe.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function WK(t,e,r){let n=qe(),i=qe();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ca();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):be("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function HK(t,e){const r=De(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function GK(t,e){const r=De(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,oe.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Ka(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Pb(t,e,r){const n=De(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!eh(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function oj(t,e,r){const n=De(t);let i=Re.min(),a=qe();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=De(l),h=f._s.get(d);return h!==void 0?oe.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(n,o,bi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Re.min(),r?a:qe())).next(s=>(YK(n,F7(e),s),{documents:s,Ts:a})))}function YK(t,e,r){let n=t.us.get(e)||Re.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class sj{constructor(){this.activeTargetIds=W7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XK{constructor(){this.so=new sj,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function wx(){return cp===null?cp=function(){return 268435456+Math.round(2147483648*Math.random())}():cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class eq extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=wx(),l=this.xo(r,n.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(d=>(be("RestConnection",`Received RPC '${r}' ${s}: `,d),d),d=>{throw Yl("RestConnection",`RPC '${r}' ${s} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$c}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=JK[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=wx();return new Promise((o,s)=>{const l=new ZD;l.setWithCredentials(!0),l.listenOnce(eM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hp.NO_ERROR:const d=l.getResponseJson();be(Ar,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Hp.TIMEOUT:be(Ar,`RPC '${e}' ${a} timed out`),s(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:const f=l.getStatus();if(be(Ar,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(y)>=0?y:te.UNKNOWN}(m.status);s(new me(g,m.message))}else s(new me(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new me(te.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{be(Ar,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);be(Ar,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=wx(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nM(),s=rM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");be(Ar,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,m=!1;const g=new ZK({Io:w=>{m?be(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(be(Ar,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),be(Ar,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),v=(w,y,_)=>{w.listen(y,b=>{try{_(b)}catch(j){setTimeout(()=>{throw j},0)}})};return v(f,Uu.EventType.OPEN,()=>{m||(be(Ar,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,Uu.EventType.CLOSE,()=>{m||(m=!0,be(Ar,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,Uu.EventType.ERROR,w=>{m||(m=!0,Yl(Ar,`RPC '${e}' stream ${i} transport errored:`,w),g.So(new me(te.UNAVAILABLE,"The operation could not be completed")))}),v(f,Uu.EventType.MESSAGE,w=>{var y;if(!m){const _=w.data[0];at(!!_);const b=_,j=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(j){be(Ar,`RPC '${e}' stream ${i} received error:`,j);const x=j.status;let S=function(E){const I=Ft[E];if(I!==void 0)return NM(I)}(x),T=j.message;S===void 0&&(S=te.INTERNAL,T="Unknown error status: "+x+" with message "+j.message),m=!0,g.So(new me(S,T)),f.close()}else be(Ar,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),v(s,tM.STAT_EVENT,w=>{w.stat===yb.PROXY?be(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===yb.NOPROXY&&be(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function _x(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){return new uK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===te.RESOURCE_EXHAUSTED?(la(r.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new me(te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tq extends UM{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=hK(this.serializer,e),n=function(a){if(!("targetChange"in a))return Re.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?wi(o.readTime):Re.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=jb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=_b(l)?{documents:gK(a,l)}:{query:vK(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=OM(a,o.resumeToken);const u=kb(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Re.min())>0){s.readTime=Vm(a,o.snapshotVersion.toTimestamp());const u=kb(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=xK(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=jb(this.serializer),r.removeTarget=e,this.a_(r)}}class rq extends UM{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=mK(e.writeResults,e.commitTime),n=wi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=jb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>pK(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Ab(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Ab(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iq{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(la(r),this.D_=!1):be("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Ms(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=De(l);u.L_.add(4),await nh(u),u.q_.set("Unknown"),u.L_.delete(4),await kv(u)}(this))})}),this.q_=new iq(n,i)}}async function kv(t){if(Ms(t))for(const e of t.B_)await e(!0)}async function nh(t){for(const e of t.B_)await e(!1)}function KM(t,e){const r=De(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),nS(r)?rS(r):Fc(r).r_()&&tS(r,e))}function eS(t,e){const r=De(t),n=Fc(r);r.N_.delete(e),n.r_()&&qM(r,e),r.N_.size===0&&(n.r_()?n.o_():Ms(r)&&r.q_.set("Unknown"))}function tS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Fc(t).A_(e)}function qM(t,e){t.Q_.xe(e),Fc(t).R_(e)}function rS(t){t.Q_=new oK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function nS(t){return Ms(t)&&!Fc(t).n_()&&t.N_.size>0}function Ms(t){return De(t).L_.size===0}function WM(t){t.Q_=void 0}async function oq(t){t.q_.set("Online")}async function sq(t){t.N_.forEach((e,r)=>{tS(t,e)})}async function lq(t,e){WM(t),nS(t)?(t.q_.M_(e),rS(t)):t.q_.set("Unknown")}async function cq(t,e,r){if(t.q_.set("Online"),e instanceof IM&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Fm(t,n)}else if(e instanceof Xp?t.Q_.Ke(e):e instanceof CM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Re.min()))try{const n=await BM(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.N_.get(u);d&&a.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const d=a.N_.get(l);if(!d)return;a.N_.set(l,d.withResumeToken(br.EMPTY_BYTE_STRING,d.snapshotVersion)),qM(a,l);const f=new Ka(d.target,l,u,d.sequenceNumber);tS(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){be("RemoteStore","Failed to raise snapshot:",n),await Fm(t,n)}}async function Fm(t,e,r){if(!eh(e))throw e;t.L_.add(1),await nh(t),t.q_.set("Offline"),r||(r=()=>BM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await kv(t)})}function HM(t,e){return e().catch(r=>Fm(t,r,e))}async function Av(t){const e=De(t),r=go(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uq(e);)try{const i=await HK(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,dq(e,i)}catch(i){await Fm(e,i)}GM(e)&&YM(e)}function uq(t){return Ms(t)&&t.O_.length<10}function dq(t,e){t.O_.push(e);const r=go(t);r.r_()&&r.V_&&r.m_(e.mutations)}function GM(t){return Ms(t)&&!go(t).n_()&&t.O_.length>0}function YM(t){go(t).start()}async function fq(t){go(t).p_()}async function hq(t){const e=go(t);for(const r of t.O_)e.m_(r.mutations)}async function pq(t,e,r){const n=t.O_.shift(),i=G_.from(n,e,r);await HM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Av(t)}async function mq(t,e){e&&go(t).V_&&await async function(n,i){if(function(o){return nK(o)&&o!==te.ABORTED}(i.code)){const a=n.O_.shift();go(n).s_(),await HM(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Av(n)}}(t,e),GM(t)&&YM(t)}async function cj(t,e){const r=De(t);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const n=Ms(r);r.L_.add(3),await nh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await kv(r)}async function gq(t,e){const r=De(t);e?(r.L_.delete(2),await kv(r)):e||(r.L_.add(2),await nh(r),r.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=function(r,n,i){const a=De(r);return a.w_(),new tq(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oq.bind(null,t),Ro:sq.bind(null,t),mo:lq.bind(null,t),d_:cq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nS(t)?rS(t):t.q_.set("Unknown")):(await t.K_.stop(),WM(t))})),t.K_}function go(t){return t.U_||(t.U_=function(r,n,i){const a=De(r);return a.w_(),new rq(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fq.bind(null,t),mo:mq.bind(null,t),f_:hq.bind(null,t),g_:pq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Av(t)):(await t.U_.stop(),t.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new iS(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aS(t,e){if(la("AsyncQueue",`${e}: ${t}`),eh(t))return new me(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ke.comparator(r.key,n.key):(r,n)=>ke.comparator(r.key,n.key),this.keyedMap=Ku(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Rl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.W_=new Ct(ke.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ec{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new ec(e,r,Rl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yq{constructor(){this.queries=dj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=De(r),a=i.queries;i.queries=dj(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function dj(){return new Vc(t=>gM(t),yv)}async function XM(t,e){const r=De(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new vq,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=aS(o,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&oS(r)}async function QM(t,e){const r=De(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function xq(t,e){const r=De(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&oS(r)}function bq(t,e,r){const n=De(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function oS(t){t.Y_.forEach(e=>{e.next()})}var Nb,fj;(fj=Nb||(Nb={})).ea="default",fj.Cache="cache";class JM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ec(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Nb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.key=e}}class e${constructor(e){this.key=e}}class wq{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qe(),this.mutatedKeys=qe(),this.Aa=vM(e),this.Ra=new Rl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new uj,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=xv(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;h&&m?h.data.isEqual(m.data)?g!==v&&(n.track({type:3,doc:m}),w=!0):this.ga(h,m)||(n.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),w=!0):h&&!m&&(n.track({type:1,doc:h}),w=!0,(l||u)&&(s=!0)),w&&(m?(o=o.add(m),a=v?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(m,g){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return v(m)-v(g)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ec(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=qe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new e$(n))}),this.da.forEach(n=>{e.has(n)||r.push(new ZM(n))}),r}ba(e){this.Ta=e.Ts,this.da=qe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _q{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Sq{constructor(e){this.key=e,this.va=!1}}class Tq{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Vc(s=>gM(s),yv),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(ke.comparator),this.Na=new Map,this.La=new Q_,this.Ba={},this.ka=new Map,this.qa=Zl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kq(t,e,r=!0){const n=o$(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await t$(n,e,r,!0),i}async function Aq(t,e){const r=o$(t);await t$(r,e,!0,!1)}async function t$(t,e,r,n){const i=await GK(t.localStore,bi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await Eq(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&KM(t.remoteStore,i),s}async function Eq(t,e,r,n,i){t.Ka=(f,h,m)=>async function(v,w,y,_){let b=w.view.ma(y);b.ns&&(b=await oj(v.localStore,w.query,!1).then(({documents:T})=>w.view.ma(T,b)));const j=_&&_.targetChanges.get(w.targetId),x=_&&_.targetMismatches.get(w.targetId)!=null,S=w.view.applyChanges(b,v.isPrimaryClient,j,x);return pj(v,w.targetId,S.wa),S.snapshot}(t,f,h,m);const a=await oj(t.localStore,e,!0),o=new wq(e,a.Ts),s=o.ma(a.documents),l=rh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);pj(t,r,u.wa);const d=new _q(e,r,o);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function jq(t,e,r){const n=De(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!yv(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Pb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&eS(n.remoteStore,i.targetId),Cb(n,i.targetId)}).catch(Zf)):(Cb(n,i.targetId),await Pb(n.localStore,i.targetId,!0))}async function Pq(t,e){const r=De(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),eS(r.remoteStore,n.targetId))}async function Nq(t,e,r){const n=$q(t);try{const i=await function(o,s){const l=De(o),u=Zt.now(),d=s.reduce((m,g)=>m.add(g.key),qe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=ca(),v=qe();return l.cs.getEntries(m,d).next(w=>{g=w,g.forEach((y,_)=>{_.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(w=>{f=w;const y=[];for(const _ of s){const b=J7(_,f.get(_.key).overlayedDocument);b!=null&&y.push(new To(_.key,b,lM(b.value.mapValue),Kr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,s)}).next(w=>{h=w;const y=w.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,w.batchId,y)})}).then(()=>({batchId:h.batchId,changes:xM(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ct(Ze)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await ih(n,i.changes),await Av(n.remoteStore)}catch(i){const a=aS(i,"Failed to persist write");r.reject(a)}}async function r$(t,e){const r=De(t);try{const n=await qK(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?at(o.va):i.removedDocuments.size>0&&(at(o.va),o.va=!1))}),await ih(r,n,e)}catch(n){await Zf(n)}}function hj(t,e,r){const n=De(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=De(o);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&oS(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Cq(t,e,r){const n=De(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Ct(ke.comparator);o=o.insert(a,Nr.newNoDocument(a,Re.min()));const s=qe().add(a),l=new Sv(Re.min(),new Map,new Ct(Ze),o,s);await r$(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),sS(n)}else await Pb(n.localStore,e,!1).then(()=>Cb(n,e,r)).catch(Zf)}async function Iq(t,e){const r=De(t),n=e.batch.batchId;try{const i=await KK(r.localStore,e);i$(r,n,null),n$(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ih(r,i)}catch(i){await Zf(i)}}async function Oq(t,e,r){const n=De(t);try{const i=await function(o,s){const l=De(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(at(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,e);i$(n,e,r),n$(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ih(n,i)}catch(i){await Zf(i)}}function n$(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function i$(t,e,r){const n=De(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Cb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||a$(t,n)})}function a$(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(eS(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),sS(t))}function pj(t,e,r){for(const n of r)n instanceof ZM?(t.La.addReference(n.key,e),Rq(t,n)):n instanceof e$?(be("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||a$(t,n.key)):Oe()}function Rq(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(be("SyncEngine","New document in limbo: "+r),t.xa.add(n),sS(t))}function sS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ke(xt.fromString(e)),n=t.qa.next();t.Na.set(n,new Sq(r)),t.Oa=t.Oa.insert(r,n),KM(t.remoteStore,new Ka(bi(vv(r.path)),n,"TargetPurposeLimboResolution",B_.oe))}}async function ih(t,e,r){const n=De(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Z_.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const d=De(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(u,h=>oe.forEach(h.$i,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>oe.forEach(h.Ui,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!eh(f))throw f;be("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.os.get(h),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(h,v)}}}(n.localStore,a))}async function Dq(t,e){const r=De(t);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const n=await FM(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new me(te.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ih(r,n.hs)}}function Mq(t,e){const r=De(t),n=r.Na.get(e);if(n&&n.va)return qe().add(n.key);{let i=qe();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function o$(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cq.bind(null,e),e.Ca.d_=xq.bind(null,e.eventManager),e.Ca.$a=bq.bind(null,e.eventManager),e}function $q(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oq.bind(null,e),e}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return UK(this.persistence,new BK,e.initialUser,this.serializer)}Ga(e){return new LK(J_.Zr,this.serializer)}Wa(e){return new XK}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class Ib{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>hj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dq.bind(null,this.syncEngine),await gq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yq}()}createDatastore(e){const r=Tv(e.databaseInfo.databaseId),n=function(a){return new eq(a)}(e.databaseInfo);return function(a,o,s,l){return new nq(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new aq(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>hj(this.syncEngine,r,0),function(){return lj.D()?new lj:new QK}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,d){const f=new Tq(i,a,o,s,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=De(i);be("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await nh(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ib.provider={build:()=>new Ib};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=aM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{be("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=aS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await FM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Vq(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>cj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>cj(e.remoteStore,i)),t._onlineComponents=e}async function Vq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Yl("Error using user provided cache. Falling back to memory cache: "+r),await Sx(t,new Bm)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Sx(t,new Bm);return t._offlineComponents}async function l$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await mj(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await mj(t,new Ib))),t._onlineComponents}function Fq(t){return l$(t).then(e=>e.syncEngine)}async function Ob(t){const e=await l$(t),r=e.eventManager;return r.onListen=kq.bind(null,e.syncEngine),r.onUnlisten=jq.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Aq.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Pq.bind(null,e.syncEngine),r}function Bq(t,e,r={}){const n=new io;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const d=new s$({next:h=>{d.Za(),o.enqueueAndForget(()=>QM(a,f));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new JM(vv(s.path),d,{includeMetadataChanges:!0,_a:!0});return XM(a,f)}(await Ob(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t,e,r){if(!r)throw new me(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zq(t,e,r,n){if(e===!0&&n===!0)throw new me(te.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function vj(t){if(!ke.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yj(t){if(ke.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ev(t);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c$((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jv{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xj(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new l7;switch(n.type){case"firstParty":return new f7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=gj.get(r);n&&(be("ComponentProvider","Removing Datastore"),gj.delete(r),n.terminate())}(this),Promise.resolve()}}function Uq(t,e,r,n={}){var i;const a=(t=mn(t,jv))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=jr.MOCK_USER;else{s=wz(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jr(u)}t._authCredentials=new c7(new iM(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Or{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Or(this.firestore,e,this._key)}}class ao extends $s{constructor(e,r,n){super(e,r,vv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Or(this.firestore,null,new ke(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function At(t,e,...r){if(t=Mt(t),u$("collection","path",e),t instanceof jv){const n=xt.fromString(e,...r);return yj(n),new ao(t,null,n)}{if(!(t instanceof Or||t instanceof ao))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xt.fromString(e,...r));return yj(n),new ao(t.firestore,null,n)}}function Ee(t,e,...r){if(t=Mt(t),arguments.length===1&&(e=aM.newId()),u$("doc","path",e),t instanceof jv){const n=xt.fromString(e,...r);return vj(n),new Or(t,null,new ke(n))}{if(!(t instanceof Or||t instanceof ao))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xt.fromString(e,...r));return vj(n),new Or(t.firestore,t instanceof ao?t.converter:null,new ke(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zM(this,"async_queue_retry"),this.Vu=()=>{const n=_x();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=_x();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=_x();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new io;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!eh(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw la("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=iS.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function wj(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ua extends jv{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new bj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bj(e),this._firestoreClient=void 0,await e}}}function Kq(t,e){const r=typeof t=="object"?t:mD(),n=typeof t=="string"?t:"(default)",i=P_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=xz("firestore");a&&Uq(i,...a)}return i}function Pv(t){if(t._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qq(t),t._firestoreClient}function qq(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,d){return new k7(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,c$(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Lq(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tc(br.fromBase64String(e))}catch(r){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new tc(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=/^__.*__$/;class Hq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,r,this.fieldTransforms):new th(e,this.data,r,this.fieldTransforms)}}class d${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new To(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function f$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class uS{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(f$(this.Cu)&&Wq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Gq{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Tv(e)}Qu(e,r,n,i=!1){return new uS({Cu:e,methodName:r,qu:n,path:mr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sh(t){const e=t._freezeSettings(),r=Tv(t._databaseId);return new Gq(t._databaseId,!!e.ignoreUndefinedProperties,r)}function dS(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);pS("Data must be an object, but it was:",o,n);const s=m$(n,o);let l,u;if(a.merge)l=new hn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=Rb(e,f,r);if(!o.contains(h))throw new me(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v$(d,h)||d.push(h)}l=new hn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new Hq(new Jr(s),l,u)}class Nv extends oh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}class fS extends oh{_toFieldTransform(e){return new EM(e.path,new Yd)}isEqual(e){return e instanceof fS}}class hS extends oh{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Jd(e.serializer,_M(e.serializer,this.$u));return new EM(e.path,r)}isEqual(e){return e instanceof hS&&this.$u===e.$u}}function h$(t,e,r,n){const i=t.Qu(1,e,r);pS("Data must be an object, but it was:",i,n);const a=[],o=Jr.empty();Ds(n,(l,u)=>{const d=mS(e,l,r);u=Mt(u);const f=i.Nu(d);if(u instanceof Nv)a.push(d);else{const h=lh(u,f);h!=null&&(a.push(d),o.set(d,h))}});const s=new hn(a);return new d$(o,s,i.fieldTransforms)}function p$(t,e,r,n,i,a){const o=t.Qu(1,e,r),s=[Rb(e,n,r)],l=[i];if(a.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Rb(e,a[h])),l.push(a[h+1]);const u=[],d=Jr.empty();for(let h=s.length-1;h>=0;--h)if(!v$(u,s[h])){const m=s[h];let g=l[h];g=Mt(g);const v=o.Nu(m);if(g instanceof Nv)u.push(m);else{const w=lh(g,v);w!=null&&(u.push(m),d.set(m,w))}}const f=new hn(u);return new d$(d,f,o.fieldTransforms)}function Yq(t,e,r,n=!1){return lh(r,t.Qu(n?4:3,e))}function lh(t,e){if(g$(t=Mt(t)))return pS("Unsupported field value:",e,t),m$(t,e);if(t instanceof oh)return function(n,i){if(!f$(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=lh(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _M(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Zt.fromDate(n);return{timestampValue:Vm(i.serializer,a)}}if(n instanceof Zt){const a=new Zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,a)}}if(n instanceof lS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tc)return{bytesValue:OM(i.serializer,n._byteString)};if(n instanceof Or){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:X_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cS)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return H_(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Ev(n)}`)}(t,e)}function m$(t,e){const r={};return oM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(n,i)=>{const a=lh(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function g$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof lS||t instanceof tc||t instanceof Or||t instanceof oh||t instanceof cS)}function pS(t,e,r){if(!g$(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ev(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Rb(t,e,r){if((e=Mt(e))instanceof ah)return e._internalPath;if(typeof e=="string")return mS(t,e);throw zm("Field path arguments must be of type string or ",t,!1,void 0,r)}const Xq=new RegExp("[~\\*/\\[\\]]");function mS(t,e,r){if(e.search(Xq)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ah(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function zm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new me(te.INVALID_ARGUMENT,s+t+l)}function v$(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Qq extends y${data(){return super.data()}}function gS(t,e){return typeof e=="string"?mS(t,e):e instanceof ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vS{}class x$ extends vS{}function _j(t,e,...r){let n=[];e instanceof vS&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof xS).length,s=a.filter(l=>l instanceof yS).length;if(o>1||o>0&&s>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class yS extends x${constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new yS(e,r,n)}_apply(e){const r=this._parse(e);return b$(e._query,r),new $s(e.firestore,e.converter,Sb(e._query,r))}_parse(e){const r=sh(e.firestore);return function(a,o,s,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kj(f,d);const m=[];for(const g of f)m.push(Tj(l,a,g));h={arrayValue:{values:m}}}else h=Tj(l,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kj(f,d),h=Yq(s,o,f,d==="in"||d==="not-in");return Kt.create(u,d,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class xS extends vS{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new xS(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:si.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)b$(o,l),o=Sb(o,l)}(e._query,r),new $s(e.firestore,e.converter,Sb(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bS extends x${constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new bS(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gd(a,o)}(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Lc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Sj(t,e="asc"){const r=e,n=gS("orderBy",t);return bS._create(n,r)}function Tj(t,e,r){if(typeof(r=Mt(r))=="string"){if(r==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mM(e)&&r.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xt.fromString(r));if(!ke.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return UE(t,new ke(n))}if(r instanceof Or)return UE(t,r._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ev(r)}.`)}function kj(t,e){if(!Array.isArray(t)||t.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b$(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Zq{convertValue(e,r="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ds(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Lt(o.doubleValue));return new cS(a)}convertGeoPoint(e){return new lS(Lt(e.latitude),Lt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=U_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const r=mo(e);return new Zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xt.fromString(e);at(VM(n));const i=new Wd(n.get(1),n.get(3)),a=new ke(n.popFirst(5));return i.isEqual(r)||la(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w$ extends y${constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Qp extends w${data(e={}){return super.data(e)}}class eW{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Qp(this._firestore,this._userDataWriter,n.key,n,new Wu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Qp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Qp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:tW(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function tW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){t=mn(t,Or);const e=mn(t.firestore,ua);return Bq(Pv(e),t._key).then(r=>S$(e,t,r))}class _$ extends Zq{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,r)}}function Rr(t,e,r){t=mn(t,Or);const n=mn(t.firestore,ua),i=wS(t.converter,e,r);return dh(n,[dS(sh(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Kr.none())])}function Dl(t,e,r,...n){t=mn(t,Or);const i=mn(t.firestore,ua),a=sh(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof ah?p$(a,"updateDoc",t._key,e,r,n):h$(a,"updateDoc",t._key,e),dh(i,[o.toMutation(t._key,Kr.exists(!0))])}function ch(t){return dh(mn(t.firestore,ua),[new _v(t._key,Kr.none())])}function uh(t,e){const r=mn(t.firestore,ua),n=Ee(t),i=wS(t.converter,e);return dh(r,[dS(sh(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Kr.exists(!1))]).then(()=>n)}function Tx(t,...e){var r,n,i;t=Mt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wj(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wj(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Or)u=mn(t.firestore,ua),d=vv(t._key.path),l={next:f=>{e[o]&&e[o](S$(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=mn(t,$s);u=mn(f.firestore,ua),d=f._query;const h=new _$(u);l={next:m=>{e[o]&&e[o](new eW(u,h,f,m))},error:e[o+1],complete:e[o+2]},Jq(t._query)}return function(h,m,g,v){const w=new s$(v),y=new JM(m,w,g);return h.asyncQueue.enqueueAndForget(async()=>XM(await Ob(h),y)),()=>{w.Za(),h.asyncQueue.enqueueAndForget(async()=>QM(await Ob(h),y))}}(Pv(u),d,s,l)}function dh(t,e){return function(n,i){const a=new io;return n.asyncQueue.enqueueAndForget(async()=>Nq(await Fq(n),i,a)),a.promise}(Pv(t),e)}function S$(t,e,r){const n=r.docs.get(e._key),i=new _$(t);return new w$(t,i,e._key,n,new Wu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=sh(e)}set(e,r,n){this._verifyNotCommitted();const i=kx(e,this._firestore),a=wS(i.converter,r,n),o=dS(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,Kr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=kx(e,this._firestore);let o;return o=typeof(r=Mt(r))=="string"||r instanceof ah?p$(this._dataReader,"WriteBatch.update",a._key,r,n,i):h$(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(o.toMutation(a._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=kx(e,this._firestore);return this._mutations=this._mutations.concat(new _v(r._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kx(t,e){if((t=Mt(t)).firestore!==e)throw new me(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function _e(){return new fS("serverTimestamp")}function ls(t){return new hS("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){return Pv(t=mn(t,ua)),new nW(t,e=>dh(t,e))}(function(e,r=!0){(function(i){$c=i})(Rc),Gl(new ws("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new ua(new u7(n.getProvider("auth-internal")),new p7(n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),no(LE,"4.7.3",e),no(LE,"4.7.3","esm2017")})();var iW=t=>{switch(t){case"success":return sW;case"info":return cW;case"warning":return lW;case"error":return uW;default:return null}},aW=Array(12).fill(0),oW=({visible:t,className:e})=>M.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},M.createElement("div",{className:"sonner-spinner"},aW.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sW=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lW=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cW=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uW=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dW=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fW=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Db=1,hW=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Db++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],M.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(mW(l)&&!l.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(a=["reject",l],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,u)=>o.then(()=>a[0]==="reject"?u(a[1]):l(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Db++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yr=new hW,pW=(t,e)=>{let r=(e==null?void 0:e.id)||Db++;return Yr.addToast({title:t,...e,id:r}),r},mW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gW=pW,vW=()=>Yr.toasts,yW=()=>Yr.getActiveToasts(),ie=Object.assign(gW,{success:Yr.success,info:Yr.info,warning:Yr.warning,error:Yr.error,custom:Yr.custom,message:Yr.message,promise:Yr.promise,dismiss:Yr.dismiss,loading:Yr.loading},{getHistory:vW,getToasts:yW});function xW(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}xW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function up(t){return t.label!==void 0}var bW=3,wW="32px",_W="16px",Aj=4e3,SW=356,TW=14,kW=20,AW=200;function Wn(...t){return t.filter(Boolean).join(" ")}function EW(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var jW=t=>{var e,r,n,i,a,o,s,l,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:w,visibleToasts:y,heights:_,index:b,toasts:j,expanded:x,removeToast:S,defaultRichColors:T,closeButton:k,style:E,cancelButtonStyle:I,actionButtonStyle:O,className:P="",descriptionClassName:C="",duration:L,position:$,gap:q,loadingIcon:U,expandByDefault:F,classNames:z,icons:X,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:V}=t,[Y,Z]=M.useState(null),[ee,we]=M.useState(null),[ge,Le]=M.useState(!1),[G,K]=M.useState(!1),[W,B]=M.useState(!1),[ne,ae]=M.useState(!1),[pe,Ce]=M.useState(!1),[Ve,Ye]=M.useState(0),[se,de]=M.useState(0),Se=M.useRef(m.duration||L||Aj),Be=M.useRef(null),ze=M.useRef(null),tt=b===0,wt=b+1<=y,$e=m.type,Ue=m.dismissible!==!1,wn=m.className||"",wr=m.descriptionClassName||"",_n=M.useMemo(()=>_.findIndex(Ie=>Ie.toastId===m.id)||0,[_,m.id]),Oi=M.useMemo(()=>{var Ie;return(Ie=m.closeButton)!=null?Ie:k},[m.closeButton,k]),sr=M.useMemo(()=>m.duration||L||Aj,[m.duration,L]),Sa=M.useRef(0),Un=M.useRef(0),Us=M.useRef(0),Ta=M.useRef(null),[jy,ou]=$.split("-"),su=M.useMemo(()=>_.reduce((Ie,Xe,lt)=>lt>=_n?Ie:Ie+Xe.height,0),[_,_n]),lu=fW(),Co=m.invert||h,Io=$e==="loading";Un.current=M.useMemo(()=>_n*q+su,[_n,su]),M.useEffect(()=>{Se.current=sr},[sr]),M.useEffect(()=>{Le(!0)},[]),M.useEffect(()=>{let Ie=ze.current;if(Ie){let Xe=Ie.getBoundingClientRect().height;return de(Xe),w(lt=>[{toastId:m.id,height:Xe,position:m.position},...lt]),()=>w(lt=>lt.filter(lr=>lr.toastId!==m.id))}},[w,m.id]),M.useLayoutEffect(()=>{if(!ge)return;let Ie=ze.current,Xe=Ie.style.height;Ie.style.height="auto";let lt=Ie.getBoundingClientRect().height;Ie.style.height=Xe,de(lt),w(lr=>lr.find(Hr=>Hr.toastId===m.id)?lr.map(Hr=>Hr.toastId===m.id?{...Hr,height:lt}:Hr):[{toastId:m.id,height:lt,position:m.position},...lr])},[ge,m.title,m.description,w,m.id]);let Sn=M.useCallback(()=>{K(!0),Ye(Un.current),w(Ie=>Ie.filter(Xe=>Xe.toastId!==m.id)),setTimeout(()=>{S(m)},AW)},[m,S,w,Un]);M.useEffect(()=>{if(m.promise&&$e==="loading"||m.duration===1/0||m.type==="loading")return;let Ie;return x||v||V&&lu?(()=>{if(Us.current<Sa.current){let Xe=new Date().getTime()-Sa.current;Se.current=Se.current-Xe}Us.current=new Date().getTime()})():Se.current!==1/0&&(Sa.current=new Date().getTime(),Ie=setTimeout(()=>{var Xe;(Xe=m.onAutoClose)==null||Xe.call(m,m),Sn()},Se.current)),()=>clearTimeout(Ie)},[x,v,m,$e,V,lu,Sn]),M.useEffect(()=>{m.delete&&Sn()},[Sn,m.delete]);function Ri(){var Ie,Xe,lt;return X!=null&&X.loading?M.createElement("div",{className:Wn(z==null?void 0:z.loader,(Ie=m==null?void 0:m.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":$e==="loading"},X.loading):U?M.createElement("div",{className:Wn(z==null?void 0:z.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":$e==="loading"},U):M.createElement(oW,{className:Wn(z==null?void 0:z.loader,(lt=m==null?void 0:m.classNames)==null?void 0:lt.loader),visible:$e==="loading"})}return M.createElement("li",{tabIndex:0,ref:ze,className:Wn(P,wn,z==null?void 0:z.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[$e],(r=m==null?void 0:m.classNames)==null?void 0:r[$e]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:T,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ge,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":G,"data-visible":wt,"data-y-position":jy,"data-x-position":ou,"data-index":b,"data-front":tt,"data-swiping":W,"data-dismissible":Ue,"data-type":$e,"data-invert":Co,"data-swipe-out":ne,"data-swipe-direction":ee,"data-expanded":!!(x||F&&ge),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${G?Ve:Un.current}px`,"--initial-height":F?"auto":`${se}px`,...E,...m.style},onDragEnd:()=>{B(!1),Z(null),Ta.current=null},onPointerDown:Ie=>{Io||!Ue||(Be.current=new Date,Ye(Un.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(B(!0),Ta.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,Xe,lt,lr;if(ne||!Ue)return;Ta.current=null;let Hr=Number(((Ie=ze.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_t=Number(((Xe=ze.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ci=new Date().getTime()-((lt=Be.current)==null?void 0:lt.getTime()),cr=Y==="x"?Hr:_t,Gr=Math.abs(cr)/ci;if(Math.abs(cr)>=kW||Gr>.11){Ye(Un.current),(lr=m.onDismiss)==null||lr.call(m,m),we(Y==="x"?Hr>0?"right":"left":_t>0?"down":"up"),Sn(),ae(!0),Ce(!1);return}B(!1),Z(null)},onPointerMove:Ie=>{var Xe,lt,lr,Hr;if(!Ta.current||!Ue||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let _t=Ie.clientY-Ta.current.y,ci=Ie.clientX-Ta.current.x,cr=(lt=t.swipeDirections)!=null?lt:EW($);!Y&&(Math.abs(ci)>1||Math.abs(_t)>1)&&Z(Math.abs(ci)>Math.abs(_t)?"x":"y");let Gr={x:0,y:0};Y==="y"?(cr.includes("top")||cr.includes("bottom"))&&(cr.includes("top")&&_t<0||cr.includes("bottom")&&_t>0)&&(Gr.y=_t):Y==="x"&&(cr.includes("left")||cr.includes("right"))&&(cr.includes("left")&&ci<0||cr.includes("right")&&ci>0)&&(Gr.x=ci),(Math.abs(Gr.x)>0||Math.abs(Gr.y)>0)&&Ce(!0),(lr=ze.current)==null||lr.style.setProperty("--swipe-amount-x",`${Gr.x}px`),(Hr=ze.current)==null||Hr.style.setProperty("--swipe-amount-y",`${Gr.y}px`)}},Oi&&!m.jsx?M.createElement("button",{"aria-label":re,"data-disabled":Io,"data-close-button":!0,onClick:Io||!Ue?()=>{}:()=>{var Ie;Sn(),(Ie=m.onDismiss)==null||Ie.call(m,m)},className:Wn(z==null?void 0:z.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(a=X==null?void 0:X.close)!=null?a:dW):null,m.jsx||R.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,$e||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:Wn(z==null?void 0:z.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ri():null,m.type!=="loading"?m.icon||(X==null?void 0:X[$e])||iW($e):null):null,M.createElement("div",{"data-content":"",className:Wn(z==null?void 0:z.content,(s=m==null?void 0:m.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:Wn(z==null?void 0:z.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:Wn(C,wr,z==null?void 0:z.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),R.isValidElement(m.cancel)?m.cancel:m.cancel&&up(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:Ie=>{var Xe,lt;up(m.cancel)&&Ue&&((lt=(Xe=m.cancel).onClick)==null||lt.call(Xe,Ie),Sn())},className:Wn(z==null?void 0:z.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,R.isValidElement(m.action)?m.action:m.action&&up(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Ie=>{var Xe,lt;up(m.action)&&((lt=(Xe=m.action).onClick)==null||lt.call(Xe,Ie),!Ie.defaultPrevented&&Sn())},className:Wn(z==null?void 0:z.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Ej(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function PW(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?_W:wW;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=s:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(s)}),r}var NW=R.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=bW,toastOptions:v,dir:w=Ej(),gap:y=TW,loadingIcon:_,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:x}=t,[S,T]=M.useState([]),k=M.useMemo(()=>Array.from(new Set([n].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,n]),[E,I]=M.useState([]),[O,P]=M.useState(!1),[C,L]=M.useState(!1),[$,q]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=M.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=M.useRef(null),X=M.useRef(!1),re=M.useCallback(V=>{T(Y=>{var Z;return(Z=Y.find(ee=>ee.id===V.id))!=null&&Z.delete||Yr.dismiss(V.id),Y.filter(({id:ee})=>ee!==V.id)})},[]);return M.useEffect(()=>Yr.subscribe(V=>{if(V.dismiss){T(Y=>Y.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{dz.flushSync(()=>{T(Y=>{let Z=Y.findIndex(ee=>ee.id===V.id);return Z!==-1?[...Y.slice(0,Z),{...Y[Z],...V},...Y.slice(Z+1)]:[V,...Y]})})})}),[]),M.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Y})=>{q(Y?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{q(Z?"dark":"light")}catch(ee){console.error(ee)}})}},[d]),M.useEffect(()=>{S.length<=1&&P(!1)},[S]),M.useEffect(()=>{let V=Y=>{var Z,ee;i.every(we=>Y[we]||Y.code===we)&&(P(!0),(Z=U.current)==null||Z.focus()),Y.code==="Escape"&&(document.activeElement===U.current||(ee=U.current)!=null&&ee.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[i]),M.useEffect(()=>{if(U.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,X.current=!1)}},[U.current]),M.createElement("section",{ref:e,"aria-label":`${j} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((V,Y)=>{var Z;let[ee,we]=V.split("-");return S.length?M.createElement("ol",{key:V,dir:w==="auto"?Ej():w,tabIndex:-1,ref:U,className:s,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ee,"data-lifted":O&&S.length>1&&!a,"data-x-position":we,style:{"--front-toast-height":`${((Z=E[0])==null?void 0:Z.height)||0}px`,"--width":`${SW}px`,"--gap":`${y}px`,...m,...PW(l,u)},onBlur:ge=>{X.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(X.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||X.current||(X.current=!0,z.current=ge.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{C||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},S.filter(ge=>!ge.position&&Y===0||ge.position===V).map((ge,Le)=>{var G,K;return M.createElement(jW,{key:ge.id,icons:b,index:Le,toast:ge,defaultRichColors:f,duration:(G=v==null?void 0:v.duration)!=null?G:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:g,closeButton:(K=v==null?void 0:v.closeButton)!=null?K:o,interacting:C,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:re,toasts:S.filter(W=>W.position==ge.position),heights:E.filter(W=>W.position==ge.position),setHeights:I,expandByDefault:a,gap:y,loadingIcon:_,expanded:O,pauseWhenPageIsHidden:x,swipeDirections:t.swipeDirections})})):null}))});function T$(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=T$(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Fe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=T$(t))&&(n&&(n+=" "),n+=e);return n}var CW=Array.isArray,on=CW,IW=typeof Bh=="object"&&Bh&&Bh.Object===Object&&Bh,k$=IW,OW=k$,RW=typeof self=="object"&&self&&self.Object===Object&&self,DW=OW||RW||Function("return this")(),Ni=DW,MW=Ni,$W=MW.Symbol,fh=$W,jj=fh,A$=Object.prototype,LW=A$.hasOwnProperty,VW=A$.toString,Au=jj?jj.toStringTag:void 0;function FW(t){var e=LW.call(t,Au),r=t[Au];try{t[Au]=void 0;var n=!0}catch{}var i=VW.call(t);return n&&(e?t[Au]=r:delete t[Au]),i}var BW=FW,zW=Object.prototype,UW=zW.toString;function KW(t){return UW.call(t)}var qW=KW,Pj=fh,WW=BW,HW=qW,GW="[object Null]",YW="[object Undefined]",Nj=Pj?Pj.toStringTag:void 0;function XW(t){return t==null?t===void 0?YW:GW:Nj&&Nj in Object(t)?WW(t):HW(t)}var ba=XW;function QW(t){return t!=null&&typeof t=="object"}var wa=QW,JW=ba,ZW=wa,eH="[object Symbol]";function tH(t){return typeof t=="symbol"||ZW(t)&&JW(t)==eH}var Bc=tH,rH=on,nH=Bc,iH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aH=/^\w*$/;function oH(t,e){if(rH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||nH(t)?!0:aH.test(t)||!iH.test(t)||e!=null&&t in Object(e)}var _S=oH;function sH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ko=sH;const zc=nt(ko);var lH=ba,cH=ko,uH="[object AsyncFunction]",dH="[object Function]",fH="[object GeneratorFunction]",hH="[object Proxy]";function pH(t){if(!cH(t))return!1;var e=lH(t);return e==dH||e==fH||e==uH||e==hH}var SS=pH;const je=nt(SS);var mH=Ni,gH=mH["__core-js_shared__"],vH=gH,Ax=vH,Cj=function(){var t=/[^.]+$/.exec(Ax&&Ax.keys&&Ax.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yH(t){return!!Cj&&Cj in t}var xH=yH,bH=Function.prototype,wH=bH.toString;function _H(t){if(t!=null){try{return wH.call(t)}catch{}try{return t+""}catch{}}return""}var E$=_H,SH=SS,TH=xH,kH=ko,AH=E$,EH=/[\\^$.*+?()[\]{}|]/g,jH=/^\[object .+?Constructor\]$/,PH=Function.prototype,NH=Object.prototype,CH=PH.toString,IH=NH.hasOwnProperty,OH=RegExp("^"+CH.call(IH).replace(EH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RH(t){if(!kH(t)||TH(t))return!1;var e=SH(t)?OH:jH;return e.test(AH(t))}var DH=RH;function MH(t,e){return t==null?void 0:t[e]}var $H=MH,LH=DH,VH=$H;function FH(t,e){var r=VH(t,e);return LH(r)?r:void 0}var Ls=FH,BH=Ls,zH=BH(Object,"create"),Cv=zH,Ij=Cv;function UH(){this.__data__=Ij?Ij(null):{},this.size=0}var KH=UH;function qH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var WH=qH,HH=Cv,GH="__lodash_hash_undefined__",YH=Object.prototype,XH=YH.hasOwnProperty;function QH(t){var e=this.__data__;if(HH){var r=e[t];return r===GH?void 0:r}return XH.call(e,t)?e[t]:void 0}var JH=QH,ZH=Cv,eG=Object.prototype,tG=eG.hasOwnProperty;function rG(t){var e=this.__data__;return ZH?e[t]!==void 0:tG.call(e,t)}var nG=rG,iG=Cv,aG="__lodash_hash_undefined__";function oG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=iG&&e===void 0?aG:e,this}var sG=oG,lG=KH,cG=WH,uG=JH,dG=nG,fG=sG;function Uc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Uc.prototype.clear=lG;Uc.prototype.delete=cG;Uc.prototype.get=uG;Uc.prototype.has=dG;Uc.prototype.set=fG;var hG=Uc;function pG(){this.__data__=[],this.size=0}var mG=pG;function gG(t,e){return t===e||t!==t&&e!==e}var TS=gG,vG=TS;function yG(t,e){for(var r=t.length;r--;)if(vG(t[r][0],e))return r;return-1}var Iv=yG,xG=Iv,bG=Array.prototype,wG=bG.splice;function _G(t){var e=this.__data__,r=xG(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wG.call(e,r,1),--this.size,!0}var SG=_G,TG=Iv;function kG(t){var e=this.__data__,r=TG(e,t);return r<0?void 0:e[r][1]}var AG=kG,EG=Iv;function jG(t){return EG(this.__data__,t)>-1}var PG=jG,NG=Iv;function CG(t,e){var r=this.__data__,n=NG(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var IG=CG,OG=mG,RG=SG,DG=AG,MG=PG,$G=IG;function Kc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kc.prototype.clear=OG;Kc.prototype.delete=RG;Kc.prototype.get=DG;Kc.prototype.has=MG;Kc.prototype.set=$G;var Ov=Kc,LG=Ls,VG=Ni,FG=LG(VG,"Map"),kS=FG,Oj=hG,BG=Ov,zG=kS;function UG(){this.size=0,this.__data__={hash:new Oj,map:new(zG||BG),string:new Oj}}var KG=UG;function qG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WG=qG,HG=WG;function GG(t,e){var r=t.__data__;return HG(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Rv=GG,YG=Rv;function XG(t){var e=YG(this,t).delete(t);return this.size-=e?1:0,e}var QG=XG,JG=Rv;function ZG(t){return JG(this,t).get(t)}var eY=ZG,tY=Rv;function rY(t){return tY(this,t).has(t)}var nY=rY,iY=Rv;function aY(t,e){var r=iY(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var oY=aY,sY=KG,lY=QG,cY=eY,uY=nY,dY=oY;function qc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qc.prototype.clear=sY;qc.prototype.delete=lY;qc.prototype.get=cY;qc.prototype.has=uY;qc.prototype.set=dY;var AS=qc,j$=AS,fY="Expected a function";function ES(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fY);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ES.Cache||j$),r}ES.Cache=j$;var P$=ES;const hY=nt(P$);var pY=P$,mY=500;function gY(t){var e=pY(t,function(n){return r.size===mY&&r.clear(),n}),r=e.cache;return e}var vY=gY,yY=vY,xY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bY=/\\(\\)?/g,wY=yY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xY,function(r,n,i,a){e.push(i?a.replace(bY,"$1"):n||r)}),e}),_Y=wY;function SY(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var jS=SY,Rj=fh,TY=jS,kY=on,AY=Bc,Dj=Rj?Rj.prototype:void 0,Mj=Dj?Dj.toString:void 0;function N$(t){if(typeof t=="string")return t;if(kY(t))return TY(t,N$)+"";if(AY(t))return Mj?Mj.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var EY=N$,jY=EY;function PY(t){return t==null?"":jY(t)}var C$=PY,NY=on,CY=_S,IY=_Y,OY=C$;function RY(t,e){return NY(t)?t:CY(t,e)?[t]:IY(OY(t))}var I$=RY,DY=Bc;function MY(t){if(typeof t=="string"||DY(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Dv=MY,$Y=I$,LY=Dv;function VY(t,e){e=$Y(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[LY(e[r++])];return r&&r==n?t:void 0}var PS=VY,FY=PS;function BY(t,e,r){var n=t==null?void 0:FY(t,e);return n===void 0?r:n}var O$=BY;const gn=nt(O$);function zY(t){return t==null}var UY=zY;const Me=nt(UY);var KY=ba,qY=on,WY=wa,HY="[object String]";function GY(t){return typeof t=="string"||!qY(t)&&WY(t)&&KY(t)==HY}var YY=GY;const As=nt(YY);var R$={exports:{}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=Symbol.for("react.element"),CS=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Lv=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),Fv=Symbol.for("react.context"),XY=Symbol.for("react.server_context"),Bv=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Uv=Symbol.for("react.suspense_list"),Kv=Symbol.for("react.memo"),qv=Symbol.for("react.lazy"),QY=Symbol.for("react.offscreen"),D$;D$=Symbol.for("react.module.reference");function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NS:switch(t=t.type,t){case Mv:case Lv:case $v:case zv:case Uv:return t;default:switch(t=t&&t.$$typeof,t){case XY:case Fv:case Bv:case qv:case Kv:case Vv:return t;default:return e}}case CS:return e}}}ot.ContextConsumer=Fv;ot.ContextProvider=Vv;ot.Element=NS;ot.ForwardRef=Bv;ot.Fragment=Mv;ot.Lazy=qv;ot.Memo=Kv;ot.Portal=CS;ot.Profiler=Lv;ot.StrictMode=$v;ot.Suspense=zv;ot.SuspenseList=Uv;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return Bn(t)===Fv};ot.isContextProvider=function(t){return Bn(t)===Vv};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NS};ot.isForwardRef=function(t){return Bn(t)===Bv};ot.isFragment=function(t){return Bn(t)===Mv};ot.isLazy=function(t){return Bn(t)===qv};ot.isMemo=function(t){return Bn(t)===Kv};ot.isPortal=function(t){return Bn(t)===CS};ot.isProfiler=function(t){return Bn(t)===Lv};ot.isStrictMode=function(t){return Bn(t)===$v};ot.isSuspense=function(t){return Bn(t)===zv};ot.isSuspenseList=function(t){return Bn(t)===Uv};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mv||t===Lv||t===$v||t===zv||t===Uv||t===QY||typeof t=="object"&&t!==null&&(t.$$typeof===qv||t.$$typeof===Kv||t.$$typeof===Vv||t.$$typeof===Fv||t.$$typeof===Bv||t.$$typeof===D$||t.getModuleId!==void 0)};ot.typeOf=Bn;R$.exports=ot;var JY=R$.exports,ZY=ba,eX=wa,tX="[object Number]";function rX(t){return typeof t=="number"||eX(t)&&ZY(t)==tX}var M$=rX;const nX=nt(M$);var iX=M$;function aX(t){return iX(t)&&t!=+t}var oX=aX;const Wc=nt(oX);var Vr=function(e){return e===0?0:e>0?1:-1},Jo=function(e){return As(e)&&e.indexOf("%")===e.length-1},le=function(e){return nX(e)&&!Wc(e)},sX=function(e){return Me(e)},Jt=function(e){return le(e)||As(e)},lX=0,Hc=function(e){var r=++lX;return"".concat(e||"").concat(r)},Fr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!As(e))return n;var a;if(Jo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Wc(a)&&(a=n),i&&a>r&&(a=r),a},Ba=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},cX=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Qr=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Um(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):gn(n,e))===r})}var uX=function(e,r){return le(e)&&le(r)?e-r:As(e)&&As(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ml(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}var dX=["viewBox","children"],fX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$j=["points","pathLength"],Ex={svg:dX,polygon:$j,polyline:$j},IS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Km=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!zc(n))return null;var i={};return Object.keys(n).forEach(function(a){IS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},hX=function(e,r,n){return function(i){return e(r,n,i),null}},Es=function(e,r,n){if(!zc(e)||Mb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];IS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=hX(o,r,n))}),i},pX=["children"],mX=["children"];function Lj(t,e){if(t==null)return{};var r=gX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}var Vj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ji=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Fj=null,jx=null,OS=function t(e){if(e===Fj&&Array.isArray(jx))return jx;var r=[];return R.Children.forEach(e,function(n){Me(n)||(JY.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),jx=r,Fj=e,r};function Mn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ji(i)}):n=[Ji(e)],OS(t).forEach(function(i){var a=gn(i,"type.displayName")||gn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function un(t,e){var r=Mn(t,e);return r&&r[0]}var Bj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},vX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yX=function(e){return e&&e.type&&As(e.type)&&vX.indexOf(e.type)>=0},xX=function(e){return e&&$b(e)==="object"&&"clipDot"in e},bX=function(e,r,n,i){var a,o=(a=Ex==null?void 0:Ex[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!je(e)&&(i&&o.includes(r)||fX.includes(r))||n&&IS.includes(r)},Te=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!zc(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;bX((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Lb=function t(e,r){if(e===r)return!0;var n=R.Children.count(e);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zj(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!zj(a,o))return!1}return!0},zj=function(e,r){if(Me(e)&&Me(r))return!0;if(!Me(e)&&!Me(r)){var n=e.props||{},i=n.children,a=Lj(n,pX),o=r.props||{},s=o.children,l=Lj(o,mX);return i&&s?Ml(a,l)&&Lb(i,s):!i&&!s?Ml(a,l):!1}return!1},Uj=function(e,r){var n=[],i={};return OS(e).forEach(function(a,o){if(yX(a))n.push(a);else if(a){var s=Ji(a.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},wX=function(e){var r=e&&e.type;return r&&Vj[r]?Vj[r]:null},_X=function(e,r){return OS(r).indexOf(e)},SX=["children","width","height","viewBox","className","style","title","desc"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}function TX(t,e){if(t==null)return{};var r=kX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fb(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=TX(t,SX),d=i||{width:r,height:n,x:0,y:0},f=Fe("recharts-surface",a);return M.createElement("svg",Vb({},Te(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var AX=["children","className"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(this,arguments)}function EX(t,e){if(t==null)return{};var r=jX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ge=M.forwardRef(function(t,e){var r=t.children,n=t.className,i=EX(t,AX),a=Fe("recharts-layer",n);return M.createElement("g",Bb({className:a},Te(i,!0),{ref:e}),r)}),ii=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function PX(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var NX=PX,CX=NX;function IX(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:CX(t,e,r)}var OX=IX,RX="\\ud800-\\udfff",DX="\\u0300-\\u036f",MX="\\ufe20-\\ufe2f",$X="\\u20d0-\\u20ff",LX=DX+MX+$X,VX="\\ufe0e\\ufe0f",FX="\\u200d",BX=RegExp("["+FX+RX+LX+VX+"]");function zX(t){return BX.test(t)}var $$=zX;function UX(t){return t.split("")}var KX=UX,L$="\\ud800-\\udfff",qX="\\u0300-\\u036f",WX="\\ufe20-\\ufe2f",HX="\\u20d0-\\u20ff",GX=qX+WX+HX,YX="\\ufe0e\\ufe0f",XX="["+L$+"]",zb="["+GX+"]",Ub="\\ud83c[\\udffb-\\udfff]",QX="(?:"+zb+"|"+Ub+")",V$="[^"+L$+"]",F$="(?:\\ud83c[\\udde6-\\uddff]){2}",B$="[\\ud800-\\udbff][\\udc00-\\udfff]",JX="\\u200d",z$=QX+"?",U$="["+YX+"]?",ZX="(?:"+JX+"(?:"+[V$,F$,B$].join("|")+")"+U$+z$+")*",eQ=U$+z$+ZX,tQ="(?:"+[V$+zb+"?",zb,F$,B$,XX].join("|")+")",rQ=RegExp(Ub+"(?="+Ub+")|"+tQ+eQ,"g");function nQ(t){return t.match(rQ)||[]}var iQ=nQ,aQ=KX,oQ=$$,sQ=iQ;function lQ(t){return oQ(t)?sQ(t):aQ(t)}var cQ=lQ,uQ=OX,dQ=$$,fQ=cQ,hQ=C$;function pQ(t){return function(e){e=hQ(e);var r=dQ(e)?fQ(e):void 0,n=r?r[0]:e.charAt(0),i=r?uQ(r,1).join(""):e.slice(1);return n[t]()+i}}var mQ=pQ,gQ=mQ,vQ=gQ("toUpperCase"),yQ=vQ;const Wv=nt(yQ);function ft(t){return function(){return t}}const K$=Math.cos,qm=Math.sin,li=Math.sqrt,Wm=Math.PI,Hv=2*Wm,Kb=Math.PI,qb=2*Kb,Uo=1e-6,xQ=qb-Uo;function q$(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function bQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return q$;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class wQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?q$:bQ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Uo)if(!(Math.abs(f*l-u*d)>Uo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,g=i-s,v=l*l+u*u,w=m*m+g*g,y=Math.sqrt(v),_=Math.sqrt(h),b=a*Math.tan((Kb-Math.acos((v+h-w)/(2*y*_)))/2),j=b/_,x=b/y;Math.abs(j-1)>Uo&&this._append`L${e+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=e+x*l},${this._y1=r+x*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Uo||Math.abs(this._y1-d)>Uo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%qb+qb),h>xQ?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Uo&&this._append`A${n},${n},0,${+(h>=Kb)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new wQ(e)}function DS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W$(t){this._context=t}W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gv(t){return new W$(t)}function H$(t){return t[0]}function G$(t){return t[1]}function Y$(t,e){var r=ft(!0),n=null,i=Gv,a=null,o=RS(s);t=typeof t=="function"?t:t===void 0?H$:ft(t),e=typeof e=="function"?e:e===void 0?G$:ft(e);function s(l){var u,d=(l=DS(l)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ft(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function dp(t,e,r){var n=null,i=ft(!0),a=null,o=Gv,s=null,l=RS(u);t=typeof t=="function"?t:t===void 0?H$:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?G$:ft(+r);function u(f){var h,m,g,v=(f=DS(f)).length,w,y=!1,_,b=new Array(v),j=new Array(v);for(a==null&&(s=o(_=l())),h=0;h<=v;++h){if(!(h<v&&i(w=f[h],h,f))===y)if(y=!y)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(b[g],j[g]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+t(w,h,f),j[h]=+e(w,h,f),s.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(_)return s=null,_+""||null}function d(){return Y$().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ft(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class X${constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _Q(t){return new X$(t,!0)}function SQ(t){return new X$(t,!1)}const MS={draw(t,e){const r=li(e/Wm);t.moveTo(r,0),t.arc(0,0,r,0,Hv)}},TQ={draw(t,e){const r=li(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Q$=li(1/3),kQ=Q$*2,AQ={draw(t,e){const r=li(e/kQ),n=r*Q$;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},EQ={draw(t,e){const r=li(e),n=-r/2;t.rect(n,n,r,r)}},jQ=.8908130915292852,J$=qm(Wm/10)/qm(7*Wm/10),PQ=qm(Hv/10)*J$,NQ=-K$(Hv/10)*J$,CQ={draw(t,e){const r=li(e*jQ),n=PQ*r,i=NQ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Hv*a/5,s=K$(o),l=qm(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Px=li(3),IQ={draw(t,e){const r=-li(e/(Px*3));t.moveTo(0,r*2),t.lineTo(-Px*r,-r),t.lineTo(Px*r,-r),t.closePath()}},Tn=-.5,kn=li(3)/2,Wb=1/li(12),OQ=(Wb/2+1)*3,RQ={draw(t,e){const r=li(e/OQ),n=r/2,i=r*Wb,a=n,o=r*Wb+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Tn*n-kn*i,kn*n+Tn*i),t.lineTo(Tn*a-kn*o,kn*a+Tn*o),t.lineTo(Tn*s-kn*l,kn*s+Tn*l),t.lineTo(Tn*n+kn*i,Tn*i-kn*n),t.lineTo(Tn*a+kn*o,Tn*o-kn*a),t.lineTo(Tn*s+kn*l,Tn*l-kn*s),t.closePath()}};function DQ(t,e){let r=null,n=RS(i);t=typeof t=="function"?t:ft(t||MS),e=typeof e=="function"?e:ft(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ft(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Hm(){}function Gm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Z$(t){this._context=t}Z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MQ(t){return new Z$(t)}function eL(t){this._context=t}eL.prototype={areaStart:Hm,areaEnd:Hm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Q(t){return new eL(t)}function tL(t){this._context=t}tL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LQ(t){return new tL(t)}function rL(t){this._context=t}rL.prototype={areaStart:Hm,areaEnd:Hm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function VQ(t){return new rL(t)}function Kj(t){return t<0?-1:1}function qj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Kj(a)+Kj(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Wj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Nx(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Ym(t){this._context=t}Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nx(this,this._t0,Wj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nx(this,Wj(this,r=qj(this,t,e)),r);break;default:Nx(this,this._t0,r=qj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nL(t){this._context=new iL(t)}(nL.prototype=Object.create(Ym.prototype)).point=function(t,e){Ym.prototype.point.call(this,e,t)};function iL(t){this._context=t}iL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function FQ(t){return new Ym(t)}function BQ(t){return new nL(t)}function aL(t){this._context=t}aL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Hj(t),i=Hj(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Hj(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zQ(t){return new aL(t)}function Yv(t,e){this._context=t,this._t=e}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function UQ(t){return new Yv(t,.5)}function KQ(t){return new Yv(t,0)}function qQ(t){return new Yv(t,1)}function rc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Hb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function WQ(t,e){return t[e]}function HQ(t){const e=[];return e.key=t,e}function GQ(){var t=ft([]),e=Hb,r=rc,n=WQ;function i(a){var o=Array.from(t.apply(this,arguments),HQ),s,l=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=DS(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ft(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ft(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Hb:typeof a=="function"?a:ft(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??rc,i):r},i}function YQ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}rc(t,e)}}function XQ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}rc(t,e)}}function QQ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var v=t[e[g]],w=v[n][1]||0,y=v[n-1][1]||0;m+=w-y}l+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,rc(t,e)}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}var JQ=["type","size","sizeType"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(this,arguments)}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){ZQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZQ(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=tJ(t,"string");return Zd(e)=="symbol"?e:e+""}function tJ(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJ(t,e){if(t==null)return{};var r=nJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var oL={symbolCircle:MS,symbolCross:TQ,symbolDiamond:AQ,symbolSquare:EQ,symbolStar:CQ,symbolTriangle:IQ,symbolWye:RQ},iJ=Math.PI/180,aJ=function(e){var r="symbol".concat(Wv(e));return oL[r]||MS},oJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*iJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sJ=function(e,r){oL["symbol".concat(Wv(e))]=r},$S=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=rJ(e,JQ),u=Yj(Yj({},l),{},{type:n,size:a,sizeType:s}),d=function(){var w=aJ(n),y=DQ().type(w).size(oJ(a,s,n));return y()},f=u.className,h=u.cx,m=u.cy,g=Te(u,!0);return h===+h&&m===+m&&a===+a?M.createElement("path",Gb({},g,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};$S.registerSymbol=sJ;function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(this,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){ef(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lL(n.key),n)}}function dJ(t,e,r){return e&&uJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fJ(t,e,r){return e=Xm(e),hJ(t,sL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function hJ(t,e){if(e&&(nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJ(t)}function pJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function mJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xb(t,e)}function ef(t,e,r){return e=lL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lL(t){var e=gJ(t,"string");return nc(e)=="symbol"?e:e+""}function gJ(t,e){if(nc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var An=32,LS=function(t){function e(){return cJ(this,e),fJ(this,e,arguments)}return mJ(e,t),dJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=An/2,o=An/6,s=An/3,l=n.inactive?i:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:An,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(An,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(An/8,"h").concat(An,"v").concat(An*3/4,"h").concat(-An,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=lJ({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement($S,{fill:l,cx:a,cy:a,size:An,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:An,height:An},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var v=m.formatter||l,w=Fe(ef(ef({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=je(m.value)?null:m.value;ii(!je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?u:m.color;return M.createElement("li",Yb({className:w,style:f,key:"legend-item-".concat(g)},Es(n.props,m,g)),M.createElement(Fb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);ef(LS,"displayName","Legend");ef(LS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vJ=Ov;function yJ(){this.__data__=new vJ,this.size=0}var xJ=yJ;function bJ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var wJ=bJ;function _J(t){return this.__data__.get(t)}var SJ=_J;function TJ(t){return this.__data__.has(t)}var kJ=TJ,AJ=Ov,EJ=kS,jJ=AS,PJ=200;function NJ(t,e){var r=this.__data__;if(r instanceof AJ){var n=r.__data__;if(!EJ||n.length<PJ-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jJ(n)}return r.set(t,e),this.size=r.size,this}var CJ=NJ,IJ=Ov,OJ=xJ,RJ=wJ,DJ=SJ,MJ=kJ,$J=CJ;function Gc(t){var e=this.__data__=new IJ(t);this.size=e.size}Gc.prototype.clear=OJ;Gc.prototype.delete=RJ;Gc.prototype.get=DJ;Gc.prototype.has=MJ;Gc.prototype.set=$J;var cL=Gc,LJ="__lodash_hash_undefined__";function VJ(t){return this.__data__.set(t,LJ),this}var FJ=VJ;function BJ(t){return this.__data__.has(t)}var zJ=BJ,UJ=AS,KJ=FJ,qJ=zJ;function Qm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new UJ;++e<r;)this.add(t[e])}Qm.prototype.add=Qm.prototype.push=KJ;Qm.prototype.has=qJ;var uL=Qm;function WJ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var dL=WJ;function HJ(t,e){return t.has(e)}var fL=HJ,GJ=uL,YJ=dL,XJ=fL,QJ=1,JJ=2;function ZJ(t,e,r,n,i,a){var o=r&QJ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=r&JJ?new GJ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],v=e[f];if(n)var w=o?n(v,g,f,e,t,a):n(g,v,f,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!YJ(e,function(y,_){if(!XJ(m,_)&&(g===y||i(g,y,r,n,a)))return m.push(_)})){h=!1;break}}else if(!(g===v||i(g,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var hL=ZJ,eZ=Ni,tZ=eZ.Uint8Array,rZ=tZ;function nZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var iZ=nZ;function aZ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var VS=aZ,Qj=fh,Jj=rZ,oZ=TS,sZ=hL,lZ=iZ,cZ=VS,uZ=1,dZ=2,fZ="[object Boolean]",hZ="[object Date]",pZ="[object Error]",mZ="[object Map]",gZ="[object Number]",vZ="[object RegExp]",yZ="[object Set]",xZ="[object String]",bZ="[object Symbol]",wZ="[object ArrayBuffer]",_Z="[object DataView]",Zj=Qj?Qj.prototype:void 0,Cx=Zj?Zj.valueOf:void 0;function SZ(t,e,r,n,i,a,o){switch(r){case _Z:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wZ:return!(t.byteLength!=e.byteLength||!a(new Jj(t),new Jj(e)));case fZ:case hZ:case gZ:return oZ(+t,+e);case pZ:return t.name==e.name&&t.message==e.message;case vZ:case xZ:return t==e+"";case mZ:var s=lZ;case yZ:var l=n&uZ;if(s||(s=cZ),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=dZ,o.set(t,e);var d=sZ(s(t),s(e),n,i,a,o);return o.delete(t),d;case bZ:if(Cx)return Cx.call(t)==Cx.call(e)}return!1}var TZ=SZ;function kZ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var pL=kZ,AZ=pL,EZ=on;function jZ(t,e,r){var n=e(t);return EZ(t)?n:AZ(n,r(t))}var PZ=jZ;function NZ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var CZ=NZ;function IZ(){return[]}var OZ=IZ,RZ=CZ,DZ=OZ,MZ=Object.prototype,$Z=MZ.propertyIsEnumerable,eP=Object.getOwnPropertySymbols,LZ=eP?function(t){return t==null?[]:(t=Object(t),RZ(eP(t),function(e){return $Z.call(t,e)}))}:DZ,VZ=LZ;function FZ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var BZ=FZ,zZ=ba,UZ=wa,KZ="[object Arguments]";function qZ(t){return UZ(t)&&zZ(t)==KZ}var WZ=qZ,tP=WZ,HZ=wa,mL=Object.prototype,GZ=mL.hasOwnProperty,YZ=mL.propertyIsEnumerable,XZ=tP(function(){return arguments}())?tP:function(t){return HZ(t)&&GZ.call(t,"callee")&&!YZ.call(t,"callee")},FS=XZ,Jm={exports:{}};function QZ(){return!1}var JZ=QZ;Jm.exports;(function(t,e){var r=Ni,n=JZ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Jm,Jm.exports);var gL=Jm.exports,ZZ=9007199254740991,eee=/^(?:0|[1-9]\d*)$/;function tee(t,e){var r=typeof t;return e=e??ZZ,!!e&&(r=="number"||r!="symbol"&&eee.test(t))&&t>-1&&t%1==0&&t<e}var BS=tee,ree=9007199254740991;function nee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ree}var zS=nee,iee=ba,aee=zS,oee=wa,see="[object Arguments]",lee="[object Array]",cee="[object Boolean]",uee="[object Date]",dee="[object Error]",fee="[object Function]",hee="[object Map]",pee="[object Number]",mee="[object Object]",gee="[object RegExp]",vee="[object Set]",yee="[object String]",xee="[object WeakMap]",bee="[object ArrayBuffer]",wee="[object DataView]",_ee="[object Float32Array]",See="[object Float64Array]",Tee="[object Int8Array]",kee="[object Int16Array]",Aee="[object Int32Array]",Eee="[object Uint8Array]",jee="[object Uint8ClampedArray]",Pee="[object Uint16Array]",Nee="[object Uint32Array]",vt={};vt[_ee]=vt[See]=vt[Tee]=vt[kee]=vt[Aee]=vt[Eee]=vt[jee]=vt[Pee]=vt[Nee]=!0;vt[see]=vt[lee]=vt[bee]=vt[cee]=vt[wee]=vt[uee]=vt[dee]=vt[fee]=vt[hee]=vt[pee]=vt[mee]=vt[gee]=vt[vee]=vt[yee]=vt[xee]=!1;function Cee(t){return oee(t)&&aee(t.length)&&!!vt[iee(t)]}var Iee=Cee;function Oee(t){return function(e){return t(e)}}var vL=Oee,Zm={exports:{}};Zm.exports;(function(t,e){var r=k$,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Zm,Zm.exports);var Ree=Zm.exports,Dee=Iee,Mee=vL,rP=Ree,nP=rP&&rP.isTypedArray,$ee=nP?Mee(nP):Dee,yL=$ee,Lee=BZ,Vee=FS,Fee=on,Bee=gL,zee=BS,Uee=yL,Kee=Object.prototype,qee=Kee.hasOwnProperty;function Wee(t,e){var r=Fee(t),n=!r&&Vee(t),i=!r&&!n&&Bee(t),a=!r&&!n&&!i&&Uee(t),o=r||n||i||a,s=o?Lee(t.length,String):[],l=s.length;for(var u in t)(e||qee.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zee(u,l)))&&s.push(u);return s}var Hee=Wee,Gee=Object.prototype;function Yee(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Gee;return t===r}var Xee=Yee;function Qee(t,e){return function(r){return t(e(r))}}var xL=Qee,Jee=xL,Zee=Jee(Object.keys,Object),ete=Zee,tte=Xee,rte=ete,nte=Object.prototype,ite=nte.hasOwnProperty;function ate(t){if(!tte(t))return rte(t);var e=[];for(var r in Object(t))ite.call(t,r)&&r!="constructor"&&e.push(r);return e}var ote=ate,ste=SS,lte=zS;function cte(t){return t!=null&&lte(t.length)&&!ste(t)}var hh=cte,ute=Hee,dte=ote,fte=hh;function hte(t){return fte(t)?ute(t):dte(t)}var Xv=hte,pte=PZ,mte=VZ,gte=Xv;function vte(t){return pte(t,gte,mte)}var yte=vte,iP=yte,xte=1,bte=Object.prototype,wte=bte.hasOwnProperty;function _te(t,e,r,n,i,a){var o=r&xte,s=iP(t),l=s.length,u=iP(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:wte.call(e,h)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){h=s[f];var y=t[h],_=e[h];if(n)var b=o?n(_,y,h,e,t,a):n(y,_,h,t,e,a);if(!(b===void 0?y===_||i(y,_,r,n,a):b)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var j=t.constructor,x=e.constructor;j!=x&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof x=="function"&&x instanceof x)&&(v=!1)}return a.delete(t),a.delete(e),v}var Ste=_te,Tte=Ls,kte=Ni,Ate=Tte(kte,"DataView"),Ete=Ate,jte=Ls,Pte=Ni,Nte=jte(Pte,"Promise"),Cte=Nte,Ite=Ls,Ote=Ni,Rte=Ite(Ote,"Set"),bL=Rte,Dte=Ls,Mte=Ni,$te=Dte(Mte,"WeakMap"),Lte=$te,Qb=Ete,Jb=kS,Zb=Cte,ew=bL,tw=Lte,wL=ba,Yc=E$,aP="[object Map]",Vte="[object Object]",oP="[object Promise]",sP="[object Set]",lP="[object WeakMap]",cP="[object DataView]",Fte=Yc(Qb),Bte=Yc(Jb),zte=Yc(Zb),Ute=Yc(ew),Kte=Yc(tw),Ko=wL;(Qb&&Ko(new Qb(new ArrayBuffer(1)))!=cP||Jb&&Ko(new Jb)!=aP||Zb&&Ko(Zb.resolve())!=oP||ew&&Ko(new ew)!=sP||tw&&Ko(new tw)!=lP)&&(Ko=function(t){var e=wL(t),r=e==Vte?t.constructor:void 0,n=r?Yc(r):"";if(n)switch(n){case Fte:return cP;case Bte:return aP;case zte:return oP;case Ute:return sP;case Kte:return lP}return e});var qte=Ko,Ix=cL,Wte=hL,Hte=TZ,Gte=Ste,uP=qte,dP=on,fP=gL,Yte=yL,Xte=1,hP="[object Arguments]",pP="[object Array]",fp="[object Object]",Qte=Object.prototype,mP=Qte.hasOwnProperty;function Jte(t,e,r,n,i,a){var o=dP(t),s=dP(e),l=o?pP:uP(t),u=s?pP:uP(e);l=l==hP?fp:l,u=u==hP?fp:u;var d=l==fp,f=u==fp,h=l==u;if(h&&fP(t)){if(!fP(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Ix),o||Yte(t)?Wte(t,e,r,n,i,a):Hte(t,e,l,r,n,i,a);if(!(r&Xte)){var m=d&&mP.call(t,"__wrapped__"),g=f&&mP.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,w=g?e.value():e;return a||(a=new Ix),i(v,w,r,n,a)}}return h?(a||(a=new Ix),Gte(t,e,r,n,i,a)):!1}var Zte=Jte,ere=Zte,gP=wa;function _L(t,e,r,n,i){return t===e?!0:t==null||e==null||!gP(t)&&!gP(e)?t!==t&&e!==e:ere(t,e,r,n,_L,i)}var US=_L,tre=cL,rre=US,nre=1,ire=2;function are(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new tre;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?rre(d,u,nre|ire,n,f):h))return!1}}return!0}var ore=are,sre=ko;function lre(t){return t===t&&!sre(t)}var SL=lre,cre=SL,ure=Xv;function dre(t){for(var e=ure(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,cre(i)]}return e}var fre=dre;function hre(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var TL=hre,pre=ore,mre=fre,gre=TL;function vre(t){var e=mre(t);return e.length==1&&e[0][2]?gre(e[0][0],e[0][1]):function(r){return r===t||pre(r,t,e)}}var yre=vre;function xre(t,e){return t!=null&&e in Object(t)}var bre=xre,wre=I$,_re=FS,Sre=on,Tre=BS,kre=zS,Are=Dv;function Ere(t,e,r){e=wre(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Are(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&kre(i)&&Tre(o,i)&&(Sre(t)||_re(t)))}var jre=Ere,Pre=bre,Nre=jre;function Cre(t,e){return t!=null&&Nre(t,e,Pre)}var Ire=Cre,Ore=US,Rre=O$,Dre=Ire,Mre=_S,$re=SL,Lre=TL,Vre=Dv,Fre=1,Bre=2;function zre(t,e){return Mre(t)&&$re(e)?Lre(Vre(t),e):function(r){var n=Rre(r,t);return n===void 0&&n===e?Dre(r,t):Ore(e,n,Fre|Bre)}}var Ure=zre;function Kre(t){return t}var Xc=Kre;function qre(t){return function(e){return e==null?void 0:e[t]}}var Wre=qre,Hre=PS;function Gre(t){return function(e){return Hre(e,t)}}var Yre=Gre,Xre=Wre,Qre=Yre,Jre=_S,Zre=Dv;function ene(t){return Jre(t)?Xre(Zre(t)):Qre(t)}var tne=ene,rne=yre,nne=Ure,ine=Xc,ane=on,one=tne;function sne(t){return typeof t=="function"?t:t==null?ine:typeof t=="object"?ane(t)?nne(t[0],t[1]):rne(t):one(t)}var Ci=sne;function lne(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var kL=lne;function cne(t){return t!==t}var une=cne;function dne(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var fne=dne,hne=kL,pne=une,mne=fne;function gne(t,e,r){return e===e?mne(t,e,r):hne(t,pne,r)}var vne=gne,yne=vne;function xne(t,e){var r=t==null?0:t.length;return!!r&&yne(t,e,0)>-1}var bne=xne;function wne(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var _ne=wne;function Sne(){}var Tne=Sne,Ox=bL,kne=Tne,Ane=VS,Ene=1/0,jne=Ox&&1/Ane(new Ox([,-0]))[1]==Ene?function(t){return new Ox(t)}:kne,Pne=jne,Nne=uL,Cne=bne,Ine=_ne,One=fL,Rne=Pne,Dne=VS,Mne=200;function $ne(t,e,r){var n=-1,i=Cne,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=Ine;else if(a>=Mne){var u=e?null:Rne(t);if(u)return Dne(u);o=!1,i=One,l=new Nne}else l=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var Lne=$ne,Vne=Ci,Fne=Lne;function Bne(t,e){return t&&t.length?Fne(t,Vne(e)):[]}var zne=Bne;const vP=nt(zne);function AL(t,e,r){return e===!0?vP(t,r):je(e)?vP(t,e):t}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}var Une=["ref"];function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){Qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jL(n.key),n)}}function qne(t,e,r){return e&&xP(t.prototype,e),r&&xP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,r){return e=eg(e),Hne(t,EL()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function Hne(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(t)}function Gne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(t)}function Yne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rw(t,e)}function Qv(t,e,r){return e=jL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jL(t){var e=Xne(t,"string");return ic(e)=="symbol"?e:e+""}function Xne(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qne(t,e){if(t==null)return{};var r=Jne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zne(t){return t.value}function eie(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var r=Qne(e,Une);return M.createElement(LS,r)}var bP=1,us=function(t){function e(){var r;Kne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wne(this,e,[].concat(i)),Qv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Yne(e,t),qne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bP||Math.abs(i.height-this.lastBoundingBox.height)>bP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $i($i({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=$i($i({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},eie(a,$i($i({},this.props),{},{payload:AL(d,u,Zne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=$i($i({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(R.PureComponent);Qv(us,"displayName","Legend");Qv(us,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wP=fh,tie=FS,rie=on,_P=wP?wP.isConcatSpreadable:void 0;function nie(t){return rie(t)||tie(t)||!!(_P&&t&&t[_P])}var iie=nie,aie=pL,oie=iie;function PL(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=oie),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?PL(s,e-1,r,n,i):aie(i,s):n||(i[i.length]=s)}return i}var NL=PL;function sie(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var lie=sie,cie=lie,uie=cie(),die=uie,fie=die,hie=Xv;function pie(t,e){return t&&fie(t,e,hie)}var CL=pie,mie=hh;function gie(t,e){return function(r,n){if(r==null)return r;if(!mie(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var vie=gie,yie=CL,xie=vie,bie=xie(yie),KS=bie,wie=KS,_ie=hh;function Sie(t,e){var r=-1,n=_ie(t)?Array(t.length):[];return wie(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var IL=Sie;function Tie(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var kie=Tie,SP=Bc;function Aie(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=SP(t),o=e!==void 0,s=e===null,l=e===e,u=SP(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var Eie=Aie,jie=Eie;function Pie(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=jie(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Nie=Pie,Rx=jS,Cie=PS,Iie=Ci,Oie=IL,Rie=kie,Die=vL,Mie=Nie,$ie=Xc,Lie=on;function Vie(t,e,r){e.length?e=Rx(e,function(a){return Lie(a)?function(o){return Cie(o,a.length===1?a[0]:a)}:a}):e=[$ie];var n=-1;e=Rx(e,Die(Iie));var i=Oie(t,function(a,o,s){var l=Rx(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Rie(i,function(a,o){return Mie(a,o,r)})}var Fie=Vie;function Bie(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var zie=Bie,Uie=zie,TP=Math.max;function Kie(t,e,r){return e=TP(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=TP(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Uie(t,this,s)}}var qie=Kie;function Wie(t){return function(){return t}}var Hie=Wie,Gie=Ls,Yie=function(){try{var t=Gie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OL=Yie,Xie=Hie,kP=OL,Qie=Xc,Jie=kP?function(t,e){return kP(t,"toString",{configurable:!0,enumerable:!1,value:Xie(e),writable:!0})}:Qie,Zie=Jie,eae=800,tae=16,rae=Date.now;function nae(t){var e=0,r=0;return function(){var n=rae(),i=tae-(n-r);if(r=n,i>0){if(++e>=eae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var iae=nae,aae=Zie,oae=iae,sae=oae(aae),lae=sae,cae=Xc,uae=qie,dae=lae;function fae(t,e){return dae(uae(t,e,cae),t+"")}var hae=fae,pae=TS,mae=hh,gae=BS,vae=ko;function yae(t,e,r){if(!vae(r))return!1;var n=typeof e;return(n=="number"?mae(r)&&gae(e,r.length):n=="string"&&e in r)?pae(r[e],t):!1}var Jv=yae,xae=NL,bae=Fie,wae=hae,AP=Jv,_ae=wae(function(t,e){if(t==null)return[];var r=e.length;return r>1&&AP(t,e[0],e[1])?e=[]:r>2&&AP(e[0],e[1],e[2])&&(e=[e[0]]),bae(t,xae(e,1),[])}),Sae=_ae;const qS=nt(Sae);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}function Tae(t,e){return jae(t)||Eae(t,e)||Aae(t,e)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){if(t){if(typeof t=="string")return EP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(t,e)}}function EP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jae(t){if(Array.isArray(t))return t}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Pae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pae(t,e,r){return e=Nae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nae(t){var e=Cae(t,"string");return tf(e)=="symbol"?e:e+""}function Cae(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iae(t){return Array.isArray(t)&&Jt(t[0])&&Jt(t[1])?t.join(" ~ "):t}var Oae=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,v=e.label,w=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,b=function(){if(d&&d.length){var P={padding:0,margin:0},C=(h?qS(d,h):d).map(function(L,$){if(L.type==="none")return null;var q=Dx({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),U=L.formatter||f||Iae,F=L.value,z=L.name,X=F,re=z;if(U&&X!=null&&re!=null){var V=U(F,z,L,$,d);if(Array.isArray(V)){var Y=Tae(V,2);X=Y[0],re=Y[1]}else X=V}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:q},Jt(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Jt(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},X),M.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:P},C)}return null},j=Dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=Dx({margin:0},u),S=!Me(v),T=S?v:"",k=Fe("recharts-default-tooltip",m),E=Fe("recharts-tooltip-label",g);S&&w&&d!==void 0&&d!==null&&(T=w(v,d));var I=_?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",nw({className:k,style:j},I),M.createElement("p",{className:E,style:x},M.isValidElement(T)?T:"".concat(T)),b())};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function hp(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Dae(t,"string");return rf(e)=="symbol"?e:e+""}function Dae(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eu="recharts-tooltip-wrapper",Mae={visibility:"hidden"};function $ae(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Fe(Eu,hp(hp(hp(hp({},"".concat(Eu,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(Eu,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(Eu,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(Eu,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function PP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&le(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+s,v=l[n]+u;return g>v?Math.max(d,l[n]):Math.max(f,l[n])}function Lae(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Vae(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=PP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=PP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Lae({translateX:d,translateY:f,useTranslate3d:s})):u=Mae,{cssProperties:u,cssClasses:$ae({translateX:d,translateY:f,coordinate:r})}}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DL(n.key),n)}}function zae(t,e,r){return e&&Bae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,r){return e=tg(e),Kae(t,RL()?Reflect.construct(e,r||[],tg(t).constructor):e.apply(t,r))}function Kae(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(t)}function qae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(t)}function Wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iw(t,e)}function aw(t,e,r){return e=DL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DL(t){var e=Hae(t,"string");return ac(e)=="symbol"?e:e+""}function Hae(t,e){if(ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IP=1,Gae=function(t){function e(){var r;Fae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Uae(this,e,[].concat(i)),aw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Wae(e,t),zae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IP||Math.abs(n.height-this.state.lastBoundingBox.height)>IP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,v=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,b=Vae({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),j=b.cssClasses,x=b.cssProperties,S=CP(CP({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return M.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(R.PureComponent),Yae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vs={isSsr:Yae()};function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){WS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function Jae(t,e,r){return e&&Qae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zae(t,e,r){return e=rg(e),eoe(t,ML()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function eoe(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return toe(t)}function toe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ow(t,e)}function WS(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=noe(t,"string");return oc(e)=="symbol"?e:e+""}function noe(t,e){if(oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ioe(t){return t.dataKey}function aoe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Oae,e)}var Lr=function(t){function e(){return Xae(this,e),Zae(this,e,arguments)}return roe(e,t),Jae(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,v=i.payloadUniqBy,w=i.position,y=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,j=i.wrapperStyle,x=g??[];f&&x.length&&(x=AL(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),v,ioe));var S=x.length>0;return M.createElement(Gae,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:m,position:w,reverseDirection:y,useTranslate3d:_,viewBox:b,wrapperStyle:j},aoe(u,RP(RP({},this.props),{},{payload:x})))}}])}(R.PureComponent);WS(Lr,"displayName","Tooltip");WS(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ooe=Ni,soe=function(){return ooe.Date.now()},loe=soe,coe=/\s/;function uoe(t){for(var e=t.length;e--&&coe.test(t.charAt(e)););return e}var doe=uoe,foe=doe,hoe=/^\s+/;function poe(t){return t&&t.slice(0,foe(t)+1).replace(hoe,"")}var moe=poe,goe=moe,DP=ko,voe=Bc,MP=NaN,yoe=/^[-+]0x[0-9a-f]+$/i,xoe=/^0b[01]+$/i,boe=/^0o[0-7]+$/i,woe=parseInt;function _oe(t){if(typeof t=="number")return t;if(voe(t))return MP;if(DP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=DP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=goe(t);var r=xoe.test(t);return r||boe.test(t)?woe(t.slice(2),r?2:8):yoe.test(t)?MP:+t}var LL=_oe,Soe=ko,Mx=loe,$P=LL,Toe="Expected a function",koe=Math.max,Aoe=Math.min;function Eoe(t,e,r){var n,i,a,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Toe);e=$P(e)||0,Soe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?koe($P(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function m(S){var T=n,k=i;return n=i=void 0,u=S,o=t.apply(k,T),o}function g(S){return u=S,s=setTimeout(y,e),d?m(S):o}function v(S){var T=S-l,k=S-u,E=e-T;return f?Aoe(E,a-k):E}function w(S){var T=S-l,k=S-u;return l===void 0||T>=e||T<0||f&&k>=a}function y(){var S=Mx();if(w(S))return _(S);s=setTimeout(y,v(S))}function _(S){return s=void 0,h&&n?m(S):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function j(){return s===void 0?o:_(Mx())}function x(){var S=Mx(),T=w(S);if(n=arguments,i=this,l=S,T){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(y,e),m(l)}return s===void 0&&(s=setTimeout(y,e)),o}return x.cancel=b,x.flush=j,x}var joe=Eoe,Poe=joe,Noe=ko,Coe="Expected a function";function Ioe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Coe);return Noe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Poe(t,e,{leading:n,maxWait:e,trailing:i})}var Ooe=Ioe;const VL=nt(Ooe);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){Roe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Roe(t,e,r){return e=Doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Doe(t){var e=Moe(t,"string");return nf(e)=="symbol"?e:e+""}function Moe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $oe(t,e){return Boe(t)||Foe(t,e)||Voe(t,e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(t,e){if(t){if(typeof t=="string")return VP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VP(t,e)}}function VP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Foe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Boe(t){if(Array.isArray(t))return t}var $l=R.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,v=g===void 0?0:g,w=t.id,y=t.className,_=t.onResize,b=t.style,j=b===void 0?{}:b,x=R.useRef(null),S=R.useRef();S.current=_,R.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var T=R.useState({containerWidth:i.width,containerHeight:i.height}),k=$oe(T,2),E=k[0],I=k[1],O=R.useCallback(function(C,L){I(function($){var q=Math.round(C),U=Math.round(L);return $.containerWidth===q&&$.containerHeight===U?$:{containerWidth:q,containerHeight:U}})},[]);R.useEffect(function(){var C=function(z){var X,re=z[0].contentRect,V=re.width,Y=re.height;O(V,Y),(X=S.current)===null||X===void 0||X.call(S,V,Y)};v>0&&(C=VL(C,v,{trailing:!0,leading:!1}));var L=new ResizeObserver(C),$=x.current.getBoundingClientRect(),q=$.width,U=$.height;return O(q,U),L.observe(x.current),function(){L.disconnect()}},[O,v]);var P=R.useMemo(function(){var C=E.containerWidth,L=E.containerHeight;if(C<0||L<0)return null;ii(Jo(o)||Jo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ii(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Jo(o)?C:o,q=Jo(l)?L:l;r&&r>0&&($?q=$/r:q&&($=q*r),h&&q>h&&(q=h)),ii($>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,q,o,l,d,f,r);var U=!Array.isArray(m)&&Ji(m.type).endsWith("Chart");return M.Children.map(m,function(F){return M.isValidElement(F)?R.cloneElement(F,pp({width:$,height:q},U?{style:pp({height:"100%",width:"100%",maxHeight:q,maxWidth:$},F.props.style)}:{})):F})},[r,m,l,h,f,d,E,o]);return M.createElement("div",{id:w?"".concat(w):void 0,className:Fe("recharts-responsive-container",y),style:pp(pp({},j),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:x},P)}),ph=function(e){return null};ph.displayName="Cell";function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){zoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zoe(t,e,r){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uoe(t){var e=Koe(t,"string");return af(e)=="symbol"?e:e+""}function Koe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ys={widthCache:{},cacheCount:0},qoe=2e3,Woe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BP="recharts_measurement_span";function Hoe(t){var e=sw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ud=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vs.isSsr)return{width:0,height:0};var n=Hoe(r),i=JSON.stringify({text:e,copyStyle:n});if(Ys.widthCache[i])return Ys.widthCache[i];try{var a=document.getElementById(BP);a||(a=document.createElement("span"),a.setAttribute("id",BP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=sw(sw({},Woe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ys.widthCache[i]=l,++Ys.cacheCount>qoe&&(Ys.cacheCount=0,Ys.widthCache={}),l}catch{return{width:0,height:0}}},Goe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function ng(t,e){return Joe(t)||Qoe(t,e)||Xoe(t,e)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return zP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Joe(t){if(Array.isArray(t))return t}function Zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tse(n.key),n)}}function ese(t,e,r){return e&&UP(t.prototype,e),r&&UP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tse(t){var e=rse(t,"string");return of(e)=="symbol"?e:e+""}function rse(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ise=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ase=Object.keys(FL),ml="NaN";function ose(t,e){return t*FL[e]}var mp=function(){function t(e,r){Zoe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!nse.test(r)&&(this.num=NaN,this.unit=""),ase.includes(r)&&(this.num=ose(e,r),this.unit="px")}return ese(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=ise.exec(r))!==null&&n!==void 0?n:[],a=ng(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function BL(t){if(t.includes(ml))return ml;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=KP.exec(e))!==null&&r!==void 0?r:[],i=ng(n,4),a=i[1],o=i[2],s=i[3],l=mp.parse(a??""),u=mp.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ml;e=e.replace(KP,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=qP.exec(e))!==null&&f!==void 0?f:[],m=ng(h,4),g=m[1],v=m[2],w=m[3],y=mp.parse(g??""),_=mp.parse(w??""),b=v==="+"?y.add(_):y.subtract(_);if(b.isNaN())return ml;e=e.replace(qP,b.toString())}return e}var WP=/\(([^()]*)\)/;function sse(t){for(var e=t;e.includes("(");){var r=WP.exec(e),n=ng(r,2),i=n[1];e=e.replace(WP,BL(i))}return e}function lse(t){var e=t.replace(/\s+/g,"");return e=sse(e),e=BL(e),e}function cse(t){try{return lse(t)}catch{return ml}}function $x(t){var e=cse(t.slice(5,-1));return e===ml?"":e}var use=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dse=["dx","dy","angle","className","breakAll"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}function HP(t,e){if(t==null)return{};var r=fse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GP(t,e){return gse(t)||mse(t,e)||pse(t,e)||hse()}function hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return YP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gse(t){if(Array.isArray(t))return t}var zL=/[ \f\n\r\t\v\u2028\u2029]+/,UL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Me(r)||(n?a=r.toString().split(""):a=r.toString().split(zL));var o=a.map(function(l){return{word:l,width:ud(l,i).width}}),s=n?0:ud(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},vse=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=le(o),f=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(q,U){var F=U.word,z=U.width,X=q[q.length-1];if(X&&(i==null||a||X.width+z+n<Number(i)))X.words.push(F),X.width+=z+n;else{var re={words:[F],width:z};q.push(re)}return q},[])},m=h(r),g=function($){return $.reduce(function(q,U){return q.width>U.width?q:U})};if(!d)return m;for(var v="…",w=function($){var q=f.slice(0,$),U=UL({breakAll:u,style:l,children:q+v}).wordsWithComputedWidth,F=h(U),z=F.length>o||g(F).width>Number(i);return[z,F]},y=0,_=f.length-1,b=0,j;y<=_&&b<=f.length-1;){var x=Math.floor((y+_)/2),S=x-1,T=w(S),k=GP(T,2),E=k[0],I=k[1],O=w(x),P=GP(O,1),C=P[0];if(!E&&!C&&(y=x+1),E&&C&&(_=x-1),!E&&C){j=I;break}b++}return j||m},XP=function(e){var r=Me(e)?[]:e.toString().split(zL);return[{words:r}]},yse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Vs.isSsr){var l,u,d=UL({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return XP(i);return vse({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return XP(i)},QP="#808080",js=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,w=e.fill,y=w===void 0?QP:w,_=HP(e,use),b=R.useMemo(function(){return yse({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),j=_.dx,x=_.dy,S=_.angle,T=_.className,k=_.breakAll,E=HP(_,dse);if(!Jt(n)||!Jt(a))return null;var I=n+(le(j)?j:0),O=a+(le(x)?x:0),P;switch(v){case"start":P=$x("calc(".concat(u,")"));break;case"middle":P=$x("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=$x("calc(".concat(b.length-1," * -").concat(s,")"));break}var C=[];if(f){var L=b[0].width,$=_.width;C.push("scale(".concat((le($)?$/L:1)/L,")"))}return S&&C.push("rotate(".concat(S,", ").concat(I,", ").concat(O,")")),C.length&&(E.transform=C.join(" ")),M.createElement("text",lw({},Te(E,!0),{x:I,y:O,className:Fe("recharts-text",T),textAnchor:m,fill:y.includes("url")?QP:y}),b.map(function(q,U){var F=q.words.join(k?"":" ");return M.createElement("tspan",{x:I,dy:U===0?P:s,key:"".concat(F,"-").concat(U)},F)}))};function oo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HS(t){let e,r,n;t.length!==2?(e=oo,r=(s,l)=>oo(t(s),l),n=(s,l)=>t(s)-l):(e=t===oo||t===xse?t:bse,r=t,n=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function bse(){return 0}function KL(t){return t===null?NaN:+t}function*wse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const _se=HS(oo),mh=_se.right;HS(KL).center;class JP extends Map{constructor(e,r=kse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(ZP(this,e))}has(e){return super.has(ZP(this,e))}set(e,r){return super.set(Sse(this,e),r)}delete(e){return super.delete(Tse(this,e))}}function ZP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Sse({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Tse({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function kse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ase(t=oo){if(t===oo)return qL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function qL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ese=Math.sqrt(50),jse=Math.sqrt(10),Pse=Math.sqrt(2);function ig(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Ese?10:a>=jse?5:a>=Pse?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?ig(t,e,r*2):[s,l,u]}function cw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?ig(e,t,r):ig(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function uw(t,e,r){return e=+e,t=+t,r=+r,ig(t,e,r)[2]}function dw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?uw(e,t,r):uw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function eN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?qL:Ase(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/l+h)),g=Math.min(n,Math.floor(e+(l-u)*f/l+h));WL(t,e,m,g,i)}const a=t[e];let o=r,s=n;for(ju(t,r,e),i(t[n],a)>0&&ju(t,r,n);o<s;){for(ju(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?ju(t,r,s):(++s,ju(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function ju(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Nse(t,e,r){if(t=Float64Array.from(wse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return tN(t);if(e>=1)return eN(t);var n,i=(n-1)*e,a=Math.floor(i),o=eN(WL(t,a).subarray(0,a+1)),s=tN(t.subarray(a+1));return o+(s-o)*(i-a)}}function Cse(t,e,r=KL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Ise(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _a(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fw=Symbol("implicit");function GS(){var t=new JP,e=[],r=[],n=fw;function i(a){let o=t.get(a);if(o===void 0){if(n!==fw)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new JP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return GS(e,r).unknown(n)},zn.apply(i,arguments),i}function sf(){var t=GS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,g=m?i:n,v=m?n:i;a=(v-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(v-g-a*(h-l))*d,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var w=Ise(h).map(function(y){return g+a*y});return r(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return sf(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},zn.apply(f(),arguments)}function HL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HL(e())},t}function dd(){return HL(sf.apply(null,arguments).paddingInner(1))}function YS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function GL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gh(){}var lf=.7,ag=1/lf,Ll="\\s*([+-]?\\d+)\\s*",cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ose=/^#([0-9a-f]{3,8})$/,Rse=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),Dse=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),Mse=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${cf}\\)$`),$se=new RegExp(`^rgba\\(${_i},${_i},${_i},${cf}\\)$`),Lse=new RegExp(`^hsl\\(${cf},${_i},${_i}\\)$`),Vse=new RegExp(`^hsla\\(${cf},${_i},${_i},${cf}\\)$`),rN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YS(gh,uf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nN,formatHex:nN,formatHex8:Fse,formatHsl:Bse,formatRgb:iN,toString:iN});function nN(){return this.rgb().formatHex()}function Fse(){return this.rgb().formatHex8()}function Bse(){return YL(this).formatHsl()}function iN(){return this.rgb().formatRgb()}function uf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ose.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?aN(e):r===3?new en(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rse.exec(t))?new en(e[1],e[2],e[3],1):(e=Dse.exec(t))?new en(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mse.exec(t))?gp(e[1],e[2],e[3],e[4]):(e=$se.exec(t))?gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lse.exec(t))?lN(e[1],e[2]/100,e[3]/100,1):(e=Vse.exec(t))?lN(e[1],e[2]/100,e[3]/100,e[4]):rN.hasOwnProperty(t)?aN(rN[t]):t==="transparent"?new en(NaN,NaN,NaN,0):null}function aN(t){return new en(t>>16&255,t>>8&255,t&255,1)}function gp(t,e,r,n){return n<=0&&(t=e=r=NaN),new en(t,e,r,n)}function zse(t){return t instanceof gh||(t=uf(t)),t?(t=t.rgb(),new en(t.r,t.g,t.b,t.opacity)):new en}function hw(t,e,r,n){return arguments.length===1?zse(t):new en(t,e,r,n??1)}function en(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}YS(en,hw,GL(gh,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new en(ds(this.r),ds(this.g),ds(this.b),og(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oN,formatHex:oN,formatHex8:Use,formatRgb:sN,toString:sN}));function oN(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function Use(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sN(){const t=og(this.opacity);return`${t===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${t===1?")":`, ${t})`}`}function og(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=ds(t),(t<16?"0":"")+t.toString(16)}function lN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,r,n)}function YL(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof gh||(t=uf(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Zn(o,s,l,t.opacity)}function Kse(t,e,r,n){return arguments.length===1?YL(t):new Zn(t,e,r,n??1)}function Zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}YS(Zn,Kse,GL(gh,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new en(Lx(t>=240?t-240:t+120,i,n),Lx(t,i,n),Lx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zn(cN(this.h),vp(this.s),vp(this.l),og(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=og(this.opacity);return`${t===1?"hsl(":"hsla("}${cN(this.h)}, ${vp(this.s)*100}%, ${vp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cN(t){return t=(t||0)%360,t<0?t+360:t}function vp(t){return Math.max(0,Math.min(1,t||0))}function Lx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const XS=t=>()=>t;function qse(t,e){return function(r){return t+r*e}}function Wse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Hse(t){return(t=+t)==1?XL:function(e,r){return r-e?Wse(e,r,t):XS(isNaN(e)?r:e)}}function XL(t,e){var r=e-t;return r?qse(t,r):XS(isNaN(t)?e:t)}const uN=function t(e){var r=Hse(e);function n(i,a){var o=r((i=hw(i)).r,(a=hw(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=XL(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Gse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Yse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Qc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Qse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Jse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Qc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vx=new RegExp(pw.source,"g");function Zse(t){return function(){return t}}function ele(t){return function(e){return t(e)+""}}function tle(t,e){var r=pw.lastIndex=Vx.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=pw.exec(t))&&(i=Vx.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:sg(n,i)})),r=Vx.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?ele(l[0].x):Zse(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Qc(t,e){var r=typeof e,n;return e==null||r==="boolean"?XS(e):(r==="number"?sg:r==="string"?(n=uf(e))?(e=n,uN):tle:e instanceof uf?uN:e instanceof Date?Qse:Yse(e)?Gse:Array.isArray(e)?Xse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jse:sg)(t,e)}function QS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function rle(t,e){e===void 0&&(e=t,t=Qc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function nle(t){return function(){return t}}function lg(t){return+t}var dN=[0,1];function Br(t){return t}function mw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:nle(isNaN(e)?NaN:.5)}function ile(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ale(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=mw(i,n),a=r(o,a)):(n=mw(n,i),a=r(a,o)),function(s){return a(n(s))}}function ole(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=mw(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=mh(t,s,1,n)-1;return a[l](i[l](s))}}function vh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zv(){var t=dN,e=dN,r=Qc,n,i,a,o=Br,s,l,u;function d(){var h=Math.min(t.length,e.length);return o!==Br&&(o=ile(t[0],t[h-1])),s=h>2?ole:ale,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),sg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,lg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=QS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Br,d()):o!==Br},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function JS(){return Zv()(Br,Br)}function sle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sc(t){return t=cg(Math.abs(t)),t?t[1]:NaN}function lle(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function cle(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ule=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function df(t){if(!(e=ule.exec(t)))throw new Error("invalid format: "+t);var e;return new ZS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}df.prototype=ZS.prototype;function ZS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dle(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var QL;function fle(t,e){var r=cg(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(QL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+cg(t,Math.max(0,e+a-1))[0]}function fN(t,e){var r=cg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const hN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fN(t*100,e),r:fN,s:fle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pN(t){return t}var mN=Array.prototype.map,gN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hle(t){var e=t.grouping===void 0||t.thousands===void 0?pN:lle(mN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pN:cle(mN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=df(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,w=f.zero,y=f.width,_=f.comma,b=f.precision,j=f.trim,x=f.type;x==="n"?(_=!0,x="g"):hN[x]||(b===void 0&&(b=12),j=!0,x="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=v==="$"?n:/[%p]/.test(x)?o:"",k=hN[x],E=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(O){var P=S,C=T,L,$,q;if(x==="c")C=k(O)+C,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),b),j&&(O=dle(O)),U&&+O==0&&g!=="+"&&(U=!1),P=(U?g==="("?g:s:g==="-"||g==="("?"":g)+P,C=(x==="s"?gN[8+QL/3]:"")+C+(U&&g==="("?")":""),E){for(L=-1,$=O.length;++L<$;)if(q=O.charCodeAt(L),48>q||q>57){C=(q===46?i+O.slice(L+1):O.slice(L))+C,O=O.slice(0,L);break}}}_&&!w&&(O=e(O,1/0));var F=P.length+O.length+C.length,z=F<y?new Array(y-F+1).join(h):"";switch(_&&w&&(O=e(z+O,z.length?y-C.length:1/0),z=""),m){case"<":O=P+O+C+z;break;case"=":O=P+z+O+C;break;case"^":O=z.slice(0,F=z.length>>1)+P+O+C+z.slice(F);break;default:O=z+P+O+C;break}return a(O)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=df(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(sc(h)/3)))*3,v=Math.pow(10,-g),w=gN[8+g/3];return function(y){return m(v*y)+w}}return{format:u,formatPrefix:d}}var yp,eT,JL;ple({thousands:",",grouping:[3],currency:["$",""]});function ple(t){return yp=hle(t),eT=yp.format,JL=yp.formatPrefix,yp}function mle(t){return Math.max(0,-sc(Math.abs(t)))}function gle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function vle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function ZL(t,e,r,n){var i=dw(t,e,r),a;switch(n=df(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=gle(i,o))&&(n.precision=a),JL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=vle(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mle(i))&&(n.precision=a-(n.type==="%")*2);break}}return eT(n)}function Ao(t){var e=t.domain;return t.ticks=function(r){var n=e();return cw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ZL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=uw(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function ug(){var t=JS();return t.copy=function(){return vh(t,ug())},zn.apply(t,arguments),Ao(t)}function e4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,lg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return e4(t).unknown(e)},t=arguments.length?Array.from(t,lg):[0,1],Ao(r)}function t4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function vN(t){return Math.log(t)}function yN(t){return Math.exp(t)}function yle(t){return-Math.log(-t)}function xle(t){return-Math.exp(-t)}function ble(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wle(t){return t===10?ble:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _le(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xN(t){return(e,r)=>-t(-e,r)}function tT(t){const e=t(vN,yN),r=e.domain;let n=10,i,a;function o(){return i=_le(n),a=wle(n),r()[0]<0?(i=xN(i),a=xN(a),t(yle,xle)):t(vN,yN),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,v;const w=s==null?10:+s;let y=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(v=h<0?g/a(-h):g*a(h),!(v<u)){if(v>d)break;y.push(v)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/a(-h):g*a(h),!(v<u)){if(v>d)break;y.push(v)}y.length*2<w&&(y=cw(u,d,w))}else y=cw(h,m,Math.min(m-h,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=df(l)).precision==null&&(l.trim=!0),l=eT(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(t4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function r4(){const t=tT(Zv()).domain([1,10]);return t.copy=()=>vh(t,r4()).base(t.base()),zn.apply(t,arguments),t}function bN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rT(t){var e=1,r=t(bN(e),wN(e));return r.constant=function(n){return arguments.length?t(bN(e=+n),wN(e)):e},Ao(r)}function n4(){var t=rT(Zv());return t.copy=function(){return vh(t,n4()).constant(t.constant())},zn.apply(t,arguments)}function _N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tle(t){return t<0?-t*t:t*t}function nT(t){var e=t(Br,Br),r=1;function n(){return r===1?t(Br,Br):r===.5?t(Sle,Tle):t(_N(r),_N(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ao(e)}function iT(){var t=nT(Zv());return t.copy=function(){return vh(t,iT()).exponent(t.exponent())},zn.apply(t,arguments),t}function kle(){return iT.apply(null,arguments).exponent(.5)}function SN(t){return Math.sign(t)*t*t}function Ale(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i4(){var t=JS(),e=[0,1],r=!1,n;function i(a){var o=Ale(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(SN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lg)).map(SN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return i4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zn.apply(i,arguments),Ao(i)}function a4(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Cse(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[mh(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(oo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return a4().domain(t).range(e).unknown(n)},zn.apply(a,arguments)}function o4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[mh(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return o4().domain([t,e]).range(i).unknown(a)},zn.apply(Ao(o),arguments)}function s4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[mh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s4().domain(t).range(e).unknown(r)},zn.apply(i,arguments)}const Fx=new Date,Bx=new Date;function er(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>er(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Fx.setTime(+a),Bx.setTime(+o),t(Fx),t(Bx),Math.floor(r(Fx,Bx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const dg=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):dg);dg.range;const Wi=1e3,Rn=Wi*60,Hi=Rn*60,da=Hi*24,aT=da*7,TN=da*30,zx=da*365,es=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCSeconds());es.range;const oT=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getMinutes());oT.range;const sT=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getUTCMinutes());sT.range;const lT=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi-t.getMinutes()*Rn)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getHours());lT.range;const cT=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCHours());cT.range;const yh=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/da,t=>t.getDate()-1);yh.range;const ey=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>t.getUTCDate()-1);ey.range;const l4=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>Math.floor(t/da));l4.range;function Fs(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/aT)}const ty=Fs(0),fg=Fs(1),Ele=Fs(2),jle=Fs(3),lc=Fs(4),Ple=Fs(5),Nle=Fs(6);ty.range;fg.range;Ele.range;jle.range;lc.range;Ple.range;Nle.range;function Bs(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/aT)}const ry=Bs(0),hg=Bs(1),Cle=Bs(2),Ile=Bs(3),cc=Bs(4),Ole=Bs(5),Rle=Bs(6);ry.range;hg.range;Cle.range;Ile.range;cc.range;Ole.range;Rle.range;const uT=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uT.range;const dT=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dT.range;const fa=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});fa.range;const ha=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ha.range;function c4(t,e,r,n,i,a){const o=[[es,1,Wi],[es,5,5*Wi],[es,15,15*Wi],[es,30,30*Wi],[a,1,Rn],[a,5,5*Rn],[a,15,15*Rn],[a,30,30*Rn],[i,1,Hi],[i,3,3*Hi],[i,6,6*Hi],[i,12,12*Hi],[n,1,da],[n,2,2*da],[r,1,aT],[e,1,TN],[e,3,3*TN],[t,1,zx]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,m=HS(([,,w])=>w).right(o,h);if(m===o.length)return t.every(dw(u/zx,d/zx,f));if(m===0)return dg.every(Math.max(dw(u,d,f),1));const[g,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(v)}return[s,l]}const[Dle,Mle]=c4(ha,dT,ry,l4,cT,sT),[$le,Lle]=c4(fa,uT,ty,yh,lT,oT);function Ux(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Vle(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Nu(i),d=Cu(i),f=Nu(a),h=Cu(a),m=Nu(o),g=Cu(o),v=Nu(s),w=Cu(s),y=Nu(l),_=Cu(l),b={a:U,A:F,b:z,B:X,c:null,d:NN,e:NN,f:lce,g:yce,G:bce,H:ace,I:oce,j:sce,L:u4,m:cce,M:uce,p:re,q:V,Q:ON,s:RN,S:dce,u:fce,U:hce,V:pce,w:mce,W:gce,x:null,X:null,y:vce,Y:xce,Z:wce,"%":IN},j={a:Y,A:Z,b:ee,B:we,c:null,d:CN,e:CN,f:kce,g:Dce,G:$ce,H:_ce,I:Sce,j:Tce,L:f4,m:Ace,M:Ece,p:ge,q:Le,Q:ON,s:RN,S:jce,u:Pce,U:Nce,V:Cce,w:Ice,W:Oce,x:null,X:null,y:Rce,Y:Mce,Z:Lce,"%":IN},x={a:I,A:O,b:P,B:C,c:L,d:jN,e:jN,f:tce,g:EN,G:AN,H:PN,I:PN,j:Qle,L:ece,m:Xle,M:Jle,p:E,q:Yle,Q:nce,s:ice,S:Zle,u:Kle,U:qle,V:Wle,w:Ule,W:Hle,x:$,X:q,y:EN,Y:AN,Z:Gle,"%":rce};b.x=S(r,b),b.X=S(n,b),b.c=S(e,b),j.x=S(r,j),j.X=S(n,j),j.c=S(e,j);function S(G,K){return function(W){var B=[],ne=-1,ae=0,pe=G.length,Ce,Ve,Ye;for(W instanceof Date||(W=new Date(+W));++ne<pe;)G.charCodeAt(ne)===37&&(B.push(G.slice(ae,ne)),(Ve=kN[Ce=G.charAt(++ne)])!=null?Ce=G.charAt(++ne):Ve=Ce==="e"?" ":"0",(Ye=K[Ce])&&(Ce=Ye(W,Ve)),B.push(Ce),ae=ne+1);return B.push(G.slice(ae,ne)),B.join("")}}function T(G,K){return function(W){var B=Pu(1900,void 0,1),ne=k(B,G,W+="",0),ae,pe;if(ne!=W.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(K&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ae=Kx(Pu(B.y,0,1)),pe=ae.getUTCDay(),ae=pe>4||pe===0?hg.ceil(ae):hg(ae),ae=ey.offset(ae,(B.V-1)*7),B.y=ae.getUTCFullYear(),B.m=ae.getUTCMonth(),B.d=ae.getUTCDate()+(B.w+6)%7):(ae=Ux(Pu(B.y,0,1)),pe=ae.getDay(),ae=pe>4||pe===0?fg.ceil(ae):fg(ae),ae=yh.offset(ae,(B.V-1)*7),B.y=ae.getFullYear(),B.m=ae.getMonth(),B.d=ae.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),pe="Z"in B?Kx(Pu(B.y,0,1)).getUTCDay():Ux(Pu(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(pe+5)%7:B.w+B.U*7-(pe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Kx(B)):Ux(B)}}function k(G,K,W,B){for(var ne=0,ae=K.length,pe=W.length,Ce,Ve;ne<ae;){if(B>=pe)return-1;if(Ce=K.charCodeAt(ne++),Ce===37){if(Ce=K.charAt(ne++),Ve=x[Ce in kN?K.charAt(ne++):Ce],!Ve||(B=Ve(G,W,B))<0)return-1}else if(Ce!=W.charCodeAt(B++))return-1}return B}function E(G,K,W){var B=u.exec(K.slice(W));return B?(G.p=d.get(B[0].toLowerCase()),W+B[0].length):-1}function I(G,K,W){var B=m.exec(K.slice(W));return B?(G.w=g.get(B[0].toLowerCase()),W+B[0].length):-1}function O(G,K,W){var B=f.exec(K.slice(W));return B?(G.w=h.get(B[0].toLowerCase()),W+B[0].length):-1}function P(G,K,W){var B=y.exec(K.slice(W));return B?(G.m=_.get(B[0].toLowerCase()),W+B[0].length):-1}function C(G,K,W){var B=v.exec(K.slice(W));return B?(G.m=w.get(B[0].toLowerCase()),W+B[0].length):-1}function L(G,K,W){return k(G,e,K,W)}function $(G,K,W){return k(G,r,K,W)}function q(G,K,W){return k(G,n,K,W)}function U(G){return o[G.getDay()]}function F(G){return a[G.getDay()]}function z(G){return l[G.getMonth()]}function X(G){return s[G.getMonth()]}function re(G){return i[+(G.getHours()>=12)]}function V(G){return 1+~~(G.getMonth()/3)}function Y(G){return o[G.getUTCDay()]}function Z(G){return a[G.getUTCDay()]}function ee(G){return l[G.getUTCMonth()]}function we(G){return s[G.getUTCMonth()]}function ge(G){return i[+(G.getUTCHours()>=12)]}function Le(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var K=S(G+="",b);return K.toString=function(){return G},K},parse:function(G){var K=T(G+="",!1);return K.toString=function(){return G},K},utcFormat:function(G){var K=S(G+="",j);return K.toString=function(){return G},K},utcParse:function(G){var K=T(G+="",!0);return K.toString=function(){return G},K}}}var kN={"-":"",_:" ",0:"0"},or=/^\s*\d+/,Fle=/^%/,Ble=/[\\^$*+?|[\]().{}]/g;function et(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function zle(t){return t.replace(Ble,"\\$&")}function Nu(t){return new RegExp("^(?:"+t.map(zle).join("|")+")","i")}function Cu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Ule(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Kle(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function qle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Wle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Hle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function AN(t,e,r){var n=or.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function EN(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gle(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yle(t,e,r){var n=or.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function jN(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Qle(t,e,r){var n=or.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function PN(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Jle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Zle(t,e,r){var n=or.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ece(t,e,r){var n=or.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function tce(t,e,r){var n=or.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rce(t,e,r){var n=Fle.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function nce(t,e,r){var n=or.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ice(t,e,r){var n=or.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function NN(t,e){return et(t.getDate(),e,2)}function ace(t,e){return et(t.getHours(),e,2)}function oce(t,e){return et(t.getHours()%12||12,e,2)}function sce(t,e){return et(1+yh.count(fa(t),t),e,3)}function u4(t,e){return et(t.getMilliseconds(),e,3)}function lce(t,e){return u4(t,e)+"000"}function cce(t,e){return et(t.getMonth()+1,e,2)}function uce(t,e){return et(t.getMinutes(),e,2)}function dce(t,e){return et(t.getSeconds(),e,2)}function fce(t){var e=t.getDay();return e===0?7:e}function hce(t,e){return et(ty.count(fa(t)-1,t),e,2)}function d4(t){var e=t.getDay();return e>=4||e===0?lc(t):lc.ceil(t)}function pce(t,e){return t=d4(t),et(lc.count(fa(t),t)+(fa(t).getDay()===4),e,2)}function mce(t){return t.getDay()}function gce(t,e){return et(fg.count(fa(t)-1,t),e,2)}function vce(t,e){return et(t.getFullYear()%100,e,2)}function yce(t,e){return t=d4(t),et(t.getFullYear()%100,e,2)}function xce(t,e){return et(t.getFullYear()%1e4,e,4)}function bce(t,e){var r=t.getDay();return t=r>=4||r===0?lc(t):lc.ceil(t),et(t.getFullYear()%1e4,e,4)}function wce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+et(e/60|0,"0",2)+et(e%60,"0",2)}function CN(t,e){return et(t.getUTCDate(),e,2)}function _ce(t,e){return et(t.getUTCHours(),e,2)}function Sce(t,e){return et(t.getUTCHours()%12||12,e,2)}function Tce(t,e){return et(1+ey.count(ha(t),t),e,3)}function f4(t,e){return et(t.getUTCMilliseconds(),e,3)}function kce(t,e){return f4(t,e)+"000"}function Ace(t,e){return et(t.getUTCMonth()+1,e,2)}function Ece(t,e){return et(t.getUTCMinutes(),e,2)}function jce(t,e){return et(t.getUTCSeconds(),e,2)}function Pce(t){var e=t.getUTCDay();return e===0?7:e}function Nce(t,e){return et(ry.count(ha(t)-1,t),e,2)}function h4(t){var e=t.getUTCDay();return e>=4||e===0?cc(t):cc.ceil(t)}function Cce(t,e){return t=h4(t),et(cc.count(ha(t),t)+(ha(t).getUTCDay()===4),e,2)}function Ice(t){return t.getUTCDay()}function Oce(t,e){return et(hg.count(ha(t)-1,t),e,2)}function Rce(t,e){return et(t.getUTCFullYear()%100,e,2)}function Dce(t,e){return t=h4(t),et(t.getUTCFullYear()%100,e,2)}function Mce(t,e){return et(t.getUTCFullYear()%1e4,e,4)}function $ce(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cc(t):cc.ceil(t),et(t.getUTCFullYear()%1e4,e,4)}function Lce(){return"+0000"}function IN(){return"%"}function ON(t){return+t}function RN(t){return Math.floor(+t/1e3)}var Xs,p4,m4;Vce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vce(t){return Xs=Vle(t),p4=Xs.format,Xs.parse,m4=Xs.utcFormat,Xs.utcParse,Xs}function Fce(t){return new Date(t)}function Bce(t){return t instanceof Date?+t:+new Date(+t)}function fT(t,e,r,n,i,a,o,s,l,u){var d=JS(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),_=u("%b %d"),b=u("%B"),j=u("%Y");function x(S){return(l(S)<S?m:s(S)<S?g:o(S)<S?v:a(S)<S?w:n(S)<S?i(S)<S?y:_:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Bce)):h().map(Fce)},d.ticks=function(S){var T=h();return t(T[0],T[T.length-1],S??10)},d.tickFormat=function(S,T){return T==null?x:u(T)},d.nice=function(S){var T=h();return(!S||typeof S.range!="function")&&(S=e(T[0],T[T.length-1],S??10)),S?h(t4(T,S)):d},d.copy=function(){return vh(d,fT(t,e,r,n,i,a,o,s,l,u))},d}function zce(){return zn.apply(fT($le,Lle,fa,uT,ty,yh,lT,oT,es,p4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uce(){return zn.apply(fT(Dle,Mle,ha,dT,ry,ey,cT,sT,es,m4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ny(){var t=0,e=1,r,n,i,a,o=Br,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Qc),u.rangeRound=d(QS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g4(){var t=Ao(ny()(Br));return t.copy=function(){return Eo(t,g4())},_a.apply(t,arguments)}function v4(){var t=tT(ny()).domain([1,10]);return t.copy=function(){return Eo(t,v4()).base(t.base())},_a.apply(t,arguments)}function y4(){var t=rT(ny());return t.copy=function(){return Eo(t,y4()).constant(t.constant())},_a.apply(t,arguments)}function hT(){var t=nT(ny());return t.copy=function(){return Eo(t,hT()).exponent(t.exponent())},_a.apply(t,arguments)}function Kce(){return hT.apply(null,arguments).exponent(.5)}function x4(){var t=[],e=Br;function r(n){if(n!=null&&!isNaN(n=+n))return e((mh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(oo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Nse(t,a/n))},r.copy=function(){return x4(e).domain(t)},_a.apply(r,arguments)}function iy(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=Br,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(n*v<n*a?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,r]=v,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(w){var y,_,b;return arguments.length?([y,_,b]=w,u=rle(v,[y,_,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Qc),m.rangeRound=g(QS),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(t),a=v(e),o=v(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function b4(){var t=Ao(iy()(Br));return t.copy=function(){return Eo(t,b4())},_a.apply(t,arguments)}function w4(){var t=tT(iy()).domain([.1,1,10]);return t.copy=function(){return Eo(t,w4()).base(t.base())},_a.apply(t,arguments)}function _4(){var t=rT(iy());return t.copy=function(){return Eo(t,_4()).constant(t.constant())},_a.apply(t,arguments)}function pT(){var t=nT(iy());return t.copy=function(){return Eo(t,pT()).exponent(t.exponent())},_a.apply(t,arguments)}function qce(){return pT.apply(null,arguments).exponent(.5)}const DN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sf,scaleDiverging:b4,scaleDivergingLog:w4,scaleDivergingPow:pT,scaleDivergingSqrt:qce,scaleDivergingSymlog:_4,scaleIdentity:e4,scaleImplicit:fw,scaleLinear:ug,scaleLog:r4,scaleOrdinal:GS,scalePoint:dd,scalePow:iT,scaleQuantile:a4,scaleQuantize:o4,scaleRadial:i4,scaleSequential:g4,scaleSequentialLog:v4,scaleSequentialPow:hT,scaleSequentialQuantile:x4,scaleSequentialSqrt:Kce,scaleSequentialSymlog:y4,scaleSqrt:kle,scaleSymlog:n4,scaleThreshold:s4,scaleTime:zce,scaleUtc:Uce,tickFormat:ZL},Symbol.toStringTag,{value:"Module"}));var Wce=Bc;function Hce(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Wce(o):r(o,s)))var s=o,l=a}return l}var ay=Hce;function Gce(t,e){return t>e}var S4=Gce,Yce=ay,Xce=S4,Qce=Xc;function Jce(t){return t&&t.length?Yce(t,Qce,Xce):void 0}var Zce=Jce;const qa=nt(Zce);function eue(t,e){return t<e}var T4=eue,tue=ay,rue=T4,nue=Xc;function iue(t){return t&&t.length?tue(t,nue,rue):void 0}var aue=iue;const oy=nt(aue);var oue=jS,sue=Ci,lue=IL,cue=on;function uue(t,e){var r=cue(t)?oue:lue;return r(t,sue(e))}var due=uue,fue=NL,hue=due;function pue(t,e){return fue(hue(t,e),1)}var mue=pue;const gue=nt(mue);var vue=US;function yue(t,e){return vue(t,e)}var xue=yue;const uc=nt(xue);var Jc=1e9,bue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gT,Tt=!0,Fn="[DecimalError] ",fs=Fn+"Invalid argument: ",mT=Fn+"Exponent out of range: ",Zc=Math.floor,qo=Math.pow,wue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,rr=1e7,yt=7,k4=9007199254740991,pg=Zc(k4/yt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*yt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return Zi(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return ut(Zi(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return qt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(dn))throw Error(Fn+"NaN");if(r.s<1)throw Error(Fn+(r.s?"NaN":"-Infinity"));return r.eq(dn)?new n(0):(Tt=!1,e=Zi(ff(r,a),ff(t,a),a),Tt=!0,ut(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j4(e,t):A4(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fn+"NaN");return r.s?(Tt=!1,e=Zi(r,t,0,1).times(t),Tt=!0,r.minus(e)):ut(new n(r),i)};xe.naturalExponential=xe.exp=function(){return E4(this)};xe.naturalLogarithm=xe.ln=function(){return ff(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A4(e,t):j4(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fs+t);if(e=qt(i)+1,n=i.d.length-1,r=n*yt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Fn+"NaN")}for(t=qt(s),Tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=hi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Zi(s,a,o+2)).times(.5),hi(a.d).slice(0,o)===(e=hi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ut(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Tt=!0,ut(n,r)};xe.times=xe.mul=function(t){var e,r,n,i,a,o,s,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*h[i-n-1]+e,a[i--]=s%rr|0,e=s/rr|0;a[i]=(a[i]+e)%rr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Tt?ut(t,f.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ji(t,0,Jc),e===void 0?e=n.rounding:ji(e,0,8),ut(r,t+qt(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ps(n,!0):(ji(t,0,Jc),e===void 0?e=i.rounding:ji(e,0,8),n=ut(new i(n),t+1,e),r=Ps(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ps(i):(ji(t,0,Jc),e===void 0?e=a.rounding:ji(e,0,8),n=ut(new a(i),t+qt(i)+1,e),r=Ps(n.abs(),!1,t+qt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return ut(new e(t),qt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(dn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Fn+"Infinity");return s}if(s.eq(dn))return s;if(n=l.precision,t.eq(dn))return ut(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=k4){for(i=new l(dn),e=Math.ceil(n/yt+4),Tt=!1;r%2&&(i=i.times(s),$N(i.d,e)),r=Zc(r/2),r!==0;)s=s.times(s),$N(s.d,e);return Tt=!0,t.s<0?new l(dn).div(i):ut(i,n)}}else if(a<0)throw Error(Fn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Tt=!1,i=t.times(ff(s,n+u)),Tt=!0,i=E4(i),i.s=a,i};xe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=qt(i),n=Ps(i,r<=a.toExpNeg||r>=a.toExpPos)):(ji(t,1,Jc),e===void 0?e=a.rounding:ji(e,0,8),i=ut(new a(i),t,e),r=qt(i),n=Ps(i,t<=r||r<=a.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ji(t,1,Jc),e===void 0?e=n.rounding:ji(e,0,8)),ut(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qt(t),r=t.constructor;return Ps(t,e<=r.toExpNeg||e>=r.toExpPos)};function A4(t,e){var r,n,i,a,o,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Tt?ut(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/yt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/rr|0,l[a]%=rr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Tt?ut(e,f):e}function ji(t,e,r){if(t!==~~t||t<e||t>r)throw Error(fs+t)}function hi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=yt-n.length,r&&(a+=Ra(r)),a+=n;o=t[e],n=o+"",r=yt-n.length,r&&(a+=Ra(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%rr|0,o=a/rr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*rr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,d,f,h,m,g,v,w,y,_,b,j,x,S,T,k,E=n.constructor,I=n.s==i.s?1:-1,O=n.d,P=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Fn+"Division by zero");for(l=n.e-i.e,T=P.length,x=O.length,m=new E(I),g=m.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--l,a==null?_=a=E.precision:o?_=a+(qt(n)-qt(i))+1:_=a,_<0)return new E(0);if(_=_/yt+2|0,u=0,T==1)for(d=0,P=P[0],_++;(u<x||d)&&_--;u++)b=d*rr+(O[u]||0),g[u]=b/P|0,d=b%P|0;else{for(d=rr/(P[0]+1)|0,d>1&&(P=t(P,d),O=t(O,d),T=P.length,x=O.length),j=T,v=O.slice(0,T),w=v.length;w<T;)v[w++]=0;k=P.slice(),k.unshift(0),S=P[0],P[1]>=rr/2&&++S;do d=0,s=e(P,v,T,w),s<0?(y=v[0],T!=w&&(y=y*rr+(v[1]||0)),d=y/S|0,d>1?(d>=rr&&(d=rr-1),f=t(P,d),h=f.length,w=v.length,s=e(f,v,h,w),s==1&&(d--,r(f,T<h?k:P,h))):(d==0&&(s=d=1),f=P.slice()),h=f.length,h<w&&f.unshift(0),r(v,f,w),s==-1&&(w=v.length,s=e(P,v,T,w),s<1&&(d++,r(v,T<w?k:P,w))),w=v.length):s===0&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[w++]=O[j]||0:(v=[O[j]],w=1);while((j++<x||v[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=l,ut(m,o?a+qt(m)+1:a)}}();function E4(t,e){var r,n,i,a,o,s,l=0,u=0,d=t.constructor,f=d.precision;if(qt(t)>16)throw Error(mT+qt(t));if(!t.s)return new d(dn);for(Tt=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(qo(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(dn),d.precision=s;;){if(i=ut(i.times(t),s),r=r.times(++l),o=a.plus(Zi(i,r,s)),hi(o.d).slice(0,s)===hi(a.d).slice(0,s)){for(;u--;)a=ut(a.times(a),s);return d.precision=f,e==null?(Tt=!0,ut(a,f)):a}a=o}}function qt(t){for(var e=t.e*yt,r=t.d[0];r>=10;r/=10)e++;return e}function qx(t,e,r){if(e>t.LN10.sd())throw Tt=!0,r&&(t.precision=r),Error(Fn+"LN10 precision limit exceeded");return ut(new t(t.LN10),e)}function Ra(t){for(var e="";t--;)e+="0";return e}function ff(t,e){var r,n,i,a,o,s,l,u,d,f=1,h=10,m=t,g=m.d,v=m.constructor,w=v.precision;if(m.s<1)throw Error(Fn+(m.s?"NaN":"-Infinity"));if(m.eq(dn))return new v(0);if(e==null?(Tt=!1,u=w):u=e,m.eq(10))return e==null&&(Tt=!0),qx(v,u);if(u+=h,v.precision=u,r=hi(g),n=r.charAt(0),a=qt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=hi(m.d),n=r.charAt(0),f++;a=qt(m),n>1?(m=new v("0."+r),a++):m=new v(n+"."+r.slice(1))}else return l=qx(v,u+2,w).times(a+""),m=ff(new v(n+"."+r.slice(1)),u-h).plus(l),v.precision=w,e==null?(Tt=!0,ut(m,w)):m;for(s=o=m=Zi(m.minus(dn),m.plus(dn),u),d=ut(m.times(m),u),i=3;;){if(o=ut(o.times(d),u),l=s.plus(Zi(o,new v(i),u)),hi(l.d).slice(0,u)===hi(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(qx(v,u+2,w).times(a+""))),s=Zi(s,new v(f),u),v.precision=w,e==null?(Tt=!0,ut(s,w)):s;s=l,i+=2}}function MN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Zc(r/yt),t.d=[],n=(r+1)%yt,r<0&&(n+=yt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=yt;n<i;)t.d.push(+e.slice(n,n+=yt));e=e.slice(n),n=yt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Tt&&(t.e>pg||t.e<-pg))throw Error(mT+r)}else t.s=0,t.e=0,t.d=[0];return t}function ut(t,e,r){var n,i,a,o,s,l,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=yt,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/yt),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=yt,i=n-yt+o}if(r!==void 0&&(a=qo(10,o-i-1),s=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/qo(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=qt(t),f.length=1,e=e-a-1,f[0]=qo(10,(yt-e%yt)%yt),t.e=Zc(-e/yt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=qo(10,yt-n),f[d]=i>0?(u/qo(10,o-i)%qo(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==rr&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=rr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(t.e>pg||t.e<-pg))throw Error(mT+qt(t));return t}function j4(t,e){var r,n,i,a,o,s,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tt?ut(e,m):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(m/yt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=rr-1;--l[a],l[i]+=rr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Tt?ut(e,m):e):new h(0)}function Ps(t,e,r){var n,i=qt(t),a=hi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ra(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ra(-i-1)+a,r&&(n=r-o)>0&&(a+=Ra(n))):i>=o?(a+=Ra(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ra(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ra(n))),t.s<0?"-"+a:a}function $N(t,e){if(t.length>e)return t.length=e,!0}function P4(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MN(o,a.toString())}else if(typeof a!="string")throw Error(fs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wue.test(a))MN(o,a);else throw Error(fs+a)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=P4,i.config=i.set=_ue,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function _ue(t){if(!t||typeof t!="object")throw Error(Fn+"Object expected");var e,r,n,i=["precision",1,Jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Zc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(fs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fs+r+": "+n);return this}var gT=P4(bue);dn=new gT(1);const st=gT;function Sue(t){return Eue(t)||Aue(t)||kue(t)||Tue()}function Tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t,e){if(t){if(typeof t=="string")return gw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(t,e)}}function Aue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Eue(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jue=function(e){return e},N4={},C4=function(e){return e===N4},LN=function(e){return function r(){return arguments.length===0||arguments.length===1&&C4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Pue=function t(e,r){return e===1?r:LN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==N4}).length;return o>=e?r.apply(void 0,i):t(e-o,LN(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return C4(f)?l.shift():f});return r.apply(void 0,Sue(d).concat(l))}))})},sy=function(e){return Pue(e.length,e)},vw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Nue=sy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Cue=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return jue;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},yw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},I4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Iue(t){var e;return t===0?e=1:e=Math.floor(new st(t).abs().log(10).toNumber())+1,e}function Oue(t,e,r){for(var n=new st(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Rue=sy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Due=sy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Mue=sy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ly={rangeStep:Oue,getDigitCount:Iue,interpolateNumber:Rue,uninterpolateNumber:Due,uninterpolateTruncation:Mue};function xw(t){return Vue(t)||Lue(t)||O4(t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vue(t){if(Array.isArray(t))return bw(t)}function hf(t,e){return zue(t)||Bue(t,e)||O4(t,e)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O4(t,e){if(t){if(typeof t=="string")return bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(t,e)}}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function zue(t){if(Array.isArray(t))return t}function R4(t){var e=hf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function D4(t,e,r){if(t.lte(0))return new st(0);var n=ly.getDigitCount(t.toNumber()),i=new st(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new st(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new st(Math.ceil(l))}function Uue(t,e,r){var n=1,i=new st(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new st(10).pow(ly.getDigitCount(t)-1),i=new st(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new st(Math.floor(t)))}else t===0?i=new st(Math.floor((e-1)/2)):r||(i=new st(Math.floor(t)));var o=Math.floor((e-1)/2),s=Cue(Nue(function(l){return i.add(new st(l-o).mul(n)).toNumber()}),vw);return s(0,e)}function M4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var a=D4(new st(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new st(0):(o=new st(t).add(e).div(2),o=o.sub(new st(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new st(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?M4(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new st(s).mul(a)),tickMax:o.add(new st(l).mul(a))})}function Kue(t){var e=hf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=R4([r,n]),l=hf(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xw(vw(0,i-1).map(function(){return 1/0}))):[].concat(xw(vw(0,i-1).map(function(){return-1/0})),[d]);return r>n?yw(f):f}if(u===d)return Uue(u,i,a);var h=M4(u,d,o,a),m=h.step,g=h.tickMin,v=h.tickMax,w=ly.rangeStep(g,v.add(new st(.1).mul(m)),m);return r>n?yw(w):w}function que(t,e){var r=hf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=R4([n,i]),s=hf(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=D4(new st(u).sub(l).div(d-1),a,0),h=[].concat(xw(ly.rangeStep(new st(l),new st(u).sub(new st(.99).mul(f)),f)),[u]);return n>i?yw(h):h}var Wue=I4(Kue),Hue=I4(que),Gue="Invariant failed";function Ns(t,e){throw new Error(Gue)}var Yue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mg.apply(this,arguments)}function Xue(t,e){return ede(t)||Zue(t,e)||Jue(t,e)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(t,e){if(t){if(typeof t=="string")return VN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VN(t,e)}}function VN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ede(t){if(Array.isArray(t))return t}function tde(t,e){if(t==null)return{};var r=rde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ide(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function ade(t,e,r){return e&&ide(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ode(t,e,r){return e=gg(e),sde(t,$4()?Reflect.construct(e,r||[],gg(t).constructor):e.apply(t,r))}function sde(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lde(t)}function lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ww(t,e)}function L4(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=ude(t,"string");return dc(e)=="symbol"?e:e+""}function ude(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cy=function(t){function e(){return nde(this,e),ode(this,e,arguments)}return cde(e,t),ade(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tde(n,Yue),m=Te(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ns();var g=l.map(function(v){var w=u(v,s),y=w.x,_=w.y,b=w.value,j=w.errorVal;if(!j)return null;var x=[],S,T;if(Array.isArray(j)){var k=Xue(j,2);S=k[0],T=k[1]}else S=T=j;if(a==="vertical"){var E=d.scale,I=_+i,O=I+o,P=I-o,C=E(b-S),L=E(b+T);x.push({x1:L,y1:O,x2:L,y2:P}),x.push({x1:C,y1:I,x2:L,y2:I}),x.push({x1:C,y1:O,x2:C,y2:P})}else if(a==="horizontal"){var $=f.scale,q=y+i,U=q-o,F=q+o,z=$(b-S),X=$(b+T);x.push({x1:U,y1:X,x2:F,y2:X}),x.push({x1:q,y1:z,x2:q,y2:X}),x.push({x1:U,y1:z,x2:F,y2:z})}return M.createElement(Ge,mg({className:"recharts-errorBar",key:"bar-".concat(x.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),x.map(function(re){return M.createElement("line",mg({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return M.createElement(Ge,{className:"recharts-errorBars"},g)}}])}(M.Component);L4(cy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});L4(cy,"displayName","ErrorBar");function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dde(t,e,r){return e=fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fde(t){var e=hde(t,"string");return pf(e)=="symbol"?e:e+""}function hde(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=un(r,us);if(!o)return null;var s=us.defaultProps,l=s!==void 0?Mo(Mo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Mo(Mo({},h),f.props):{},g=m.dataKey,v=m.name,w=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:l.iconType||w||"square",color:vT(f),value:v||g,payload:m}}),Mo(Mo(Mo({},l),us.getWithHeight(o,i)),{},{payload:u,item:o})};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function BN(t){return vde(t)||gde(t)||mde(t)||pde()}function pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(t,e){if(t){if(typeof t=="string")return _w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(t,e)}}function gde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vde(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vl(t,e,r){return e=yde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yde(t){var e=xde(t,"string");return mf(e)=="symbol"?e:e+""}function xde(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xt(t,e,r){return Me(t)||Me(e)?r:Jt(e)?gn(t,e,r):je(e)?e(t):r}function fd(t,e,r,n){var i=gue(t,function(s){return Xt(s,e)});if(r==="number"){var a=i.filter(function(s){return le(s)||parseFloat(s)});return a.length?[oy(a),qa(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Me(s)}):i;return o.map(function(s){return Jt(s)||s instanceof Date?s:""})}var bde=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Vr(f-d)!==Vr(h-f)){var g=[];if(Vr(h-f)===Vr(l[1]-l[0])){m=h;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+d)/2),g[1]=Math.max(v,(v+d)/2)}else{m=d;var w=h+l[1]-l[0];g[0]=Math.min(f,(w+f)/2),g[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var _=Math.min(d,h),b=Math.max(d,h);if(e>(_+f)/2&&e<=(b+f)/2){o=i[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},vT=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},wde=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],v=g.items,w=g.cateAxisId,y=v.filter(function(T){return Ji(T.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,b=_!==void 0?Dt(Dt({},_),y[0].props):y[0].props,j=b.barSize,x=b[w];o[x]||(o[x]=[]);var S=Me(j)?r:j;o[x].push({item:y[0],stackList:y.slice(1),barSize:Me(S)?void 0:Fr(S,n,0)})}}return o},_de=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Fr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,g=o.reduce(function(j,x){return j+x.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var v=(i-g)/2>>0,w={offset:v-u,size:0};d=o.reduce(function(j,x){var S={item:x.item,position:{offset:w.offset+w.size+u,size:h?m:x.barSize}},T=[].concat(BN(j),[S]);return w=T[T.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(k){T.push({item:k,position:w})}),T},f)}else{var y=Fr(n,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var b=s===+s?Math.min(_,s):_;d=o.reduce(function(j,x,S){var T=[].concat(BN(j),[{item:x.item,position:{offset:y+(_+u)*S+(_-b)/2,size:b}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(k){T.push({item:k,position:T[T.length-1].position})}),T},f)}return d},Sde=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=F4({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&m!=="center"&&le(e[m]))return Dt(Dt({},e),{},Vl({},m,e[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&g!=="middle"&&le(e[g]))return Dt(Dt({},e),{},Vl({},g,e[g]+(h||0)))}return e},Tde=function(e,r,n){return Me(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},B4=function(e,r,n,i,a){var o=r.props.children,s=Mn(o,cy).filter(function(u){return Tde(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Xt(d,n);if(Me(f))return u;var h=Array.isArray(f)?[oy(f),qa(f)]:[f,f],m=l.reduce(function(g,v){var w=Xt(d,v,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),_=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},kde=function(e,r,n,i,a){var o=r.map(function(s){return B4(e,s,n,a,i)}).filter(function(s){return!Me(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},z4=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&B4(e,l,u,i)||fd(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},U4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},K4=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Gi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vr(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Wc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Wx=new WeakMap,xp=function(e,r){if(typeof r!="function")return e;Wx.has(e)||Wx.set(e,new WeakMap);var n=Wx.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},q4=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:sf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:ug(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:dd(),realScaleType:"point"}:a==="category"?{scale:sf(),realScaleType:"band"}:{scale:ug(),realScaleType:"linear"};if(As(i)){var l="scale".concat(Wv(i));return{scale:(DN[l]||dd)(),realScaleType:DN[l]?l:"point"}}return je(i)?{scale:i}:{scale:dd(),realScaleType:"point"}},UN=1e-4,W4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-UN,o=Math.max(i[0],i[1])+UN,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Ade=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Ede=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(a[0]=n),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},jde=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Wc(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Pde=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Wc(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Nde={sign:jde,expand:YQ,none:rc,silhouette:XQ,wiggle:QQ,positive:Pde},Cde=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Nde[n],o=GQ().keys(i).value(function(s,l){return+Xt(s,l,0)}).order(Hb).offset(a);return o(e)},Ide=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Dt(Dt({},h.type.defaultProps),h.props):h.props,v=g.stackId,w=g.hide;if(w)return f;var y=g[n],_=f[y]||{hasStack:!1,stackGroups:{}};if(Jt(v)){var b=_.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),_.hasStack=!0,_.stackGroups[v]=b}else _.stackGroups[Hc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Dt(Dt({},f),{},Vl({},y,_))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,w){var y=m.stackGroups[w];return Dt(Dt({},v),{},Vl({},w,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:Cde(e,y.items,a)}))},g)}return Dt(Dt({},f),{},Vl({},h,m))},d)},H4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Wue(u,a,s);return e.domain([oy(d),qa(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=Hue(f,a,s);return{niceTicks:h}}return null};function KN(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Me(i[e.dataKey])){var s=Um(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Xt(i,Me(o)?e.dataKey:o);return Me(l)?null:e.scale(l)}var qN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Xt(o,r.dataKey,r.domain[s]);return Me(l)?null:r.scale(l)-a/2+i},Ode=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Rde=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Jt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Dde=function(e){return e.reduce(function(r,n){return[oy(n.concat([r[0]]).filter(le)),qa(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},G4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,d){var f=Dde(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sw=function(e,r,n){if(je(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(WN.test(e[0])){var a=+WN.exec(e[0])[1];i[0]=r[0]-a}else je(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(HN.test(e[1])){var o=+HN.exec(e[1])[1];i[1]=r[1]+o}else je(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},vg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=qS(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},GN=function(e,r,n){return!e||!e.length||uc(e,gn(n,"type.defaultProps.domain"))?r:e},Y4=function(e,r){var n=e.type.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Dt(Dt({},Te(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:vT(e),value:Xt(r,i),type:l,payload:r,chartType:u,hide:d})};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function YN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(r),!0).forEach(function(n){X4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X4(t,e,r){return e=Mde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mde(t){var e=$de(t,"string");return gf(e)=="symbol"?e:e+""}function $de(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lde(t,e){return zde(t)||Bde(t,e)||Fde(t,e)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fde(t,e){if(t){if(typeof t=="string")return XN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(t,e)}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zde(t){if(Array.isArray(t))return t}var yg=Math.PI/180,Ude=function(e){return e*180/Math.PI},pt=function(e,r,n,i){return{x:e+Math.cos(-yg*i)*n,y:r+Math.sin(-yg*i)*n}},Q4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Kde=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=Fr(e.cx,o,o/2),f=Fr(e.cy,s,s/2),h=Q4(o,s,n),m=Fr(e.innerRadius,h,0),g=Fr(e.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(w,y){var _=r[y],b=_.domain,j=_.reversed,x;if(Me(_.range))i==="angleAxis"?x=[l,u]:i==="radiusAxis"&&(x=[m,g]),j&&(x=[x[1],x[0]]);else{x=_.range;var S=x,T=Lde(S,2);l=T[0],u=T[1]}var k=q4(_,a),E=k.realScaleType,I=k.scale;I.domain(b).range(x),W4(I);var O=H4(I,Vi(Vi({},_),{},{realScaleType:E})),P=Vi(Vi(Vi({},_),O),{},{range:x,radius:g,realScaleType:E,scale:I,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:l,endAngle:u});return Vi(Vi({},w),{},X4({},y,P))},{})},qde=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Wde=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=qde({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Ude(u),angleInRadian:u}},Hde=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Gde=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},QN=function(e,r){var n=e.x,i=e.y,a=Wde({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Hde(r),f=d.startAngle,h=d.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Vi(Vi({},r),{},{radius:o,angle:Gde(m,r)}):null},J4=function(e){return!R.isValidElement(e)&&!je(e)&&typeof e!="boolean"?e.className:""};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var Yde=["offset"];function Xde(t){return efe(t)||Zde(t)||Jde(t)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(t,e){if(t){if(typeof t=="string")return Tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(t,e)}}function Zde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function efe(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tfe(t,e){if(t==null)return{};var r=rfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(r),!0).forEach(function(n){nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nfe(t,e,r){return e=ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ife(t){var e=afe(t,"string");return vf(e)=="symbol"?e:e+""}function afe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}var ofe=function(e){var r=e.value,n=e.formatter,i=Me(e.children)?r:e.children;return je(n)?n(i):i},sfe=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},lfe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,v=l.clockWise,w=(f+h)/2,y=sfe(m,g),_=y>=0?1:-1,b,j;i==="insideStart"?(b=m+_*o,j=v):i==="insideEnd"?(b=g-_*o,j=!v):i==="end"&&(b=g+_*o,j=v),j=y<=0?j:!j;var x=pt(u,d,w,b),S=pt(u,d,w,b+(j?1:-1)*359),T="M".concat(x.x,",").concat(x.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Me(e.id)?Hc("recharts-radial-line-"):e.id;return M.createElement("text",yf({},n,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:k,d:T})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},cfe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=pt(o,s,u+n,h),g=m.x,v=m.y;return{x:g,y:v,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=pt(o,s,w,h),_=y.x,b=y.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},ufe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",v=u>=0?1:-1,w=v*i,y=v>0?"end":"start",_=v>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Ht(Ht({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var j={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return Ht(Ht({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var x={x:s-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Ht(Ht({},x),n?{width:Math.max(x.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:s+u+w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Ht(Ht({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return a==="insideLeft"?Ht({x:s+w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},T):a==="insideRight"?Ht({x:s+u-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},T):a==="insideTop"?Ht({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):a==="insideBottom"?Ht({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?Ht({x:s+w,y:l+h,textAnchor:_,verticalAnchor:g},T):a==="insideTopRight"?Ht({x:s+u-w,y:l+h,textAnchor:y,verticalAnchor:g},T):a==="insideBottomLeft"?Ht({x:s+w,y:l+d-h,textAnchor:_,verticalAnchor:m},T):a==="insideBottomRight"?Ht({x:s+u-w,y:l+d-h,textAnchor:y,verticalAnchor:m},T):zc(a)&&(le(a.x)||Jo(a.x))&&(le(a.y)||Jo(a.y))?Ht({x:s+Fr(a.x,u),y:l+Fr(a.y,d),textAnchor:"end",verticalAnchor:"end"},T):Ht({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},dfe=function(e){return"cx"in e&&le(e.cx)};function ir(t){var e=t.offset,r=e===void 0?5:e,n=tfe(t,Yde),i=Ht({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Me(s)&&Me(l)&&!R.isValidElement(u)&&!je(u))return null;if(R.isValidElement(u))return R.cloneElement(u,i);var m;if(je(u)){if(m=R.createElement(u,i),R.isValidElement(m))return m}else m=ofe(i);var g=dfe(a),v=Te(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lfe(i,m,v);var w=g?cfe(i):ufe(i);return M.createElement(js,yf({className:Fe("recharts-label",f)},v,w,{breakAll:h}),m)}ir.displayName="Label";var Z4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,g=e.left,v=e.width,w=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(le(v)&&le(w)){if(le(f)&&le(h))return{x:f,y:h,width:v,height:w};if(le(m)&&le(g))return{x:m,y:g,width:v,height:w}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},ffe=function(e,r){return e?e===!0?M.createElement(ir,{key:"label-implicit",viewBox:r}):Jt(e)?M.createElement(ir,{key:"label-implicit",viewBox:r,value:e}):R.isValidElement(e)?e.type===ir?R.cloneElement(e,{key:"label-implicit",viewBox:r}):M.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):je(e)?M.createElement(ir,{key:"label-implicit",content:e,viewBox:r}):zc(e)?M.createElement(ir,yf({viewBox:r},e,{key:"label-implicit"})):null:null},hfe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Z4(e),o=Mn(i,ir).map(function(l,u){return R.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=ffe(e.label,r||a);return[s].concat(Xde(o))};ir.parseViewBox=Z4;ir.renderCallByParent=hfe;function pfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var mfe=pfe;const gfe=nt(mfe);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var vfe=["valueAccessor"],yfe=["data","dataKey","clockWise","id","textBreakAll"];function xfe(t){return Sfe(t)||_fe(t)||wfe(t)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(t,e){if(t){if(typeof t=="string")return kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(t,e)}}function _fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function ZN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(r),!0).forEach(function(n){Tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tfe(t,e,r){return e=kfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kfe(t){var e=Afe(t,"string");return xf(e)=="symbol"?e:e+""}function Afe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t2(t,e){if(t==null)return{};var r=Efe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Efe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jfe=function(e){return Array.isArray(e.value)?gfe(e.value):e.value};function ea(t){var e=t.valueAccessor,r=e===void 0?jfe:e,n=t2(t,vfe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=t2(n,yfe);return!i||!i.length?null:M.createElement(Ge,{className:"recharts-label-list"},i.map(function(d,f){var h=Me(a)?r(d,f):Xt(d&&d.payload,a),m=Me(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(ir,xg({},Te(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:ir.parseViewBox(Me(o)?d:e2(e2({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ea.displayName="LabelList";function Pfe(t,e){return t?t===!0?M.createElement(ea,{key:"labelList-implicit",data:e}):M.isValidElement(t)||je(t)?M.createElement(ea,{key:"labelList-implicit",data:e,content:t}):zc(t)?M.createElement(ea,xg({data:e},t,{key:"labelList-implicit"})):null:null}function Nfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Mn(n,ea).map(function(o,s){return R.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Pfe(t.label,e);return[a].concat(xfe(i))}ea.renderCallByParent=Nfe;function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){Cfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cfe(t,e,r){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ife(t){var e=Ofe(t,"string");return bf(e)=="symbol"?e:e+""}function Ofe(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},bp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/yg,h=u?a:a+o*f,m=pt(r,n,d,h),g=pt(r,n,i,h),v=u?a-o*f:a,w=pt(r,n,d*Math.cos(f*yg),v);return{center:m,circleTangency:g,lineTangency:w,theta:f}},eV=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Rfe(o,s),u=o+l,d=pt(r,n,a,o),f=pt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=pt(r,n,i,o),g=pt(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Dfe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Vr(d-u),h=bp({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,v=h.theta,w=bp({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,_=w.lineTangency,b=w.theta,j=l?Math.abs(u-d):Math.abs(u-d)-v-b;if(j<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):eV({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var S=bp({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=S.circleTangency,k=S.lineTangency,E=S.theta,I=bp({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=I.circleTangency,P=I.lineTangency,C=I.theta,L=l?Math.abs(u-d):Math.abs(u-d)-E-C;if(L<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},Mfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tV=function(e){var r=n2(n2({},Mfe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var m=Fe("recharts-sector",h),g=o-a,v=Fr(s,g,0,!0),w;return v>0&&Math.abs(d-f)<360?w=Dfe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=eV({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",Aw({},Te(r,!0),{className:m,d:w,role:"img"}))};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){$fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $fe(t,e,r){return e=Lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lfe(t){var e=Vfe(t,"string");return wf(e)=="symbol"?e:e+""}function Vfe(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2={curveBasisClosed:$Q,curveBasisOpen:LQ,curveBasis:MQ,curveBumpX:_Q,curveBumpY:SQ,curveLinearClosed:VQ,curveLinear:Gv,curveMonotoneX:FQ,curveMonotoneY:BQ,curveNatural:zQ,curveStep:UQ,curveStepAfter:qQ,curveStepBefore:KQ},wp=function(e){return e.x===+e.x&&e.y===+e.y},Iu=function(e){return e.x},Ou=function(e){return e.y},Ffe=function(e,r){if(je(e))return e;var n="curve".concat(Wv(e));return(n==="curveMonotone"||n==="curveBump")&&r?o2["".concat(n).concat(r==="vertical"?"Y":"X")]:o2[n]||Gv},Bfe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=Ffe(n,s),f=u?a.filter(function(v){return wp(v)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(v){return wp(v)}):o,g=f.map(function(v,w){return a2(a2({},v),{},{base:m[w]})});return s==="vertical"?h=dp().y(Ou).x1(Iu).x0(function(v){return v.base.x}):h=dp().x(Iu).y1(Ou).y0(function(v){return v.base.y}),h.defined(wp).curve(d),h(g)}return s==="vertical"&&le(o)?h=dp().y(Ou).x1(Iu).x0(o):le(o)?h=dp().x(Iu).y1(Ou).y0(o):h=Y$().x(Iu).y(Ou),h.defined(wp).curve(d),h(f)},Fl=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Bfe(e):i;return R.createElement("path",Ew({},Te(e,!1),Km(e),{className:Fe("recharts-curve",r),d:o,ref:a}))},rV={exports:{}},zfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ufe=zfe,Kfe=Ufe;function nV(){}function iV(){}iV.resetWarningCache=nV;var qfe=function(){function t(n,i,a,o,s,l){if(l!==Kfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iV,resetWarningCache:nV};return r.PropTypes=r,r};rV.exports=qfe();var Wfe=rV.exports;const rt=nt(Wfe);var Hfe=Object.getOwnPropertyNames,Gfe=Object.getOwnPropertySymbols,Yfe=Object.prototype.hasOwnProperty;function s2(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function _p(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function l2(t){return Hfe(t).concat(Gfe(t))}var Xfe=Object.hasOwn||function(t,e){return Yfe.call(t,e)};function zs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Qfe="__v",Jfe="__o",Zfe="_owner",c2=Object.getOwnPropertyDescriptor,u2=Object.keys;function ehe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function the(t,e){return zs(t.getTime(),e.getTime())}function rhe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nhe(t,e){return t===e}function d2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],l,f,t,e,r)&&r.equals(h[1],m[1],h[0],m[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var ihe=zs;function ahe(t,e,r){var n=u2(t),i=n.length;if(u2(e).length!==i)return!1;for(;i-- >0;)if(!aV(t,e,r,n[i]))return!1;return!0}function Ru(t,e,r){var n=l2(t),i=n.length;if(l2(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!aV(t,e,r,a)||(o=c2(t,a),s=c2(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ohe(t,e){return zs(t.valueOf(),e.valueOf())}function she(t,e){return t.source===e.source&&t.flags===e.flags}function f2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function lhe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function che(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aV(t,e,r,n){return(n===Zfe||n===Jfe||n===Qfe)&&(t.$$typeof||e.$$typeof)?!0:Xfe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var uhe="[object Arguments]",dhe="[object Boolean]",fhe="[object Date]",hhe="[object Error]",phe="[object Map]",mhe="[object Number]",ghe="[object Object]",vhe="[object RegExp]",yhe="[object Set]",xhe="[object String]",bhe="[object URL]",whe=Array.isArray,h2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,p2=Object.assign,_he=Object.prototype.toString.call.bind(Object.prototype.toString);function She(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,v,w){if(g===v)return!0;if(g==null||v==null)return!1;var y=typeof g;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?o(g,v,w):y==="function"?i(g,v,w):!1;var _=g.constructor;if(_!==v.constructor)return!1;if(_===Object)return s(g,v,w);if(whe(g))return e(g,v,w);if(h2!=null&&h2(g))return f(g,v,w);if(_===Date)return r(g,v,w);if(_===RegExp)return u(g,v,w);if(_===Map)return a(g,v,w);if(_===Set)return d(g,v,w);var b=_he(g);return b===fhe?r(g,v,w):b===vhe?u(g,v,w):b===phe?a(g,v,w):b===yhe?d(g,v,w):b===ghe?typeof g.then!="function"&&typeof v.then!="function"&&s(g,v,w):b===bhe?h(g,v,w):b===hhe?n(g,v,w):b===uhe?s(g,v,w):b===dhe||b===mhe||b===xhe?l(g,v,w):!1}}function The(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ru:ehe,areDatesEqual:the,areErrorsEqual:rhe,areFunctionsEqual:nhe,areMapsEqual:n?s2(d2,Ru):d2,areNumbersEqual:ihe,areObjectsEqual:n?Ru:ahe,arePrimitiveWrappersEqual:ohe,areRegExpsEqual:she,areSetsEqual:n?s2(f2,Ru):f2,areTypedArraysEqual:n?Ru:lhe,areUrlsEqual:che};if(r&&(i=p2({},i,r(i))),e){var a=_p(i.areArraysEqual),o=_p(i.areMapsEqual),s=_p(i.areObjectsEqual),l=_p(i.areSetsEqual);i=p2({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function khe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Ahe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var Ehe=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:function(){return zs}});jo({strict:!0,createInternalComparator:function(){return zs}});jo({circular:!0,createInternalComparator:function(){return zs}});jo({circular:!0,createInternalComparator:function(){return zs},strict:!0});function jo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=The(t),l=She(s),u=n?n(l):khe(l);return Ahe({circular:r,comparator:l,createState:i,equals:u,strict:o})}function jhe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function m2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):jhe(i)};requestAnimationFrame(n)}function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function Phe(t){return Ohe(t)||Ihe(t)||Che(t)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Che(t,e){if(t){if(typeof t=="string")return g2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(t,e)}}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ihe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ohe(t){if(Array.isArray(t))return t}function Rhe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Phe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){m2(i.bind(null,u),l);return}i(l),m2(i.bind(null,u));return}jw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){oV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oV(t,e,r){return e=Dhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dhe(t){var e=Mhe(t,"string");return _f(e)==="symbol"?e:String(e)}function Mhe(t,e){if(_f(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $he=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Lhe=function(e){return e},Vhe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hd=function(e,r){return Object.keys(r).reduce(function(n,i){return y2(y2({},n),{},oV({},i,e(i,r[i])))},{})},x2=function(e,r,n){return e.map(function(i){return"".concat(Vhe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Fhe(t,e){return Uhe(t)||zhe(t,e)||sV(t,e)||Bhe()}function Bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uhe(t){if(Array.isArray(t))return t}function Khe(t){return Hhe(t)||Whe(t)||sV(t)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(t,e){if(t){if(typeof t=="string")return Pw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(t,e)}}function Whe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hhe(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bg=1e-4,lV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cV=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},b2=function(e,r){return function(n){var i=lV(e,r);return cV(i,n)}},Ghe=function(e,r){return function(n){var i=lV(e,r),a=[].concat(Khe(i.map(function(o,s){return o*s}).slice(1)),[0]);return cV(a,n)}},w2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=Fhe(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=b2(i,o),h=b2(a,s),m=Ghe(i,o),g=function(y){return y>1?1:y<0?0:y},v=function(y){for(var _=y>1?1:y,b=_,j=0;j<8;++j){var x=f(b)-_,S=m(b);if(Math.abs(x-_)<bg||S<bg)return h(b);b=g(b-x/S)}return h(b)};return v.isStepper=!1,v},Yhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var m=-(d-f)*n,g=h*a,v=h+(m-g)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<bg&&Math.abs(v)<bg?[f,0]:[w,v]};return l.isStepper=!0,l.dt=s,l},Xhe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w2(i);case"spring":return Yhe();default:if(i.split("(")[0]==="cubic-bezier")return w2(i)}return typeof i=="function"?i:null};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function _2(t){return Zhe(t)||Jhe(t)||uV(t)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zhe(t){if(Array.isArray(t))return Cw(t)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){Nw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nw(t,e,r){return e=epe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function epe(t){var e=tpe(t,"string");return Sf(e)==="symbol"?e:String(e)}function tpe(t,e){if(Sf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rpe(t,e){return ape(t)||ipe(t,e)||uV(t,e)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uV(t,e){if(t){if(typeof t=="string")return Cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ipe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ape(t){if(Array.isArray(t))return t}var wg=function(e,r,n){return e+(r-e)*n},Iw=function(e){var r=e.from,n=e.to;return r!==n},ope=function t(e,r,n){var i=hd(function(a,o){if(Iw(o)){var s=e(o.from,o.to,o.velocity),l=rpe(s,2),u=l[0],d=l[1];return dr(dr({},o),{},{from:u,velocity:d})}return o},r);return n<1?hd(function(a,o){return Iw(o)?dr(dr({},o),{},{velocity:wg(o.velocity,i[a].velocity,n),from:wg(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const spe=function(t,e,r,n,i){var a=$he(t,e),o=a.reduce(function(w,y){return dr(dr({},w),{},Nw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return dr(dr({},w),{},Nw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return hd(function(y,_){return _.from},s)},m=function(){return!Object.values(s).filter(Iw).length},g=function(y){u||(u=y);var _=y-u,b=_/r.dt;s=ope(r,s,b),i(dr(dr(dr({},t),e),h())),u=y,m()||(l=requestAnimationFrame(f))},v=function(y){d||(d=y);var _=(y-d)/n,b=hd(function(x,S){return wg.apply(void 0,_2(S).concat([r(_)]))},o);if(i(dr(dr(dr({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var j=hd(function(x,S){return wg.apply(void 0,_2(S).concat([r(1)]))},o);i(dr(dr(dr({},t),e),j))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}var lpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cpe(t,e){if(t==null)return{};var r=upe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function upe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hx(t){return ppe(t)||hpe(t)||fpe(t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t,e){if(t){if(typeof t=="string")return Ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(t,e)}}function hpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){Hu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hu(t,e,r){return e=dV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function vpe(t,e,r){return e&&gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dV(t){var e=ype(t,"string");return fc(e)==="symbol"?e:String(e)}function ype(t,e){if(fc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(t,e)}function bpe(t){var e=wpe();return function(){var n=_g(t),i;if(e){var a=_g(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Dw(this,i)}}function Dw(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mw(t)}function Mw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}var Pi=function(t){xpe(r,t);var e=bpe(r);function r(n,i){var a;mpe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Mw(a)),a.changeStyle=a.changeStyle.bind(Mw(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Dw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Dw(a);a.state={style:l?Hu({},l,u):u}}else a.state={style:{}};return a}return vpe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:l?Hu({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(Ehe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?f:i.to;if(this.state&&h){var w={style:l?Hu({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(w)}this.runAnimation(Hn(Hn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=spe(o,s,Xhe(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(v,w,y){if(y===0)return v;var _=w.duration,b=w.easing,j=b===void 0?"ease":b,x=w.style,S=w.properties,T=w.onAnimationEnd,k=y>0?o[y-1]:w,E=S||Object.keys(x);if(typeof j=="function"||j==="spring")return[].concat(Hx(v),[a.runJSAnimation.bind(a,{from:k.style,to:x,duration:_,easing:j}),_]);var I=x2(E,_,j),O=Hn(Hn(Hn({},k.style),x),{},{transition:I});return[].concat(Hx(v),[O,_,T]).filter(Lhe)};return this.manager.start([l].concat(Hx(o.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Rhe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?Hu({},s,l):l,w=x2(Object.keys(v),o,u);g.start([d,a,Hn(Hn({},v),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=cpe(i,lpe),u=R.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,v=g.style,w=v===void 0?{}:v,y=g.className,_=R.cloneElement(m,Hn(Hn({},l),{},{style:Hn(Hn({},w),d),className:y}));return _};return u===1?f(R.Children.only(a)):M.createElement("div",null,R.Children.map(a,function(h){return f(h)}))}}]),r}(R.PureComponent);Pi.displayName="Animate";Pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pi.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sg.apply(this,arguments)}function _pe(t,e){return Ape(t)||kpe(t,e)||Tpe(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return k2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ape(t){if(Array.isArray(t))return t}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){Epe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Epe(t,e,r){return e=jpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jpe(t){var e=Ppe(t,"string");return Tf(e)=="symbol"?e:e+""}function Ppe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j2=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Npe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Cpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yT=function(e){var r=E2(E2({},Cpe),e),n=R.useRef(),i=R.useState(-1),a=_pe(i,2),o=a[0],s=a[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Fe("recharts-rectangle",m);return _?M.createElement(Pi,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:v,animationEasing:g,isActive:_},function(j){var x=j.width,S=j.height,T=j.x,k=j.y;return M.createElement(Pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:y,easing:g},M.createElement("path",Sg({},Te(r,!0),{className:b,d:j2(T,k,x,S,h),ref:n})))}):M.createElement("path",Sg({},Te(r,!0),{className:b,d:j2(l,u,d,f,h)}))},Ipe=["points","className","baseLinePoints","connectNulls"];function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}function Ope(t,e){if(t==null)return{};var r=Rpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P2(t){return Lpe(t)||$pe(t)||Mpe(t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(t,e){if(t){if(typeof t=="string")return $w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(t,e)}}function $pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lpe(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N2=function(e){return e&&e.x===+e.x&&e.y===+e.y},Vpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){N2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),N2(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},pd=function(e,r){var n=Vpe(e);r&&(n=[n.reduce(function(a,o){return[].concat(P2(a),P2(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Fpe=function(e,r,n){var i=pd(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pd(r.reverse(),n).slice(1))},Bpe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Ope(e,Ipe);if(!r||!r.length)return null;var s=Fe("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Fpe(r,i,a);return M.createElement("g",{className:s},M.createElement("path",gl({},Te(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?M.createElement("path",gl({},Te(o,!0),{fill:"none",d:pd(r,a)})):null,l?M.createElement("path",gl({},Te(o,!0),{fill:"none",d:pd(i,a)})):null)}var d=pd(r,a);return M.createElement("path",gl({},Te(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lw.apply(this,arguments)}var uy=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Fe("recharts-dot",a);return r===+r&&n===+n&&i===+i?R.createElement("circle",Lw({},Te(e,!1),Km(e),{className:o,cx:r,cy:n,r:i})):null};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var zpe=["x","y","top","left","width","height","className"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vw.apply(this,arguments)}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Upe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){Kpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kpe(t,e,r){return e=qpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qpe(t){var e=Wpe(t,"string");return kf(e)=="symbol"?e:e+""}function Wpe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hpe(t,e){if(t==null)return{};var r=Gpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ype=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Xpe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,g=e.className,v=Hpe(e,zpe),w=Upe({x:n,y:a,top:s,left:u,width:f,height:m},v);return!le(n)||!le(a)||!le(f)||!le(m)||!le(s)||!le(u)?null:M.createElement("path",Vw({},Te(w,!0),{className:Fe("recharts-cross",g),d:Ype(n,a,f,m,s,u)}))},Qpe=ay,Jpe=S4,Zpe=Ci;function eme(t,e){return t&&t.length?Qpe(t,Zpe(e),Jpe):void 0}var tme=eme;const rme=nt(tme);var nme=ay,ime=Ci,ame=T4;function ome(t,e){return t&&t.length?nme(t,ime(e),ame):void 0}var sme=ome;const lme=nt(sme);var cme=["cx","cy","angle","ticks","axisLine"],ume=["ticks","tick","angle","tickFormatter","stroke"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},md.apply(this,arguments)}function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2(t,e){if(t==null)return{};var r=dme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hV(n.key),n)}}function hme(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pme(t,e,r){return e=Tg(e),mme(t,fV()?Reflect.construct(e,r||[],Tg(t).constructor):e.apply(t,r))}function mme(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(t)}function gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(t)}function vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(t,e)}function dy(t,e,r){return e=hV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hV(t){var e=yme(t,"string");return hc(e)=="symbol"?e:e+""}function yme(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fy=function(t){function e(){return fme(this,e),pme(this,e,arguments)}return vme(e,t),hme(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return pt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=rme(s,function(d){return d.coordinate||0}),u=lme(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=O2(n,cme),d=s.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=pt(i,a,d[0],o),h=pt(i,a,d[1],o),m=$o($o($o({},Te(u,!1)),{},{fill:"none"},Te(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",md({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=O2(i,ume),f=this.getTickTextAnchor(),h=Te(d,!1),m=Te(o,!1),g=a.map(function(v,w){var y=n.getTickValueCoord(v),_=$o($o($o($o({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:w},y),{},{payload:v});return M.createElement(Ge,md({className:Fe("recharts-polar-radius-axis-tick",J4(o)),key:"tick-".concat(v.coordinate)},Es(n.props,v,w)),e.renderTickItem(o,_,l?l(v.value,w):v.value))});return M.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:M.createElement(Ge,{className:Fe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,i):je(n)?o=n(i):o=M.createElement(js,md({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(R.PureComponent);dy(fy,"displayName","PolarRadiusAxis");dy(fy,"axisType","radiusAxis");dy(fy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(this,arguments)}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){hy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mV(n.key),n)}}function bme(t,e,r){return e&&M2(t.prototype,e),r&&M2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,r){return e=kg(e),_me(t,pV()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function _me(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sme(t)}function Sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bw(t,e)}function hy(t,e,r){return e=mV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mV(t){var e=kme(t,"string");return pc(e)=="symbol"?e:e+""}function kme(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ame=Math.PI/180,$2=1e-5,py=function(t){function e(){return xme(this,e),wme(this,e,arguments)}return Tme(e,t),bme(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=pt(a,o,s,n.coordinate),h=pt(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Ame),o;return a>$2?o=i==="outer"?"start":"end":a<-$2?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=Lo(Lo({},Te(this.props,!1)),{},{fill:"none"},Te(s,!1));if(l==="circle")return M.createElement(uy,Ho({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return pt(i,a,o,h.coordinate)});return M.createElement(Bpe,Ho({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=Te(this.props,!1),f=Te(o,!1),h=Lo(Lo({},d),{},{fill:"none"},Te(s,!1)),m=a.map(function(g,v){var w=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),_=Lo(Lo(Lo({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:v,payload:g,x:w.x2,y:w.y2});return M.createElement(Ge,Ho({className:Fe("recharts-polar-angle-axis-tick",J4(o)),key:"tick-".concat(g.coordinate)},Es(n.props,g,v)),s&&M.createElement("line",Ho({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&e.renderTickItem(o,_,l?l(g.value,v):g.value))});return M.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:M.createElement(Ge,{className:Fe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,i):je(n)?o=n(i):o=M.createElement(js,Ho({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(R.PureComponent);hy(py,"displayName","PolarAngleAxis");hy(py,"axisType","angleAxis");hy(py,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Eme=xL,jme=Eme(Object.getPrototypeOf,Object),Pme=jme,Nme=ba,Cme=Pme,Ime=wa,Ome="[object Object]",Rme=Function.prototype,Dme=Object.prototype,gV=Rme.toString,Mme=Dme.hasOwnProperty,$me=gV.call(Object);function Lme(t){if(!Ime(t)||Nme(t)!=Ome)return!1;var e=Cme(t);if(e===null)return!0;var r=Mme.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&gV.call(r)==$me}var Vme=Lme;const Fme=nt(Vme);var Bme=ba,zme=wa,Ume="[object Boolean]";function Kme(t){return t===!0||t===!1||zme(t)&&Bme(t)==Ume}var qme=Kme;const Wme=nt(qme);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function Hme(t,e){return Qme(t)||Xme(t,e)||Yme(t,e)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(t,e){if(t){if(typeof t=="string")return L2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(t,e)}}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qme(t){if(Array.isArray(t))return t}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){Jme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jme(t,e,r){return e=Zme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zme(t){var e=ege(t,"string");return Af(e)=="symbol"?e:e+""}function ege(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},tge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rge=function(e){var r=F2(F2({},tge),e),n=R.useRef(),i=R.useState(-1),a=Hme(i,2),o=a[0],s=a[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Fe("recharts-trapezoid",m);return y?M.createElement(Pi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:y},function(b){var j=b.upperWidth,x=b.lowerWidth,S=b.height,T=b.x,k=b.y;return M.createElement(Pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:g},M.createElement("path",Ag({},Te(r,!0),{className:_,d:B2(T,k,j,x,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Ag({},Te(r,!0),{className:_,d:B2(l,u,d,f,h)})))},nge=["option","shapeType","propTransformer","activeClassName","isActive"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function ige(t,e){if(t==null)return{};var r=age(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function age(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){oge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oge(t,e,r){return e=sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sge(t){var e=lge(t,"string");return Ef(e)=="symbol"?e:e+""}function lge(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cge(t,e){return Eg(Eg({},e),t)}function uge(t,e){return t==="symbols"}function U2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return M.createElement(yT,r);case"trapezoid":return M.createElement(rge,r);case"sector":return M.createElement(tV,r);case"symbols":if(uge(e))return M.createElement($S,r);break;default:return null}}function dge(t){return R.isValidElement(t)?t.props:t}function vV(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?cge:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=ige(t,nge),u;if(R.isValidElement(e))u=R.cloneElement(e,Eg(Eg({},l),dge(e)));else if(je(e))u=e(l);else if(Fme(e)&&!Wme(e)){var d=i(e,l);u=M.createElement(U2,{shapeType:r,elementProps:d})}else{var f=l;u=M.createElement(U2,{shapeType:r,elementProps:f})}return s?M.createElement(Ge,{className:o},u):u}function my(t,e){return e!=null&&"trapezoids"in t.props}function gy(t,e){return e!=null&&"sectors"in t.props}function jf(t,e){return e!=null&&"points"in t.props}function fge(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function hge(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function pge(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function mge(t,e){var r;return my(t,e)?r=fge:gy(t,e)?r=hge:jf(t,e)&&(r=pge),r}function gge(t,e){var r;return my(t,e)?r="trapezoids":gy(t,e)?r="sectors":jf(t,e)&&(r="points"),r}function vge(t,e){if(my(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jf(t,e)?e.payload:{}}function yge(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=gge(r,e),a=vge(r,e),o=n.filter(function(l,u){var d=uc(a,l),f=r.props[i].filter(function(g){var v=mge(r,e);return v(g,e)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Jp;function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vl.apply(this,arguments)}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){In(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xV(n.key),n)}}function bge(t,e,r){return e&&q2(t.prototype,e),r&&q2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wge(t,e,r){return e=jg(e),_ge(t,yV()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function _ge(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sge(t)}function Sge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(t,e)}function In(t,e,r){return e=xV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xV(t){var e=kge(t,"string");return mc(e)=="symbol"?e:e+""}function kge(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ii=function(t){function e(r){var n;return xge(this,e),n=wge(this,e,[r]),In(n,"pieRef",null),In(n,"sectorRefs",[]),In(n,"id",Hc("recharts-pie-")),In(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(i)&&i()}),In(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Tge(e,t),bge(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,d=Te(this.props,!1),f=Te(o,!1),h=Te(s,!1),m=o&&o.offsetRadius||20,g=n.map(function(v,w){var y=(v.startAngle+v.endAngle)/2,_=pt(v.cx,v.cy,v.outerRadius+m,y),b=dt(dt(dt(dt({},d),v),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(_.x,v.cx)},_),j=dt(dt(dt(dt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:w,points:[pt(v.cx,v.cy,v.outerRadius,y),_]}),x=l;return Me(l)&&Me(u)?x="value":Me(l)&&(x=u),M.createElement(Ge,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,j,"line"),e.renderLabelItem(o,b,Xt(v,x)))});return M.createElement(Ge,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,m=f?o:h,g=dt(dt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Ge,vl({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Es(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(vV,vl({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return M.createElement(Pi,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,w=[],y=a&&a[0],_=y.startAngle;return a.forEach(function(b,j){var x=h&&h[j],S=j>0?gn(b,"paddingAngle",0):0;if(x){var T=Qr(x.endAngle-x.startAngle,b.endAngle-b.startAngle),k=dt(dt({},b),{},{startAngle:_+S,endAngle:_+T(v)+S});w.push(k),_=k.endAngle}else{var E=b.endAngle,I=b.startAngle,O=Qr(0,E-I),P=O(v),C=dt(dt({},b),{},{startAngle:_+S,endAngle:_+P+S});w.push(C),_=C.endAngle}}),M.createElement(Ge,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!uc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!le(u)||!le(d)||!le(f)||!le(h))return null;var v=Fe("recharts-pie",s);return M.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),ir.renderCallByParent(this.props,null,!1),(!m||g)&&ea.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);if(je(n))return n(i);var o=Fe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Fl,vl({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);var o=a;if(je(n)&&(o=n(i),M.isValidElement(o)))return o;var s=Fe("recharts-pie-label-text",typeof n!="boolean"&&!je(n)?n.className:"");return M.createElement(js,vl({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(R.PureComponent);Jp=Ii;In(Ii,"displayName","Pie");In(Ii,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});In(Ii,"parseDeltaAngle",function(t,e){var r=Vr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});In(Ii,"getRealPieData",function(t){var e=t.data,r=t.children,n=Te(t,!1),i=Mn(r,ph);return e&&e.length?e.map(function(a,o){return dt(dt(dt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return dt(dt({},n),a.props)}):[]});In(Ii,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=Q4(i,a),s=n+Fr(t.cx,i,i/2),l=r+Fr(t.cy,a,a/2),u=Fr(t.innerRadius,o,0),d=Fr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});In(Ii,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?dt(dt({},e.type.defaultProps),e.props):e.props,i=Jp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Jp.parseCoordinateOfPie(n,r),v=Jp.parseDeltaAngle(o,s),w=Math.abs(v),y=u;Me(u)&&Me(f)?(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Me(u)&&(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var _=i.filter(function(k){return Xt(k,y,0)!==0}).length,b=(w>=360?_:_-1)*l,j=w-_*m-b,x=i.reduce(function(k,E){var I=Xt(E,y,0);return k+(le(I)?I:0)},0),S;if(x>0){var T;S=i.map(function(k,E){var I=Xt(k,y,0),O=Xt(k,d,E),P=(le(I)?I:0)/x,C;E?C=T.endAngle+Vr(v)*l*(I!==0?1:0):C=o;var L=C+Vr(v)*((I!==0?m:0)+P*j),$=(C+L)/2,q=(g.innerRadius+g.outerRadius)/2,U=[{name:O,value:I,payload:k,dataKey:y,type:h}],F=pt(g.cx,g.cy,q,$);return T=dt(dt(dt({percent:P,cornerRadius:a,name:O,tooltipPayload:U,midAngle:$,middleRadius:q,tooltipPosition:F},k),g),{},{value:Xt(k,y),startAngle:C,endAngle:L,payload:k,paddingAngle:Vr(v)*l}),T})}return dt(dt({},g),{},{sectors:S,data:i})});var Age=Math.ceil,Ege=Math.max;function jge(t,e,r,n){for(var i=-1,a=Ege(Age((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Pge=jge,Nge=LL,W2=1/0,Cge=17976931348623157e292;function Ige(t){if(!t)return t===0?t:0;if(t=Nge(t),t===W2||t===-W2){var e=t<0?-1:1;return e*Cge}return t===t?t:0}var bV=Ige,Oge=Pge,Rge=Jv,Gx=bV;function Dge(t){return function(e,r,n){return n&&typeof n!="number"&&Rge(e,r,n)&&(r=n=void 0),e=Gx(e),r===void 0?(r=e,e=0):r=Gx(r),n=n===void 0?e<r?1:-1:Gx(n),Oge(e,r,n,t)}}var Mge=Dge,$ge=Mge,Lge=$ge(),Vge=Lge;const Pg=nt(Vge);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){wV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wV(t,e,r){return e=Fge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fge(t){var e=Bge(t,"string");return Pf(e)=="symbol"?e:e+""}function Bge(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zge=["Webkit","Moz","O","ms"],Uge=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zge.reduce(function(a,o){return G2(G2({},a),{},wV({},o+n,r))},{});return i[e]=r,i};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SV(n.key),n)}}function qge(t,e,r){return e&&X2(t.prototype,e),r&&X2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wge(t,e,r){return e=Cg(e),Hge(t,_V()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function Hge(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(t)}function Gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function Yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(t,e)}function ln(t,e,r){return e=SV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SV(t){var e=Xge(t,"string");return gc(e)=="symbol"?e:e+""}function Xge(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qge=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=dd().domain(Pg(0,l)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},Q2=function(e){return e.changedTouches&&!!e.changedTouches.length},vc=function(t){function e(r){var n;return Kge(this,e),n=Wge(this,e,[r]),ln(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ln(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ln(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),ln(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ln(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ln(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ln(n,"handleSlideDragStart",function(i){var a=Q2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yge(e,t),qge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Xt(a[n],s,n);return je(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,v=n.pageX-a;v>0?v=Math.min(v,u+d-f-s,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-s));var w=this.getIndex({startX:o+v,endX:s+v});(w.startIndex!==h||w.endIndex!==m)&&g&&g(w),this.setState({startX:o+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Q2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,v=d.gap,w=d.data,y={startX:this.state.startX,endX:this.state.endX},_=n.pageX-a;_>0?_=Math.min(_,f+h-m-u):_<0&&(_=Math.max(_,f-u)),y[o]=u+_;var b=this.getIndex(y),j=b.startIndex,x=b.endIndex,S=function(){var k=w.length-1;return o==="startX"&&(s>l?j%v===0:x%v===0)||s<l&&x===k||o==="endX"&&(s>l?x%v===0:j%v===0)||s>l&&x===k};this.setState(ln(ln({},o,u+_),"brushMoveStartX",n.pageX),function(){g&&S()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(ln({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=R.Children.only(u);return f?M.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,v=l.startIndex,w=l.endIndex,y=Math.max(n,this.props.x),_=Yx(Yx({},Te(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=g[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[w])===null||o===void 0?void 0:o.name);return M.createElement(Ge,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(Ge,{className:"recharts-brush-texts"},M.createElement(js,Ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},g),this.getTextOfTick(i)),M.createElement(js,Ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,v=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!le(s)||!le(l)||!le(u)||!le(d)||u<=0||d<=0)return null;var b=Fe("recharts-brush",a),j=M.Children.count(o)===1,x=Uge("userSelect","none");return M.createElement(Ge,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(v||w||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return M.isValidElement(n)?a=M.cloneElement(n,i):je(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Yx({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Qge({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(R.PureComponent);ln(vc,"displayName","Brush");ln(vc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jge=KS;function Zge(t,e){var r;return Jge(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var eve=Zge,tve=dL,rve=Ci,nve=eve,ive=on,ave=Jv;function ove(t,e,r){var n=ive(t)?tve:nve;return r&&ave(t,e,r)&&(e=void 0),n(t,rve(e))}var sve=ove;const lve=nt(sve);var Si=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},J2=OL;function cve(t,e,r){e=="__proto__"&&J2?J2(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var uve=cve,dve=uve,fve=CL,hve=Ci;function pve(t,e){var r={};return e=hve(e),fve(t,function(n,i,a){dve(r,i,e(n,i,a))}),r}var mve=pve;const gve=nt(mve);function vve(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var yve=vve,xve=KS;function bve(t,e){var r=!0;return xve(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var wve=bve,_ve=yve,Sve=wve,Tve=Ci,kve=on,Ave=Jv;function Eve(t,e,r){var n=kve(t)?_ve:Sve;return r&&Ave(t,e,r)&&(e=void 0),n(t,Tve(e))}var jve=Eve;const TV=nt(jve);var Pve=["x","y"];function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(this,arguments)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){Nve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nve(t,e,r){return e=Cve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cve(t){var e=Ive(t,"string");return Nf(e)=="symbol"?e:e+""}function Ive(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ove(t,e){if(t==null)return{};var r=Rve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dve(t,e){var r=t.x,n=t.y,i=Ove(t,Pve),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Du(Du(Du(Du(Du({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function eC(t){return M.createElement(vV,Kw({shapeType:"rectangle",propTransformer:Dve,activeClassName:"recharts-active-bar"},t))}var Mve=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=le(n)||sX(n);return a?e(n,i):(a||Ns(),r)}},$ve=["value","background"],kV;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Lve(t,e){if(t==null)return{};var r=Vve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function tC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(r),!0).forEach(function(n){Wa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EV(n.key),n)}}function Bve(t,e,r){return e&&rC(t.prototype,e),r&&rC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zve(t,e,r){return e=Og(e),Uve(t,AV()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function Uve(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kve(t)}function Kve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(t,e)}function Wa(t,e,r){return e=EV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EV(t){var e=Wve(t,"string");return yc(e)=="symbol"?e:e+""}function Wve(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ta=function(t){function e(){var r;Fve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zve(this,e,[].concat(i)),Wa(r,"state",{isAnimationFinished:!1}),Wa(r,"id",Hc("recharts-bar-")),Wa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Wa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qve(e,t),Bve(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Te(this.props,!1);return n&&n.map(function(f,h){var m=h===l,g=m?u:o,v=Bt(Bt(Bt({},d),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Ge,Ig({className:"recharts-bar-rectangle"},Es(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(eC,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Pi,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,v=a.map(function(w,y){var _=h&&h[y];if(_){var b=Qr(_.x,w.x),j=Qr(_.y,w.y),x=Qr(_.width,w.width),S=Qr(_.height,w.height);return Bt(Bt({},w),{},{x:b(g),y:j(g),width:x(g),height:S(g)})}if(o==="horizontal"){var T=Qr(0,w.height),k=T(g);return Bt(Bt({},w),{},{y:w.y+w.height-k,height:k})}var E=Qr(0,w.width),I=E(g);return Bt(Bt({},w),{},{width:I})});return M.createElement(Ge,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!uc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Te(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Lve(u,$ve);if(!f)return null;var m=Bt(Bt(Bt(Bt(Bt({},h),{},{fill:"#eee"},f),l),Es(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(eC,Ig({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Mn(d,cy);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(w,y){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:Xt(w,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ge,g,f.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,v=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=Fe("recharts-bar",o),_=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,j=_||b,x=Me(v)?this.id:v;return M.createElement(Ge,{className:y},_||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(x)},M.createElement("rect",{x:_?u:u-f/2,y:b?d:d-h/2,width:_?f:f*2,height:b?h:h*2}))):null,M.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,x),(!m||w)&&ea.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(R.PureComponent);kV=ta;Wa(ta,"displayName","Bar");Wa(ta,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wa(ta,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Ade(n,r);if(!m)return null;var g=e.layout,v=r.type.defaultProps,w=v!==void 0?Bt(Bt({},v),r.props):r.props,y=w.dataKey,_=w.children,b=w.minPointSize,j=g==="horizontal"?o:a,x=u?j.scale.domain():null,S=Ode({numericAxis:j}),T=Mn(_,ph),k=f.map(function(E,I){var O,P,C,L,$,q;u?O=Ede(u[d+I],x):(O=Xt(E,y),Array.isArray(O)||(O=[S,O]));var U=Mve(b,kV.defaultProps.minPointSize)(O[1],I);if(g==="horizontal"){var F,z=[o.scale(O[0]),o.scale(O[1])],X=z[0],re=z[1];P=qN({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:E,index:I}),C=(F=re??X)!==null&&F!==void 0?F:void 0,L=m.size;var V=X-re;if($=Number.isNaN(V)?0:V,q={x:P,y:o.y,width:L,height:o.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var Y=Vr($||U)*(Math.abs(U)-Math.abs($));C-=Y,$+=Y}}else{var Z=[a.scale(O[0]),a.scale(O[1])],ee=Z[0],we=Z[1];if(P=ee,C=qN({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:E,index:I}),L=we-ee,$=m.size,q={x:a.x,y:C,width:a.width,height:$},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var ge=Vr(L||U)*(Math.abs(U)-Math.abs(L));L+=ge}}return Bt(Bt(Bt({},E),{},{x:P,y:C,width:L,height:$,value:u?O:O[1],payload:E,background:q},T&&T[I]&&T[I].props),{},{tooltipPayload:[Y4(r,E)],tooltipPosition:{x:P+L/2,y:C+$/2}})});return Bt({data:k,layout:g},h)});function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jV(n.key),n)}}function Gve(t,e,r){return e&&nC(t.prototype,e),r&&nC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vy(t,e,r){return e=jV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jV(t){var e=Yve(t,"string");return Cf(e)=="symbol"?e:e+""}function Yve(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PV=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!un(u,ta);return d.reduce(function(m,g){var v=r[g],w=v.orientation,y=v.domain,_=v.padding,b=_===void 0?{}:_,j=v.mirror,x=v.reversed,S="".concat(w).concat(j?"Mirror":""),T,k,E,I,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var P=y[1]-y[0],C=1/0,L=v.categoricalDomain.sort(uX);if(L.forEach(function(Z,ee){ee>0&&(C=Math.min((Z||0)-(L[ee-1]||0),C))}),Number.isFinite(C)){var $=C/P,q=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(T=$*q/2),v.padding==="no-gap"){var U=Fr(e.barCategoryGap,$*q),F=$*q/2;T=F-U-(F-U)/q*U}}}i==="xAxis"?k=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:i==="yAxis"?k=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:k=v.range,x&&(k=[k[1],k[0]]);var z=q4(v,a,h),X=z.scale,re=z.realScaleType;X.domain(y).range(k),W4(X);var V=H4(X,Qn(Qn({},v),{},{realScaleType:re}));i==="xAxis"?(O=w==="top"&&!j||w==="bottom"&&j,E=n.left,I=f[S]-O*v.height):i==="yAxis"&&(O=w==="left"&&!j||w==="right"&&j,E=f[S]-O*v.width,I=n.top);var Y=Qn(Qn(Qn({},v),V),{},{realScaleType:re,x:E,y:I,scale:X,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return Y.bandSize=vg(Y,V),!v.hide&&i==="xAxis"?f[S]+=(O?-1:1)*Y.height:v.hide||(f[S]+=(O?-1:1)*Y.width),Qn(Qn({},m),{},vy({},g,Y))},{})},NV=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Xve=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return NV({x:r,y:n},{x:i,y:a})},CV=function(){function t(e){Hve(this,t),this.scale=e}return Gve(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();vy(CV,"EPS",1e-4);var xT=function(e){var r=Object.keys(e).reduce(function(n,i){return Qn(Qn({},n),{},vy({},i,CV.create(e[i])))},{});return Qn(Qn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gve(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return TV(i,function(a,o){return r[o].isInRange(a)})}})};function Qve(t){return(t%180+180)%180}var Jve=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Qve(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Zve=Ci,eye=hh,tye=Xv;function rye(t){return function(e,r,n){var i=Object(e);if(!eye(e)){var a=Zve(r);e=tye(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var nye=rye,iye=bV;function aye(t){var e=iye(t),r=e%1;return e===e?r?e-r:e:0}var oye=aye,sye=kL,lye=Ci,cye=oye,uye=Math.max;function dye(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:cye(r);return i<0&&(i=uye(n+i,0)),sye(t,lye(e),i)}var fye=dye,hye=nye,pye=fye,mye=hye(pye),gye=mye;const vye=nt(gye);var yye=hY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bT=R.createContext(void 0),wT=R.createContext(void 0),IV=R.createContext(void 0),OV=R.createContext({}),RV=R.createContext(void 0),DV=R.createContext(0),MV=R.createContext(0),aC=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=yye(a);return M.createElement(bT.Provider,{value:n},M.createElement(wT.Provider,{value:i},M.createElement(OV.Provider,{value:a},M.createElement(IV.Provider,{value:d},M.createElement(RV.Provider,{value:o},M.createElement(DV.Provider,{value:u},M.createElement(MV.Provider,{value:l},s)))))))},xye=function(){return R.useContext(RV)},$V=function(e){var r=R.useContext(bT);r==null&&Ns();var n=r[e];return n==null&&Ns(),n},bye=function(){var e=R.useContext(bT);return Ba(e)},wye=function(){var e=R.useContext(wT),r=vye(e,function(n){return TV(n.domain,Number.isFinite)});return r||Ba(e)},LV=function(e){var r=R.useContext(wT);r==null&&Ns();var n=r[e];return n==null&&Ns(),n},_ye=function(){var e=R.useContext(IV);return e},Sye=function(){return R.useContext(OV)},_T=function(){return R.useContext(MV)},ST=function(){return R.useContext(DV)};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FV(n.key),n)}}function Aye(t,e,r){return e&&kye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,r){return e=Rg(e),jye(t,VV()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function jye(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(t)}function Pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(t,e)}function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){TT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TT(t,e,r){return e=FV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FV(t){var e=Cye(t,"string");return xc(e)=="symbol"?e:e+""}function Cye(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iye(t,e){return Mye(t)||Dye(t,e)||Rye(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(t,e){if(t){if(typeof t=="string")return lC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mye(t){if(Array.isArray(t))return t}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hw.apply(this,arguments)}var $ye=function(e,r){var n;return M.isValidElement(e)?n=M.cloneElement(e,r):je(e)?n=e(r):n=M.createElement("line",Hw({},r,{className:"recharts-reference-line-line"})),n},Lye=function(e,r,n,i,a,o,s,l,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var g=u.y,v=e.y.apply(g,{position:o});if(Si(u,"discard")&&!e.y.isInRange(v))return null;var w=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?w.reverse():w}if(r){var y=u.x,_=e.x.apply(y,{position:o});if(Si(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+m},{x:_,y:f}];return s==="top"?b.reverse():b}if(i){var j=u.segment,x=j.map(function(S){return e.apply(S,{position:o})});return Si(u,"discard")&&lve(x,function(S){return!e.isInRange(S)})?null:x}return null};function Vye(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=xye(),d=$V(i),f=LV(a),h=_ye();if(!u||!h)return null;ii(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=xT({x:d.scale,y:f.scale}),g=Jt(e),v=Jt(r),w=n&&n.length===2,y=Lye(m,g,v,w,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var _=Iye(y,2),b=_[0],j=b.x,x=b.y,S=_[1],T=S.x,k=S.y,E=Si(t,"hidden")?"url(#".concat(u,")"):void 0,I=sC(sC({clipPath:E},Te(t,!0)),{},{x1:j,y1:x,x2:T,y2:k});return M.createElement(Ge,{className:Fe("recharts-reference-line",s)},$ye(o,I),ir.renderCallByParent(t,Xve({x1:j,y1:x,x2:T,y2:k})))}var kT=function(t){function e(){return Tye(this,e),Eye(this,e,arguments)}return Nye(e,t),Aye(e,[{key:"render",value:function(){return M.createElement(Vye,this.props)}}])}(M.Component);TT(kT,"displayName","ReferenceLine");TT(kT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(this,arguments)}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function cC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(r),!0).forEach(function(n){yy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zV(n.key),n)}}function zye(t,e,r){return e&&Bye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uye(t,e,r){return e=Dg(e),Kye(t,BV()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Kye(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qye(t)}function qye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yw(t,e)}function yy(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=Hye(t,"string");return bc(e)=="symbol"?e:e+""}function Hye(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gye=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=xT({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Si(e,"discard")&&!o.isInRange(s)?null:s},xy=function(t){function e(){return Fye(this,e),Uye(this,e,arguments)}return Wye(e,t),zye(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=Jt(i),d=Jt(a);if(ii(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Gye(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,v=g.shape,w=g.className,y=Si(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=uC(uC({clipPath:y},Te(this.props,!0)),{},{cx:h,cy:m});return M.createElement(Ge,{className:Fe("recharts-reference-dot",w)},e.renderDot(v,_),ir.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);yy(xy,"displayName","ReferenceDot");yy(xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yy(xy,"renderDot",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):je(t)?r=t(e):r=M.createElement(uy,Gw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xw.apply(this,arguments)}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function dC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(r),!0).forEach(function(n){by(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KV(n.key),n)}}function Qye(t,e,r){return e&&Xye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jye(t,e,r){return e=Mg(e),Zye(t,UV()?Reflect.construct(e,r||[],Mg(t).constructor):e.apply(t,r))}function Zye(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return exe(t)}function exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(t)}function txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qw(t,e)}function by(t,e,r){return e=KV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=rxe(t,"string");return wc(e)=="symbol"?e:e+""}function rxe(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nxe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=xT({x:d.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Si(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:NV(m,g)},wy=function(t){function e(){return Yye(this,e),Jye(this,e,arguments)}return txe(e,t),Qye(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ii(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Jt(i),h=Jt(a),m=Jt(o),g=Jt(s),v=this.props.shape;if(!f&&!h&&!m&&!g&&!v)return null;var w=nxe(f,h,m,g,this.props);if(!w&&!v)return null;var y=Si(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Ge,{className:Fe("recharts-reference-area",l)},e.renderRect(v,fC(fC({clipPath:y},Te(this.props,!0)),w)),ir.renderCallByParent(this.props,w))}}])}(M.Component);by(wy,"displayName","ReferenceArea");by(wy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});by(wy,"renderRect",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):je(t)?r=t(e):r=M.createElement(yT,Xw({},e,{className:"recharts-reference-area-rect"})),r});function qV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ixe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Jve(n,r)}function axe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function $g(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function oxe(t,e){return qV(t,e+1)}function sxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:qV(n,u)};var v=l,w,y=function(){return w===void 0&&(w=r(g,v)),w},_=g.coordinate,b=l===0||$g(t,_,y,d,s);b||(l=0,d=o,u+=1),b&&(d=_+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function hC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(r),!0).forEach(function(n){lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lxe(t,e,r){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cxe(t){var e=uxe(t,"string");return If(e)=="symbol"?e:e+""}function uxe(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var m=a[h],g,v=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var w=t*(m.coordinate+t*v()/2-l);a[h]=m=Er(Er({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else a[h]=m=Er(Er({},m),{},{tickCoord:m.coordinate});var y=$g(t,m.tickCoord,v,s,l);y&&(l=m.tickCoord-t*(v()/2+i),a[h]=Er(Er({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function fxe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=Er(Er({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=$g(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),o[s-1]=Er(Er({},d),{},{isShow:!0}))}for(var g=a?s-1:s,v=function(_){var b=o[_],j,x=function(){return j===void 0&&(j=r(b,_)),j};if(_===0){var S=t*(b.coordinate-t*x()/2-l);o[_]=b=Er(Er({},b),{},{tickCoord:S<0?b.coordinate-S*t:b.coordinate})}else o[_]=b=Er(Er({},b),{},{tickCoord:b.coordinate});var T=$g(t,b.tickCoord,x,l,u);T&&(l=b.tickCoord+t*(x()/2+i),o[_]=Er(Er({},b),{},{isShow:!0}))},w=0;w<g;w++)v(w);return o}function AT(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(le(l)||Vs.isSsr)return oxe(i,typeof l=="number"&&le(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?ud(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(b,j){var x=je(u)?u(b.value,j):b.value;return m==="width"?ixe(ud(x,{fontSize:e,letterSpacing:r}),g,f):ud(x,{fontSize:e,letterSpacing:r})[m]},w=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,y=axe(a,w,m);return l==="equidistantPreserveStart"?sxe(w,y,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=fxe(w,y,v,i,o,l==="preserveStartEnd"):h=dxe(w,y,v,i,o),h.filter(function(_){return _.isShow}))}var hxe=["viewBox"],pxe=["viewBox"],mxe=["ticks"];function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(this,arguments)}function pC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(r),!0).forEach(function(n){ET(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xx(t,e){if(t==null)return{};var r=gxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HV(n.key),n)}}function yxe(t,e,r){return e&&mC(t.prototype,e),r&&mC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xxe(t,e,r){return e=Lg(e),bxe(t,WV()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function bxe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wxe(t)}function wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function _xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jw(t,e)}function ET(t,e,r){return e=HV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HV(t){var e=Sxe(t,"string");return _c(e)=="symbol"?e:e+""}function Sxe(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(r){var n;return vxe(this,e),n=xxe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _xe(e,t),yxe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Xx(n,hxe),s=this.props,l=s.viewBox,u=Xx(s,pxe);return!Ml(a,l)||!Ml(o,u)||!Ml(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,v,w,y,_,b=f?-1:1,j=n.tickSize||d,x=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,w=o+ +!f*l,v=w-b*j,_=v-b*h,y=x;break;case"left":v=w=n.coordinate,g=a+ +!f*s,m=g-b*j,y=m-b*h,_=x;break;case"right":v=w=n.coordinate,g=a+ +f*s,m=g+b*j,y=m+b*h,_=x;break;default:m=g=n.coordinate,w=o+ +f*l,v=w+b*j,_=v+b*h,y=x;break}return{line:{x1:m,y1:v,x2:g,y2:w},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Wt(Wt(Wt({},Te(this.props,!1)),Te(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Wt(Wt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Wt(Wt({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return M.createElement("line",yl({},f,{className:Fe("recharts-cartesian-axis-line",gn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=AT(Wt(Wt({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Te(this.props,!1),y=Te(d,!1),_=Wt(Wt({},w),{},{fill:"none"},Te(l,!1)),b=m.map(function(j,x){var S=o.getTickLineCoord(j),T=S.line,k=S.tick,E=Wt(Wt(Wt(Wt({textAnchor:g,verticalAnchor:v},w),{},{stroke:"none",fill:u},y),k),{},{index:x,payload:j,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(Ge,yl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Es(o.props,j,x)),l&&M.createElement("line",yl({},_,T,{className:Fe("recharts-cartesian-axis-tick-line",gn(l,"className"))})),d&&e.renderTickItem(d,E,"".concat(je(f)?f(j.value,x):j.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Xx(f,mxe),g=h;return je(l)&&(g=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:M.createElement(Ge,{className:Fe("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Fe(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Wt(Wt({},i),{},{className:s})):je(n)?o=n(Wt(Wt({},i),{},{className:s})):o=M.createElement(js,yl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(R.Component);ET(eu,"displayName","CartesianAxis");ET(eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Txe=["x1","y1","x2","y2","key"],kxe=["offset"];function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function gC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(r),!0).forEach(function(n){Axe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Axe(t,e,r){return e=Exe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Exe(t){var e=jxe(t,"string");return Cs(e)=="symbol"?e:e+""}function jxe(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ts.apply(this,arguments)}function vC(t,e){if(t==null)return{};var r=Pxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nxe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GV(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(je(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=vC(e,Txe),u=Te(l,!1);u.offset;var d=vC(u,kxe);r=M.createElement("line",ts({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Cxe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Cr(Cr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return GV(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ixe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Cr(Cr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return GV(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Oxe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?i+o-h:d[m+1]-h;if(v<=0)return null;var w=m%e.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:v,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Rxe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],v=g?a+s-h:d[m+1]-h;if(v<=0)return null;var w=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:v,height:l,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Dxe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return K4(AT(Cr(Cr(Cr({},eu.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Mxe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return K4(AT(Cr(Cr(Cr({},eu.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Qs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gd(t){var e,r,n,i,a,o,s=_T(),l=ST(),u=Sye(),d=Cr(Cr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Qs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Qs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Qs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Qs.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,v=d.syncWithTicks,w=d.horizontalValues,y=d.verticalValues,_=bye(),b=wye();if(!le(m)||m<=0||!le(g)||g<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Dxe,x=d.horizontalCoordinatesGenerator||Mxe,S=d.horizontalPoints,T=d.verticalPoints;if((!S||!S.length)&&je(x)){var k=w&&w.length,E=x({yAxis:b?Cr(Cr({},b),{},{ticks:k?w:b.ticks}):void 0,width:s,height:l,offset:u},k?!0:v);ii(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cs(E),"]")),Array.isArray(E)&&(S=E)}if((!T||!T.length)&&je(j)){var I=y&&y.length,O=j({xAxis:_?Cr(Cr({},_),{},{ticks:I?y:_.ticks}):void 0,width:s,height:l,offset:u},I?!0:v);ii(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cs(O),"]")),Array.isArray(O)&&(T=O)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Nxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(Cxe,ts({},d,{offset:u,horizontalPoints:S,xAxis:_,yAxis:b})),M.createElement(Ixe,ts({},d,{offset:u,verticalPoints:T,xAxis:_,yAxis:b})),M.createElement(Oxe,ts({},d,{horizontalPoints:S})),M.createElement(Rxe,ts({},d,{verticalPoints:T})))}gd.displayName="CartesianGrid";var $xe=["layout","type","stroke","connectNulls","isRange","ref"],Lxe=["key"],YV;function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function XV(t,e){if(t==null)return{};var r=Vxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JV(n.key),n)}}function Bxe(t,e,r){return e&&xC(t.prototype,e),r&&xC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,r){return e=Vg(e),Uxe(t,QV()?Reflect.construct(e,r||[],Vg(t).constructor):e.apply(t,r))}function Uxe(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kxe(t)}function Kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(t)}function qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zw(t,e)}function pi(t,e,r){return e=JV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JV(t){var e=Wxe(t,"string");return Sc(e)=="symbol"?e:e+""}function Wxe(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Po=function(t){function e(){var r;Fxe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zxe(this,e,[].concat(i)),pi(r,"state",{isAnimationFinished:!0}),pi(r,"id",Hc("recharts-area-")),pi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),je(o)&&o()}),pi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),je(o)&&o()}),r}return qxe(e,t),Bxe(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Te(this.props,!1),m=Te(u,!0),g=d.map(function(w,y){var _=Na(Na(Na({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:d});return e.renderDotItem(u,_)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(Ge,rs({className:"recharts-area-dots"},v),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=qa(o.map(function(h){return h.y||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(qa(a.map(function(h){return h.y||0})),f)),le(f)?M.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=qa(o.map(function(h){return h.x||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(qa(a.map(function(h){return h.x||0})),f)),le(f)?M.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=XV(s,$xe);return M.createElement(Ge,{clipPath:a?"url(#clipPath-".concat(o,")"):null},M.createElement(Fl,rs({},Te(m,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Fl,rs({},Te(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Fl,rs({},Te(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,v=g.prevPoints,w=g.prevBaseLine;return M.createElement(Pi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var _=y.t;if(v){var b=v.length/s.length,j=s.map(function(k,E){var I=Math.floor(E*b);if(v[I]){var O=v[I],P=Qr(O.x,k.x),C=Qr(O.y,k.y);return Na(Na({},k),{},{x:P(_),y:C(_)})}return k}),x;if(le(l)&&typeof l=="number"){var S=Qr(w,l);x=S(_)}else if(Me(l)||Wc(l)){var T=Qr(w,0);x=T(_)}else x=l.map(function(k,E){var I=Math.floor(E*b);if(w[I]){var O=w[I],P=Qr(O.x,k.x),C=Qr(O.y,k.y);return Na(Na({},k),{},{x:P(_),y:C(_)})}return k});return a.renderAreaStatically(j,x,n,i)}return M.createElement(Ge,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(_))),M.createElement(Ge,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!uc(d,o)||!uc(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,g=i.height,v=i.isAnimationActive,w=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,_=s.length===1,b=Fe("recharts-area",l),j=f&&f.allowDataOverflow,x=h&&h.allowDataOverflow,S=j||x,T=Me(w)?this.id:w,k=(n=Te(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=k.r,I=E===void 0?3:E,O=k.strokeWidth,P=O===void 0?2:O,C=xX(o)?o:{},L=C.clipDot,$=L===void 0?!0:L,q=I*2+P;return M.createElement(Ge,{className:b},j||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:j?d:d-m/2,y:x?u:u-g/2,width:j?m:m*2,height:x?g:g*2})),!$&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:d-q/2,y:u-q/2,width:m+q,height:g+q}))):null,_?null:this.renderArea(S,T),(o||_)&&this.renderDots(S,$,T),(!v||y)&&ea.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(R.PureComponent);YV=Po;pi(Po,"displayName","Area");pi(Po,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});pi(Po,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(le(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});pi(Po,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,g=u&&u.length,v=YV.getBaseValue(e,r,n,i),w=m==="horizontal",y=!1,_=f.map(function(j,x){var S;g?S=u[d+x]:(S=Xt(j,l),Array.isArray(S)?y=!0:S=[v,S]);var T=S[1]==null||g&&Xt(j,l)==null;return w?{x:KN({axis:n,ticks:a,bandSize:s,entry:j,index:x}),y:T?null:i.scale(S[1]),value:S,payload:j}:{x:T?null:n.scale(S[1]),y:KN({axis:i,ticks:o,bandSize:s,entry:j,index:x}),value:S,payload:j}}),b;return g||y?b=_.map(function(j){var x=Array.isArray(j.value)?j.value[0]:null;return w?{x:j.x,y:x!=null&&j.y!=null?i.scale(x):null}:{x:x!=null?n.scale(x):null,y:j.y}}):b=w?i.scale(v):n.scale(v),Na({points:_,baseLine:b,layout:m,isRange:y},h)});pi(Po,"renderDotItem",function(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(je(t))r=t(e);else{var n=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=XV(e,Lxe);r=M.createElement(uy,rs({},a,{key:i,className:n}))}return r});function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t3(n.key),n)}}function Yxe(t,e,r){return e&&Gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xxe(t,e,r){return e=Fg(e),Qxe(t,ZV()?Reflect.construct(e,r||[],Fg(t).constructor):e.apply(t,r))}function Qxe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jxe(t)}function Jxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}function Zxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e1(t,e)}function e3(t,e,r){return e=t3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t3(t){var e=e0e(t,"string");return Tc(e)=="symbol"?e:e+""}function e0e(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function t0e(t){var e=t.xAxisId,r=_T(),n=ST(),i=$V(e);return i==null?null:R.createElement(eu,t1({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Gi(o,!0)}}))}var so=function(t){function e(){return Hxe(this,e),Xxe(this,e,arguments)}return Zxe(e,t),Yxe(e,[{key:"render",value:function(){return R.createElement(t0e,this.props)}}])}(R.Component);e3(so,"displayName","XAxis");e3(so,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function r0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i3(n.key),n)}}function i0e(t,e,r){return e&&n0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a0e(t,e,r){return e=Bg(e),o0e(t,r3()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function o0e(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0e(t)}function s0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function l0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r1(t,e)}function n3(t,e,r){return e=i3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i3(t){var e=c0e(t,"string");return kc(e)=="symbol"?e:e+""}function c0e(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n1.apply(this,arguments)}var u0e=function(e){var r=e.yAxisId,n=_T(),i=ST(),a=LV(r);return a==null?null:R.createElement(eu,n1({},a,{className:Fe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Gi(s,!0)}}))},lo=function(t){function e(){return r0e(this,e),a0e(this,e,arguments)}return l0e(e,t),i0e(e,[{key:"render",value:function(){return R.createElement(u0e,this.props)}}])}(R.Component);n3(lo,"displayName","YAxis");n3(lo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bC(t){return p0e(t)||h0e(t)||f0e(t)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0e(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function h0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p0e(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a1=function(e,r,n,i,a){var o=Mn(e,kT),s=Mn(e,xy),l=[].concat(bC(o),bC(s)),u=Mn(e,wy),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(v,w){if(w.props[d]===n&&Si(w.props,"extendDomain")&&le(w.props[f])){var y=w.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(v,w){if(w.props[d]===n&&Si(w.props,"extendDomain")&&le(w.props[m])&&le(w.props[g])){var y=w.props[m],_=w.props[g];return[Math.min(v[0],y,_),Math.max(v[1],y,_)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,w){return le(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},a3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,g){var v=r?r+u:u;if(!this._events[v])return!1;var w=this._events[v],y=arguments.length,_,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];w.fn.apply(w.context,_)}else{var j=w.length,x;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),y){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!_)for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];w[b].fn.apply(w[b].context,_)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,w=[],y=g.length;v<y;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&w.push(g[v]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(a3);var m0e=a3.exports;const g0e=nt(m0e);var Qx=new g0e,Jx="recharts.syncMouseEvents";function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o3(n.key),n)}}function x0e(t,e,r){return e&&y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zx(t,e,r){return e=o3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3(t){var e=b0e(t,"string");return Of(e)=="symbol"?e:e+""}function b0e(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w0e=function(){function t(){v0e(this,t),Zx(this,"activeIndex",0),Zx(this,"coordinateList",[]),Zx(this,"layout","horizontal")}return x0e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function _0e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function S0e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function s3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=pt(e,r,n,i),s=pt(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function T0e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=pt(s,l,u,f),m=pt(s,l,d,f);n=h.x,i=h.y,a=m.x,o=m.y}else return s3(e);return[{x:n,y:i},{x:a,y:o}]}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function wC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(r),!0).forEach(function(n){k0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k0e(t,e,r){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A0e(t){var e=E0e(t,"string");return Rf(e)=="symbol"?e:e+""}function E0e(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,v=Fl;if(h==="ScatterChart")g=o,v=Xpe;else if(h==="BarChart")g=S0e(f,o,l,d),v=yT;else if(f==="radial"){var w=s3(o),y=w.cx,_=w.cy,b=w.radius,j=w.startAngle,x=w.endAngle;g={cx:y,cy:_,startAngle:j,endAngle:x,innerRadius:b,outerRadius:b},v=tV}else g={points:T0e(f,o,l)},v=Fl;var S=Sp(Sp(Sp(Sp({stroke:"#ccc",pointerEvents:"none"},l),g),Te(m,!1)),{},{payload:s,payloadIndex:u,className:Fe("recharts-tooltip-cursor",m.className)});return R.isValidElement(m)?R.cloneElement(m,S):R.createElement(v,S)}var P0e=["item"],N0e=["children","className","width","height","style","compact","title","desc"];function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xl.apply(this,arguments)}function _C(t,e){return O0e(t)||I0e(t,e)||c3(t,e)||C0e()}function C0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function O0e(t){if(Array.isArray(t))return t}function SC(t,e){if(t==null)return{};var r=R0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u3(n.key),n)}}function $0e(t,e,r){return e&&M0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L0e(t,e,r){return e=zg(e),V0e(t,l3()?Reflect.construct(e,r||[],zg(t).constructor):e.apply(t,r))}function V0e(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F0e(t)}function F0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(t)}function B0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function Ec(t){return K0e(t)||U0e(t)||c3(t)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(t,e){if(t){if(typeof t=="string")return s1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(t,e)}}function U0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K0e(t){if(Array.isArray(t))return s1(t)}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(r),!0).forEach(function(n){Ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ae(t,e,r){return e=u3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u3(t){var e=q0e(t,"string");return Ac(e)=="symbol"?e:e+""}function q0e(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0e={xAxis:["bottom","top"],yAxis:["left","right"]},H0e={width:"100%",height:"100%"},d3={x:0,y:0};function Tp(t){return t}var G0e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Y0e=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return J(J(J({},i),pt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return J(J(J({},i),pt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return d3},_y=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ec(s),Ec(u)):s},[]);return o.length>0?o:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function f3(t){return t==="number"?[0,"auto"]:void 0}var l1=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=_y(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=Um(m,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Ec(l),[Y4(u,h)]):l},[])},kC=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=G0e(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=bde(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=l1(e,r,d,f),m=Y0e(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},X0e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=U4(d,a);return n.reduce(function(g,v){var w,y=v.type.defaultProps!==void 0?J(J({},v.type.defaultProps),v.props):v.props,_=y.type,b=y.dataKey,j=y.allowDataOverflow,x=y.allowDuplicatedCategory,S=y.scale,T=y.ticks,k=y.includeHidden,E=y[o];if(g[E])return g;var I=_y(e.data,{graphicalItems:i.filter(function(V){var Y,Z=o in V.props?V.props[o]:(Y=V.type.defaultProps)===null||Y===void 0?void 0:Y[o];return Z===E}),dataStartIndex:l,dataEndIndex:u}),O=I.length,P,C,L;_0e(y.domain,j,_)&&(P=Sw(y.domain,null,j),m&&(_==="number"||S!=="auto")&&(L=fd(I,b,"category")));var $=f3(_);if(!P||P.length===0){var q,U=(q=y.domain)!==null&&q!==void 0?q:$;if(b){if(P=fd(I,b,_),_==="category"&&m){var F=cX(P);x&&F?(C=P,P=Pg(0,O)):x||(P=GN(U,P,v).reduce(function(V,Y){return V.indexOf(Y)>=0?V:[].concat(Ec(V),[Y])},[]))}else if(_==="category")x?P=P.filter(function(V){return V!==""&&!Me(V)}):P=GN(U,P,v).reduce(function(V,Y){return V.indexOf(Y)>=0||Y===""||Me(Y)?V:[].concat(Ec(V),[Y])},[]);else if(_==="number"){var z=kde(I,i.filter(function(V){var Y,Z,ee=o in V.props?V.props[o]:(Y=V.type.defaultProps)===null||Y===void 0?void 0:Y[o],we="hide"in V.props?V.props.hide:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ee===E&&(k||!we)}),b,a,d);z&&(P=z)}m&&(_==="number"||S!=="auto")&&(L=fd(I,b,"category"))}else m?P=Pg(0,O):s&&s[E]&&s[E].hasStack&&_==="number"?P=h==="expand"?[0,1]:G4(s[E].stackGroups,l,u):P=z4(I,i.filter(function(V){var Y=o in V.props?V.props[o]:V.type.defaultProps[o],Z="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return Y===E&&(k||!Z)}),_,d,!0);if(_==="number")P=a1(f,P,E,a,T),U&&(P=Sw(U,P,j));else if(_==="category"&&U){var X=U,re=P.every(function(V){return X.indexOf(V)>=0});re&&(P=X)}}return J(J({},g),{},Ae({},E,J(J({},y),{},{axisType:a,domain:P,categoricalDomain:L,duplicateDomain:C,originalDomain:(w=y.domain)!==null&&w!==void 0?w:$,isCategorical:m,layout:d})))},{})},Q0e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=_y(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=U4(d,a),v=-1;return n.reduce(function(w,y){var _=y.type.defaultProps!==void 0?J(J({},y.type.defaultProps),y.props):y.props,b=_[o],j=f3("number");if(!w[b]){v++;var x;return g?x=Pg(0,m):s&&s[b]&&s[b].hasStack?(x=G4(s[b].stackGroups,l,u),x=a1(f,x,b,a)):(x=Sw(j,z4(h,n.filter(function(S){var T,k,E=o in S.props?S.props[o]:(T=S.type.defaultProps)===null||T===void 0?void 0:T[o],I="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),x=a1(f,x,b,a)),J(J({},w),{},Ae({},b,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:gn(W0e,"".concat(a,".").concat(v%2),null),domain:x,originalDomain:j,isCategorical:g,layout:d})))}return w},{})},J0e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Mn(d,a),m={};return h&&h.length?m=X0e(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Q0e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Z0e=function(e){var r=Ba(e),n=Gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vg(r,n)}},AC=function(e){var r=e.children,n=e.defaultShowTooltip,i=un(r,vc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ebe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ji(r&&r.type);return n&&n.indexOf("Bar")>=0})},EC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tbe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=un(f,vc),g=un(f,us),v=Object.keys(l).reduce(function(x,S){var T=l[S],k=T.orientation;return!T.mirror&&!T.hide?J(J({},x),{},Ae({},k,x[k]+T.width)):x},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(x,S){var T=o[S],k=T.orientation;return!T.mirror&&!T.hide?J(J({},x),{},Ae({},k,gn(x,"".concat(k))+T.height)):x},{top:h.top||0,bottom:h.bottom||0}),y=J(J({},w),v),_=y.bottom;m&&(y.bottom+=m.props.height||vc.defaultProps.height),g&&r&&(y=Sde(y,i,n,r));var b=u-y.left-y.right,j=d-y.top-y.bottom;return J(J({brushBottom:_},y),{},{width:Math.max(b,0),height:Math.max(j,0)})},rbe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},jT=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,_){var b=_.graphicalItems,j=_.stackGroups,x=_.offset,S=_.updateId,T=_.dataStartIndex,k=_.dataEndIndex,E=y.barSize,I=y.layout,O=y.barGap,P=y.barCategoryGap,C=y.maxBarSize,L=EC(I),$=L.numericAxisName,q=L.cateAxisName,U=ebe(b),F=[];return b.forEach(function(z,X){var re=_y(y.data,{graphicalItems:[z],dataStartIndex:T,dataEndIndex:k}),V=z.type.defaultProps!==void 0?J(J({},z.type.defaultProps),z.props):z.props,Y=V.dataKey,Z=V.maxBarSize,ee=V["".concat($,"Id")],we=V["".concat(q,"Id")],ge={},Le=l.reduce(function(Se,Be){var ze=_["".concat(Be.axisType,"Map")],tt=V["".concat(Be.axisType,"Id")];ze&&ze[tt]||Be.axisType==="zAxis"||Ns();var wt=ze[tt];return J(J({},Se),{},Ae(Ae({},Be.axisType,wt),"".concat(Be.axisType,"Ticks"),Gi(wt)))},ge),G=Le[q],K=Le["".concat(q,"Ticks")],W=j&&j[ee]&&j[ee].hasStack&&Rde(z,j[ee].stackGroups),B=Ji(z.type).indexOf("Bar")>=0,ne=vg(G,K),ae=[],pe=U&&wde({barSize:E,stackGroups:j,totalSize:rbe(Le,q)});if(B){var Ce,Ve,Ye=Me(Z)?C:Z,se=(Ce=(Ve=vg(G,K,!0))!==null&&Ve!==void 0?Ve:Ye)!==null&&Ce!==void 0?Ce:0;ae=_de({barGap:O,barCategoryGap:P,bandSize:se!==ne?se:ne,sizeList:pe[we],maxBarSize:Ye}),se!==ne&&(ae=ae.map(function(Se){return J(J({},Se),{},{position:J(J({},Se.position),{},{offset:Se.position.offset-se/2})})}))}var de=z&&z.type&&z.type.getComposedData;de&&F.push({props:J(J({},de(J(J({},Le),{},{displayedData:re,props:y,dataKey:Y,item:z,bandSize:ne,barPosition:ae,offset:x,stackedData:W,layout:I,dataStartIndex:T,dataEndIndex:k}))),{},Ae(Ae(Ae({key:z.key||"item-".concat(X)},$,Le[$]),q,Le[q]),"animationId",S)),childIndex:_X(z,y.children),item:z})}),F},m=function(y,_){var b=y.props,j=y.dataStartIndex,x=y.dataEndIndex,S=y.updateId;if(!Bj({props:b}))return null;var T=b.children,k=b.layout,E=b.stackOffset,I=b.data,O=b.reverseStackOrder,P=EC(k),C=P.numericAxisName,L=P.cateAxisName,$=Mn(T,n),q=Ide(I,$,"".concat(C,"Id"),"".concat(L,"Id"),E,O),U=l.reduce(function(V,Y){var Z="".concat(Y.axisType,"Map");return J(J({},V),{},Ae({},Z,J0e(b,J(J({},Y),{},{graphicalItems:$,stackGroups:Y.axisType===C&&q,dataStartIndex:j,dataEndIndex:x}))))},{}),F=tbe(J(J({},U),{},{props:b,graphicalItems:$}),_==null?void 0:_.legendBBox);Object.keys(U).forEach(function(V){U[V]=d(b,U[V],F,V.replace("Map",""),r)});var z=U["".concat(L,"Map")],X=Z0e(z),re=h(b,J(J({},U),{},{dataStartIndex:j,dataEndIndex:x,updateId:S,graphicalItems:$,stackGroups:q,offset:F}));return J(J({formattedGraphicalItems:re,graphicalItems:$,offset:F,stackGroups:q},X),U)},g=function(w){function y(_){var b,j,x;return D0e(this,y),x=L0e(this,y,[_]),Ae(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(x,"accessibilityManager",new w0e),Ae(x,"handleLegendBBoxUpdate",function(S){if(S){var T=x.state,k=T.dataStartIndex,E=T.dataEndIndex,I=T.updateId;x.setState(J({legendBBox:S},m({props:x.props,dataStartIndex:k,dataEndIndex:E,updateId:I},J(J({},x.state),{},{legendBBox:S}))))}}),Ae(x,"handleReceiveSyncEvent",function(S,T,k){if(x.props.syncId===S){if(k===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(T)}}),Ae(x,"handleBrushChange",function(S){var T=S.startIndex,k=S.endIndex;if(T!==x.state.dataStartIndex||k!==x.state.dataEndIndex){var E=x.state.updateId;x.setState(function(){return J({dataStartIndex:T,dataEndIndex:k},m({props:x.props,dataStartIndex:T,dataEndIndex:k,updateId:E},x.state))}),x.triggerSyncEvent({dataStartIndex:T,dataEndIndex:k})}}),Ae(x,"handleMouseEnter",function(S){var T=x.getMouseInfo(S);if(T){var k=J(J({},T),{},{isTooltipActive:!0});x.setState(k),x.triggerSyncEvent(k);var E=x.props.onMouseEnter;je(E)&&E(k,S)}}),Ae(x,"triggeredAfterMouseMove",function(S){var T=x.getMouseInfo(S),k=T?J(J({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(k),x.triggerSyncEvent(k);var E=x.props.onMouseMove;je(E)&&E(k,S)}),Ae(x,"handleItemMouseEnter",function(S){x.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ae(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Ae(x,"handleMouseMove",function(S){S.persist(),x.throttleTriggeredAfterMouseMove(S)}),Ae(x,"handleMouseLeave",function(S){x.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var k=x.props.onMouseLeave;je(k)&&k(T,S)}),Ae(x,"handleOuterEvent",function(S){var T=wX(S),k=gn(x.props,"".concat(T));if(T&&je(k)){var E,I;/.*touch.*/i.test(T)?I=x.getMouseInfo(S.changedTouches[0]):I=x.getMouseInfo(S),k((E=I)!==null&&E!==void 0?E:{},S)}}),Ae(x,"handleClick",function(S){var T=x.getMouseInfo(S);if(T){var k=J(J({},T),{},{isTooltipActive:!0});x.setState(k),x.triggerSyncEvent(k);var E=x.props.onClick;je(E)&&E(k,S)}}),Ae(x,"handleMouseDown",function(S){var T=x.props.onMouseDown;if(je(T)){var k=x.getMouseInfo(S);T(k,S)}}),Ae(x,"handleMouseUp",function(S){var T=x.props.onMouseUp;if(je(T)){var k=x.getMouseInfo(S);T(k,S)}}),Ae(x,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ae(x,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseDown(S.changedTouches[0])}),Ae(x,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseUp(S.changedTouches[0])}),Ae(x,"handleDoubleClick",function(S){var T=x.props.onDoubleClick;if(je(T)){var k=x.getMouseInfo(S);T(k,S)}}),Ae(x,"handleContextMenu",function(S){var T=x.props.onContextMenu;if(je(T)){var k=x.getMouseInfo(S);T(k,S)}}),Ae(x,"triggerSyncEvent",function(S){x.props.syncId!==void 0&&Qx.emit(Jx,x.props.syncId,S,x.eventEmitterSymbol)}),Ae(x,"applySyncEvent",function(S){var T=x.props,k=T.layout,E=T.syncMethod,I=x.state.updateId,O=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)x.setState(J({dataStartIndex:O,dataEndIndex:P},m({props:x.props,dataStartIndex:O,dataEndIndex:P,updateId:I},x.state)));else if(S.activeTooltipIndex!==void 0){var C=S.chartX,L=S.chartY,$=S.activeTooltipIndex,q=x.state,U=q.offset,F=q.tooltipTicks;if(!U)return;if(typeof E=="function")$=E(F,S);else if(E==="value"){$=-1;for(var z=0;z<F.length;z++)if(F[z].value===S.activeLabel){$=z;break}}var X=J(J({},U),{},{x:U.left,y:U.top}),re=Math.min(C,X.x+X.width),V=Math.min(L,X.y+X.height),Y=F[$]&&F[$].value,Z=l1(x.state,x.props.data,$),ee=F[$]?{x:k==="horizontal"?F[$].coordinate:re,y:k==="horizontal"?V:F[$].coordinate}:d3;x.setState(J(J({},S),{},{activeLabel:Y,activeCoordinate:ee,activePayload:Z,activeTooltipIndex:$}))}else x.setState(S)}),Ae(x,"renderCursor",function(S){var T,k=x.state,E=k.isTooltipActive,I=k.activeCoordinate,O=k.activePayload,P=k.offset,C=k.activeTooltipIndex,L=k.tooltipAxisBandSize,$=x.getTooltipEventType(),q=(T=S.props.active)!==null&&T!==void 0?T:E,U=x.props.layout,F=S.key||"_recharts-cursor";return M.createElement(j0e,{key:F,activeCoordinate:I,activePayload:O,activeTooltipIndex:C,chartName:r,element:S,isActive:q,layout:U,offset:P,tooltipAxisBandSize:L,tooltipEventType:$})}),Ae(x,"renderPolarAxis",function(S,T,k){var E=gn(S,"type.axisType"),I=gn(x.state,"".concat(E,"Map")),O=S.type.defaultProps,P=O!==void 0?J(J({},O),S.props):S.props,C=I&&I[P["".concat(E,"Id")]];return R.cloneElement(S,J(J({},C),{},{className:Fe(E,C.className),key:S.key||"".concat(T,"-").concat(k),ticks:Gi(C,!0)}))}),Ae(x,"renderPolarGrid",function(S){var T=S.props,k=T.radialLines,E=T.polarAngles,I=T.polarRadius,O=x.state,P=O.radiusAxisMap,C=O.angleAxisMap,L=Ba(P),$=Ba(C),q=$.cx,U=$.cy,F=$.innerRadius,z=$.outerRadius;return R.cloneElement(S,{polarAngles:Array.isArray(E)?E:Gi($,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(I)?I:Gi(L,!0).map(function(X){return X.coordinate}),cx:q,cy:U,innerRadius:F,outerRadius:z,key:S.key||"polar-grid",radialLines:k})}),Ae(x,"renderLegend",function(){var S=x.state.formattedGraphicalItems,T=x.props,k=T.children,E=T.width,I=T.height,O=x.props.margin||{},P=E-(O.left||0)-(O.right||0),C=F4({children:k,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!C)return null;var L=C.item,$=SC(C,P0e);return R.cloneElement(L,J(J({},$),{},{chartWidth:E,chartHeight:I,margin:O,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Ae(x,"renderTooltip",function(){var S,T=x.props,k=T.children,E=T.accessibilityLayer,I=un(k,Lr);if(!I)return null;var O=x.state,P=O.isTooltipActive,C=O.activeCoordinate,L=O.activePayload,$=O.activeLabel,q=O.offset,U=(S=I.props.active)!==null&&S!==void 0?S:P;return R.cloneElement(I,{viewBox:J(J({},q),{},{x:q.left,y:q.top}),active:U,label:$,payload:U?L:[],coordinate:C,accessibilityLayer:E})}),Ae(x,"renderBrush",function(S){var T=x.props,k=T.margin,E=T.data,I=x.state,O=I.offset,P=I.dataStartIndex,C=I.dataEndIndex,L=I.updateId;return R.cloneElement(S,{key:S.key||"_recharts-brush",onChange:xp(x.handleBrushChange,S.props.onChange),data:E,x:le(S.props.x)?S.props.x:O.left,y:le(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:le(S.props.width)?S.props.width:O.width,startIndex:P,endIndex:C,updateId:"brush-".concat(L)})}),Ae(x,"renderReferenceElement",function(S,T,k){if(!S)return null;var E=x,I=E.clipPathId,O=x.state,P=O.xAxisMap,C=O.yAxisMap,L=O.offset,$=S.type.defaultProps||{},q=S.props,U=q.xAxisId,F=U===void 0?$.xAxisId:U,z=q.yAxisId,X=z===void 0?$.yAxisId:z;return R.cloneElement(S,{key:S.key||"".concat(T,"-").concat(k),xAxis:P[F],yAxis:C[X],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),Ae(x,"renderActivePoints",function(S){var T=S.item,k=S.activePoint,E=S.basePoint,I=S.childIndex,O=S.isRange,P=[],C=T.props.key,L=T.item.type.defaultProps!==void 0?J(J({},T.item.type.defaultProps),T.item.props):T.item.props,$=L.activeDot,q=L.dataKey,U=J(J({index:I,dataKey:q,cx:k.x,cy:k.y,r:4,fill:vT(T.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Te($,!1)),Km($));return P.push(y.renderActiveDot($,U,"".concat(C,"-activePoint-").concat(I))),E?P.push(y.renderActiveDot($,J(J({},U),{},{cx:E.x,cy:E.y}),"".concat(C,"-basePoint-").concat(I))):O&&P.push(null),P}),Ae(x,"renderGraphicChild",function(S,T,k){var E=x.filterFormatItem(S,T,k);if(!E)return null;var I=x.getTooltipEventType(),O=x.state,P=O.isTooltipActive,C=O.tooltipAxis,L=O.activeTooltipIndex,$=O.activeLabel,q=x.props.children,U=un(q,Lr),F=E.props,z=F.points,X=F.isRange,re=F.baseLine,V=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,Y=V.activeDot,Z=V.hide,ee=V.activeBar,we=V.activeShape,ge=!!(!Z&&P&&U&&(Y||ee||we)),Le={};I!=="axis"&&U&&U.props.trigger==="click"?Le={onClick:xp(x.handleItemMouseEnter,S.props.onClick)}:I!=="axis"&&(Le={onMouseLeave:xp(x.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:xp(x.handleItemMouseEnter,S.props.onMouseEnter)});var G=R.cloneElement(S,J(J({},E.props),Le));function K(Be){return typeof C.dataKey=="function"?C.dataKey(Be.payload):null}if(ge)if(L>=0){var W,B;if(C.dataKey&&!C.allowDuplicatedCategory){var ne=typeof C.dataKey=="function"?K:"payload.".concat(C.dataKey.toString());W=Um(z,ne,$),B=X&&re&&Um(re,ne,$)}else W=z==null?void 0:z[L],B=X&&re&&re[L];if(we||ee){var ae=S.props.activeIndex!==void 0?S.props.activeIndex:L;return[R.cloneElement(S,J(J(J({},E.props),Le),{},{activeIndex:ae})),null,null]}if(!Me(W))return[G].concat(Ec(x.renderActivePoints({item:E,activePoint:W,basePoint:B,childIndex:L,isRange:X})))}else{var pe,Ce=(pe=x.getItemByXY(x.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:G},Ve=Ce.graphicalItem,Ye=Ve.item,se=Ye===void 0?S:Ye,de=Ve.childIndex,Se=J(J(J({},E.props),Le),{},{activeIndex:de});return[R.cloneElement(se,Se),null,null]}return X?[G,null,null]:[G,null]}),Ae(x,"renderCustomized",function(S,T,k){return R.cloneElement(S,J(J({key:"recharts-customized-".concat(k)},x.props),x.state))}),Ae(x,"renderMap",{CartesianGrid:{handler:Tp,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Tp},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Tp},YAxis:{handler:Tp},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:Hc("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=VL(x.triggeredAfterMouseMove,(j=_.throttleDelay)!==null&&j!==void 0?j:1e3/60),x.state={},x}return B0e(y,w),$0e(y,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,x=b.data,S=b.height,T=b.layout,k=un(j,Lr);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=l1(this.state,x,E,I),P=this.state.tooltipTicks[E].coordinate,C=(this.state.offset.top+S)/2,L=T==="horizontal",$=L?{x:P,y:C}:{y:P,x:C},q=this.state.formattedGraphicalItems.find(function(F){var z=F.item;return z.type.name==="Scatter"});q&&($=J(J({},$),q.props.points[E].tooltipPosition),O=q.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:$};this.setState(U),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var x,S;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Lb([un(b.children,Lr)],[un(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=un(this.props.children,Lr);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return s.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,x=j.getBoundingClientRect(),S=Goe(x),T={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},k=x.width/j.offsetWidth||1,E=this.inRange(T.chartX,T.chartY,k);if(!E)return null;var I=this.state,O=I.xAxisMap,P=I.yAxisMap,C=this.getTooltipEventType(),L=kC(this.state,this.props.data,this.props.layout,E);if(C!=="axis"&&O&&P){var $=Ba(O).scale,q=Ba(P).scale,U=$&&$.invert?$.invert(T.chartX):null,F=q&&q.invert?q.invert(T.chartY):null;return J(J({},T),{},{xValue:U,yValue:F},L)}return L?J(J({},T),L):null}},{key:"inRange",value:function(b,j){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,T=b/x,k=j/x;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,I=T>=E.left&&T<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return I?{x:T,y:k}:null}var O=this.state,P=O.angleAxisMap,C=O.radiusAxisMap;if(P&&C){var L=Ba(P);return QN({x:T,y:k},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),x=un(b,Lr),S={};x&&j==="axis"&&(x.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Km(this.props,this.handleOuterEvent);return J(J({},T),S)}},{key:"addListener",value:function(){Qx.on(Jx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qx.removeListener(Jx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,x){for(var S=this.state.formattedGraphicalItems,T=0,k=S.length;T<k;T++){var E=S[T];if(E.item===b||E.props.key===b.key||j===Ji(E.item.type)&&x===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,x=j.left,S=j.top,T=j.height,k=j.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x,y:S,height:T,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,x){var S=_C(x,2),T=S[0],k=S[1];return J(J({},j),{},Ae({},T,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,x){var S=_C(x,2),T=S[0],k=S[1];return J(J({},j),{},Ae({},T,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,x=j.formattedGraphicalItems,S=j.activeItem;if(x&&x.length)for(var T=0,k=x.length;T<k;T++){var E=x[T],I=E.props,O=E.item,P=O.type.defaultProps!==void 0?J(J({},O.type.defaultProps),O.props):O.props,C=Ji(O.type);if(C==="Bar"){var L=(I.data||[]).find(function(F){return Npe(b,F)});if(L)return{graphicalItem:E,payload:L}}else if(C==="RadialBar"){var $=(I.data||[]).find(function(F){return QN(b,F)});if($)return{graphicalItem:E,payload:$}}else if(my(E,S)||gy(E,S)||jf(E,S)){var q=yge({graphicalItem:E,activeTooltipItem:S,itemData:P.data}),U=P.activeIndex===void 0?q:P.activeIndex;return{graphicalItem:J(J({},E),{},{childIndex:U}),payload:jf(E,S)?P.data[q]:E.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!Bj(this))return null;var j=this.props,x=j.children,S=j.className,T=j.width,k=j.height,E=j.style,I=j.compact,O=j.title,P=j.desc,C=SC(j,N0e),L=Te(C,!1);if(I)return M.createElement(aC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Fb,xl({},L,{width:T,height:k,title:O,desc:P}),this.renderClipPath(),Uj(x,this.renderMap)));if(this.props.accessibilityLayer){var $,q;L.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,L.role=(q=this.props.role)!==null&&q!==void 0?q:"application",L.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){b.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(aC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",xl({className:Fe("recharts-wrapper",S),style:J({position:"relative",cursor:"default",width:T,height:k},E)},U,{ref:function(z){b.container=z}}),M.createElement(Fb,xl({},L,{width:T,height:k,title:O,desc:P,style:H0e}),this.renderClipPath(),Uj(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Ae(g,"displayName",r),Ae(g,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ae(g,"getDerivedStateFromProps",function(w,y){var _=w.dataKey,b=w.data,j=w.children,x=w.width,S=w.height,T=w.layout,k=w.stackOffset,E=w.margin,I=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var P=AC(w);return J(J(J({},P),{},{updateId:0},m(J(J({props:w},P),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:b,prevWidth:x,prevHeight:S,prevLayout:T,prevStackOffset:k,prevMargin:E,prevChildren:j})}if(_!==y.prevDataKey||b!==y.prevData||x!==y.prevWidth||S!==y.prevHeight||T!==y.prevLayout||k!==y.prevStackOffset||!Ml(E,y.prevMargin)){var C=AC(w),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=J(J({},kC(y,b,T)),{},{updateId:y.updateId+1}),q=J(J(J({},C),L),$);return J(J(J({},q),m(J({props:w},q),y)),{},{prevDataKey:_,prevData:b,prevWidth:x,prevHeight:S,prevLayout:T,prevStackOffset:k,prevMargin:E,prevChildren:j})}if(!Lb(j,y.prevChildren)){var U,F,z,X,re=un(j,vc),V=re&&(U=(F=re.props)===null||F===void 0?void 0:F.startIndex)!==null&&U!==void 0?U:I,Y=re&&(z=(X=re.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:O,Z=V!==I||Y!==O,ee=!Me(b),we=ee&&!Z?y.updateId:y.updateId+1;return J(J({updateId:we},m(J(J({props:w},y),{},{updateId:we,dataStartIndex:V,dataEndIndex:Y}),y)),{},{prevChildren:j,dataStartIndex:V,dataEndIndex:Y})}return null}),Ae(g,"renderActiveDot",function(w,y,_){var b;return R.isValidElement(w)?b=R.cloneElement(w,y):je(w)?b=w(y):b=M.createElement(uy,y),M.createElement(Ge,{className:"recharts-active-dot",key:_},b)});var v=R.forwardRef(function(y,_){return M.createElement(g,xl({},y,{ref:_}))});return v.displayName=g.displayName,v},e0=jT({chartName:"BarChart",GraphicalChild:ta,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:lo}],formatAxisMap:PV}),h3=jT({chartName:"PieChart",GraphicalChild:Ii,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:py},{axisType:"radiusAxis",AxisComp:fy}],formatAxisMap:Kde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nbe=jT({chartName:"AreaChart",GraphicalChild:Po,axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:lo}],formatAxisMap:PV});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ibe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p3=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var abe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const obe=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>R.createElement("svg",{ref:l,...abe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:p3("lucide",i),...s},[...o.map(([u,d])=>R.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const r=R.forwardRef(({className:n,...i},a)=>R.createElement(obe,{ref:a,iconNode:e,className:p3(`lucide-${ibe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sbe=fe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lbe=fe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cbe=fe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ube=fe("BarChartHorizontal",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dbe=fe("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=fe("BookUser",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fbe=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pbe=fe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=fe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mbe=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gbe=fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vbe=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ybe=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=fe("FileOutput",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bbe=fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=fe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=fe("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sbe=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tbe=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kbe=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Abe=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ebe=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=fe("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=fe("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jbe=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=fe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=fe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=fe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=fe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pbe=fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nbe=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cbe=fe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ibe=fe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Obe=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=fe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),OT=R.createContext({});function RT(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const DT=typeof window<"u",O3=DT?R.useLayoutEffect:R.useEffect,Sy=R.createContext(null);function MT(t,e){t.indexOf(e)===-1&&t.push(e)}function $T(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ma=(t,e,r)=>r>e?e:r<t?t:r;let LT=()=>{};const ga={},R3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function D3(t){return typeof t=="object"&&t!==null}const M3=t=>/^0[^.\s]+$/u.test(t);function VT(t){let e;return()=>(e===void 0&&(e=t()),e)}const $n=t=>t,Rbe=(t,e)=>r=>e(t(r)),wh=(...t)=>t.reduce(Rbe),Df=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class FT{constructor(){this.subscriptions=[]}add(e){return MT(this.subscriptions,e),()=>$T(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=t=>t*1e3,ki=t=>t/1e3;function $3(t,e){return e?t*(1e3/e):0}const L3=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Dbe=1e-7,Mbe=12;function $be(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=L3(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>Dbe&&++s<Mbe);return o}function _h(t,e,r,n){if(t===e&&r===n)return $n;const i=a=>$be(a,0,1,t,r);return a=>a===0||a===1?a:L3(i(a),e,n)}const V3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,F3=t=>e=>1-t(1-e),B3=_h(.33,1.53,.69,.99),BT=F3(B3),z3=V3(BT),U3=t=>(t*=2)<1?.5*BT(t):.5*(2-Math.pow(2,-10*(t-1))),zT=t=>1-Math.sin(Math.acos(t)),K3=F3(zT),q3=V3(zT),Lbe=_h(.42,0,1,1),Vbe=_h(0,0,.58,1),W3=_h(.42,0,.58,1),Fbe=t=>Array.isArray(t)&&typeof t[0]!="number",H3=t=>Array.isArray(t)&&typeof t[0]=="number",Bbe={linear:$n,easeIn:Lbe,easeInOut:W3,easeOut:Vbe,circIn:zT,circInOut:q3,circOut:K3,backIn:BT,backInOut:z3,backOut:B3,anticipate:U3},zbe=t=>typeof t=="string",CC=t=>{if(H3(t)){LT(t.length===4);const[e,r,n,i]=t;return _h(e,r,n,i)}else if(zbe(t))return Bbe[t];return t},kp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],IC={value:null};function Ube(t,e){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){o.has(f)&&(d.schedule(f),t()),l++,f(s)}const d={schedule:(f,h=!1,m=!1)=>{const v=m&&i?r:n;return h&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(s=f,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),e&&IC.value&&IC.value.frameloop[e].push(l),l=0,r.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const Kbe=40;function G3(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=kp.reduce((b,j)=>(b[j]=Ube(a,e?j:void 0),b),{}),{setup:s,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=o,v=()=>{const b=ga.useManualTiming?i.timestamp:performance.now();r=!1,ga.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,Kbe),1)),i.timestamp=b,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},w=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:kp.reduce((b,j)=>{const x=o[j];return b[j]=(S,T=!1,k=!1)=>(r||w(),x.schedule(S,T,k)),b},{}),cancel:b=>{for(let j=0;j<kp.length;j++)o[kp[j]].cancel(b)},state:i,steps:o}}const{schedule:kt,cancel:vo,state:hr,steps:r0}=G3(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let em;function qbe(){em=void 0}const tn={now:()=>(em===void 0&&tn.set(hr.isProcessing||ga.useManualTiming?hr.timestamp:performance.now()),em),set:t=>{em=t,queueMicrotask(qbe)}},Y3=t=>e=>typeof e=="string"&&e.startsWith(t),UT=Y3("--"),Wbe=Y3("var(--"),KT=t=>Wbe(t)?Hbe.test(t.split("/*")[0].trim()):!1,Hbe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mf={...nu,transform:t=>ma(0,1,t)},Ap={...nu,default:1},xd=t=>Math.round(t*1e5)/1e5,qT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gbe(t){return t==null}const Ybe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,WT=(t,e)=>r=>!!(typeof r=="string"&&Ybe.test(r)&&r.startsWith(t)||e&&!Gbe(r)&&Object.prototype.hasOwnProperty.call(r,e)),X3=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,s]=n.match(qT);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Xbe=t=>ma(0,255,t),n0={...nu,transform:t=>Math.round(Xbe(t))},ns={test:WT("rgb","red"),parse:X3("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+n0.transform(t)+", "+n0.transform(e)+", "+n0.transform(r)+", "+xd(Mf.transform(n))+")"};function Qbe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const h1={test:WT("#"),parse:Qbe,transform:ns.transform},Sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ca=Sh("deg"),Ai=Sh("%"),Pe=Sh("px"),Jbe=Sh("vh"),Zbe=Sh("vw"),OC={...Ai,parse:t=>Ai.parse(t)/100,transform:t=>Ai.transform(t*100)},bl={test:WT("hsl","hue"),parse:X3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ai.transform(xd(e))+", "+Ai.transform(xd(r))+", "+xd(Mf.transform(n))+")"},zt={test:t=>ns.test(t)||h1.test(t)||bl.test(t),parse:t=>ns.test(t)?ns.parse(t):bl.test(t)?bl.parse(t):h1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ns.transform(t):bl.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},ewe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function twe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qT))==null?void 0:e.length)||0)+(((r=t.match(ewe))==null?void 0:r.length)||0)>0}const Q3="number",J3="color",rwe="var",nwe="var(",RC="${}",iwe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $f(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const s=e.replace(iwe,l=>(zt.test(l)?(n.color.push(a),i.push(J3),r.push(zt.parse(l))):l.startsWith(nwe)?(n.var.push(a),i.push(rwe),r.push(l)):(n.number.push(a),i.push(Q3),r.push(parseFloat(l))),++a,RC)).split(RC);return{values:r,split:s,indexes:n,types:i}}function Z3(t){return $f(t).values}function e6(t){const{split:e,types:r}=$f(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const s=r[o];s===Q3?a+=xd(i[o]):s===J3?a+=zt.transform(i[o]):a+=i[o]}return a}}const awe=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function owe(t){const e=Z3(t);return e6(t)(e.map(awe))}const yo={test:twe,parse:Z3,createTransformer:e6,getAnimatableNone:owe};function i0(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function swe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=i0(l,s,t+1/3),a=i0(l,s,t),o=i0(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function qg(t,e){return r=>r>0?e:t}const jt=(t,e,r)=>t+(e-t)*r,a0=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},lwe=[h1,ns,bl],cwe=t=>lwe.find(e=>e.test(t));function DC(t){const e=cwe(t);if(!e)return!1;let r=e.parse(t);return e===bl&&(r=swe(r)),r}const MC=(t,e)=>{const r=DC(t),n=DC(e);if(!r||!n)return qg(t,e);const i={...r};return a=>(i.red=a0(r.red,n.red,a),i.green=a0(r.green,n.green,a),i.blue=a0(r.blue,n.blue,a),i.alpha=jt(r.alpha,n.alpha,a),ns.transform(i))},p1=new Set(["none","hidden"]);function uwe(t,e){return p1.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function dwe(t,e){return r=>jt(t,e,r)}function HT(t){return typeof t=="number"?dwe:typeof t=="string"?KT(t)?qg:zt.test(t)?MC:pwe:Array.isArray(t)?t6:typeof t=="object"?zt.test(t)?MC:fwe:qg}function t6(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>HT(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function fwe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=HT(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function hwe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][n[a]],s=t.values[o]??0;r[i]=s,n[a]++}return r}const pwe=(t,e)=>{const r=yo.createTransformer(e),n=$f(t),i=$f(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?p1.has(t)&&!i.values.length||p1.has(e)&&!n.values.length?uwe(t,e):wh(t6(hwe(n,i),i.values),r):qg(t,e)};function r6(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?jt(t,e,r):HT(t)(t,e)}const mwe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kt.update(e,r),stop:()=>vo(e),now:()=>hr.isProcessing?hr.timestamp:tn.now()}},n6=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Wg=2e4;function GT(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Wg;)e+=r,n=t.next(e);return e>=Wg?1/0:e}function gwe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(GT(n),Wg);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:ki(i)}}const vwe=5;function i6(t,e,r){const n=Math.max(e-vwe,0);return $3(r-t(n),e-n)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},o0=.001;function ywe({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:r=Ot.velocity,mass:n=Ot.mass}){let i,a,o=1-e;o=ma(Ot.minDamping,Ot.maxDamping,o),t=ma(Ot.minDuration,Ot.maxDuration,ki(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-r,m=m1(u,o),g=Math.exp(-f);return o0-h/m*g},a=u=>{const f=u*o*t,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),v=m1(Math.pow(u,2),o);return(-i(u)+o0>0?-1:1)*((h-m)*g)/v}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-o0+d*f},a=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const s=5/t,l=bwe(i,a,s);if(t=Ti(t),isNaN(l))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const xwe=12;function bwe(t,e,r){let n=r;for(let i=1;i<xwe;i++)n=n-t(n)/e(n);return n}function m1(t,e){return t*Math.sqrt(1-e*e)}const wwe=["duration","bounce"],_we=["stiffness","damping","mass"];function $C(t,e){return e.some(r=>t[r]!==void 0)}function Swe(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!$C(t,_we)&&$C(t,wwe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*ma(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ot.mass,stiffness:i,damping:a}}else{const r=ywe(t);e={...e,...r,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function Hg(t=Ot.visualDuration,e=Ot.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Swe({...r,velocity:-ki(r.velocity||0)}),g=h||0,v=u/(2*Math.sqrt(l*d)),w=o-a,y=ki(Math.sqrt(l/d)),_=Math.abs(w)<5;n||(n=_?Ot.restSpeed.granular:Ot.restSpeed.default),i||(i=_?Ot.restDelta.granular:Ot.restDelta.default);let b;if(v<1){const x=m1(y,v);b=S=>{const T=Math.exp(-v*y*S);return o-T*((g+v*y*w)/x*Math.sin(x*S)+w*Math.cos(x*S))}}else if(v===1)b=x=>o-Math.exp(-y*x)*(w+(g+y*w)*x);else{const x=y*Math.sqrt(v*v-1);b=S=>{const T=Math.exp(-v*y*S),k=Math.min(x*S,300);return o-T*((g+v*y*w)*Math.sinh(k)+x*w*Math.cosh(k))/x}}const j={calculatedDuration:m&&f||null,next:x=>{const S=b(x);if(m)s.done=x>=f;else{let T=x===0?g:0;v<1&&(T=x===0?Ti(g):i6(b,x,S));const k=Math.abs(T)<=n,E=Math.abs(o-S)<=i;s.done=k&&E}return s.value=s.done?o:S,s},toString:()=>{const x=Math.min(GT(j),Wg),S=n6(T=>j.next(x*T).value,x,30);return x+"ms "+S},toTransition:()=>{}};return j}Hg.applyToOptions=t=>{const e=gwe(t,100,Hg);return t.ease=e.ease,t.duration=Ti(e.duration),t.type="keyframes",t};function g1({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=k=>s!==void 0&&k<s||l!==void 0&&k>l,g=k=>s===void 0?l:l===void 0||Math.abs(s-k)<Math.abs(l-k)?s:l;let v=r*e;const w=f+v,y=o===void 0?w:o(w);y!==w&&(v=y-f);const _=k=>-v*Math.exp(-k/n),b=k=>y+_(k),j=k=>{const E=_(k),I=b(k);h.done=Math.abs(E)<=u,h.value=h.done?y:I};let x,S;const T=k=>{m(h.value)&&(x=k,S=Hg({keyframes:[h.value,g(h.value)],velocity:i6(b,k,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:k=>{let E=!1;return!S&&x===void 0&&(E=!0,j(k),T(k)),x!==void 0&&k>=x?S.next(k-x):(!E&&j(k),h)}}}function Twe(t,e,r){const n=[],i=r||ga.mix||r6,a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||$n:e;s=wh(l,s)}n.push(s)}return n}function kwe(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(LT(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Twe(e,n,i),l=s.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Df(t[f],t[f+1],d);return s[f](h)};return r?d=>u(ma(t[0],t[a-1],d)):u}function Awe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Df(0,e,n);t.push(jt(r,1,i))}}function Ewe(t){const e=[0];return Awe(e,t.length-1),e}function jwe(t,e){return t.map(r=>r*e)}function Pwe(t,e){return t.map(()=>e||W3).splice(0,t.length-1)}function bd({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Fbe(n)?n.map(CC):CC(n),a={done:!1,value:e[0]},o=jwe(r&&r.length===e.length?r:Ewe(e),t),s=kwe(o,e,{ease:Array.isArray(i)?i:Pwe(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}const Nwe=t=>t!==null;function YT(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(Nwe),s=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!s||n===void 0?a[s]:n}const Cwe={decay:g1,inertia:g1,tween:bd,keyframes:bd,spring:Hg};function a6(t){typeof t.type=="string"&&(t.type=Cwe[t.type])}class XT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Iwe=t=>t/100;class QT extends XT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;a6(e);const{type:r=bd,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:s}=e;const l=r||bd;l!==bd&&typeof s[0]!="number"&&(this.mixKeyframes=wh(Iwe,r6(s[0],s[1])),s=[0,100]);const u=l({...e,keyframes:s});a==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...s].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=GT(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=n;if(f){const k=Math.min(this.currentTime,i)/s;let E=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(I=1-I,m&&(I-=m/s)):h==="mirror"&&(j=o)),b=ma(0,1,I)*s}const x=_?{done:!1,value:d[0]}:j.next(b);a&&(x.value=a(x.value));let{done:S}=x;!_&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&g!==g1&&(x.value=YT(d,this.options,w,this.speed)),v&&v(x.value),T&&this.finish(),x}then(e,r){return this.finished.then(e,r)}get duration(){return ki(this.calculatedDuration)}get time(){return ki(this.currentTime)}set time(e){var r;e=Ti(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ki(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=mwe,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Owe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const is=t=>t*180/Math.PI,v1=t=>{const e=is(Math.atan2(t[1],t[0]));return y1(e)},Rwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:v1,rotateZ:v1,skewX:t=>is(Math.atan(t[1])),skewY:t=>is(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},y1=t=>(t=t%360,t<0&&(t+=360),t),LC=v1,VC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Dwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VC,scaleY:FC,scale:t=>(VC(t)+FC(t))/2,rotateX:t=>y1(is(Math.atan2(t[6],t[5]))),rotateY:t=>y1(is(Math.atan2(-t[2],t[0]))),rotateZ:LC,rotate:LC,skewX:t=>is(Math.atan(t[4])),skewY:t=>is(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function x1(t){return t.includes("scale")?1:0}function b1(t,e){if(!t||t==="none")return x1(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Dwe,i=r;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Rwe,i=s}if(!i)return x1(e);const a=n[e],o=i[1].split(",").map($we);return typeof a=="function"?a(o):o[a]}const Mwe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return b1(r,e)};function $we(t){return parseFloat(t.trim())}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],au=new Set(iu),BC=t=>t===nu||t===Pe,Lwe=new Set(["x","y","z"]),Vwe=iu.filter(t=>!Lwe.has(t));function Fwe(t){const e=[];return Vwe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ps={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>b1(e,"x"),y:(t,{transform:e})=>b1(e,"y")};ps.translateX=ps.x;ps.translateY=ps.y;const ms=new Set;let w1=!1,_1=!1,S1=!1;function o6(){if(_1){const t=Array.from(ms).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Fwe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var s;(s=n.getValue(a))==null||s.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_1=!1,w1=!1,ms.forEach(t=>t.complete(S1)),ms.clear()}function s6(){ms.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_1=!0)})}function Bwe(){S1=!0,s6(),o6(),S1=!1}class JT{constructor(e,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ms.add(this),w1||(w1=!0,kt.read(s6),kt.resolveKeyframes(o6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const s=n.readValue(r,o);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}Owe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ms.delete(this)}cancel(){this.state==="scheduled"&&(ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zwe=t=>t.startsWith("--");function Uwe(t,e,r){zwe(e)?t.style.setProperty(e,r):t.style[e]=r}const Kwe=VT(()=>window.ScrollTimeline!==void 0),qwe={};function Wwe(t,e){const r=VT(t);return()=>qwe[e]??r()}const l6=Wwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yu=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,zC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yu([0,.65,.55,1]),circOut:Yu([.55,0,1,.45]),backIn:Yu([.31,.01,.66,-.59]),backOut:Yu([.33,1.53,.69,.99])};function c6(t,e){if(t)return typeof t=="function"?l6()?n6(t,e):"ease-out":H3(t)?Yu(t):Array.isArray(t)?t.map(r=>c6(r,e)||zC.easeOut):zC[t]}function Hwe(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},u=void 0){const d={[e]:r};l&&(d.offset=l);const f=c6(s,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(d,h)}function u6(t){return typeof t=="function"&&"applyToOptions"in t}function Gwe({type:t,...e}){return u6(t)&&l6()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ywe extends XT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,LT(typeof e.type!="string");const u=Gwe(e);this.animation=Hwe(r,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=YT(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(d):Uwe(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ki(Number(e))}get time(){return ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ti(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Kwe()?(this.animation.timeline=e,$n):r(this)}}const d6={anticipate:U3,backInOut:z3,circInOut:q3};function Xwe(t){return t in d6}function Qwe(t){typeof t.ease=="string"&&Xwe(t.ease)&&(t.ease=d6[t.ease])}const UC=10;class Jwe extends Ywe{constructor(e){Qwe(e),a6(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const s=new QT({...o,autoplay:!1}),l=Ti(this.finishedTime??this.time);r.setWithVelocity(s.sample(l-UC).value,s.sample(l).value,UC),s.stop()}}const KC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yo.test(t)||t==="0")&&!t.startsWith("url("));function Zwe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function e1e(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=KC(i,e),s=KC(a,e);return!o||!s?!1:Zwe(t)||(r==="spring"||u6(r))&&n}const t1e=new Set(["opacity","clipPath","filter","transform"]),r1e=VT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n1e(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return r1e()&&r&&t1e.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const i1e=40;class a1e extends XT{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:s,name:l,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=tn.now();const h={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:l,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||JT;this.keyframeResolver=new m(s,(v,w,y)=>this.onKeyframesResolved(v,w,h,!y),l,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:s,delay:l,isHandoff:u,onUpdate:d}=n;this.resolvedAt=tn.now(),e1e(e,a,o,s)||((ga.instantAnimations||!l)&&(d==null||d(YT(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>i1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!u&&n1e(h)?new Jwe({...h,element:h.motionValue.owner.current}):new QT(h);m.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Bwe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const o1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s1e(t){const e=o1e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function f6(t,e,r=1){const[n,i]=s1e(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return R3(o)?parseFloat(o):o}return KT(i)?f6(i,e,r+1):i}function ZT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const h6=new Set(["width","height","top","left","right","bottom",...iu]),l1e={test:t=>t==="auto",parse:t=>t},p6=t=>e=>e.test(t),m6=[nu,Pe,Ai,Ca,Zbe,Jbe,l1e],qC=t=>m6.find(p6(t));function c1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M3(t):!0}const u1e=new Set(["brightness","contrast","saturate","opacity"]);function d1e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(qT)||[];if(!n)return t;const i=r.replace(n,"");let a=u1e.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const f1e=/\b([a-z-]*)\(.*?\)/gu,T1={...yo,getAnimatableNone:t=>{const e=t.match(f1e);return e?e.map(d1e).join(" "):t}},WC={...nu,transform:Math.round},h1e={rotate:Ca,rotateX:Ca,rotateY:Ca,rotateZ:Ca,scale:Ap,scaleX:Ap,scaleY:Ap,scaleZ:Ap,skew:Ca,skewX:Ca,skewY:Ca,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Mf,originX:OC,originY:OC,originZ:Pe},ek={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...h1e,zIndex:WC,fillOpacity:Mf,strokeOpacity:Mf,numOctaves:WC},p1e={...ek,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:T1,WebkitFilter:T1},g6=t=>p1e[t];function v6(t,e){let r=g6(t);return r!==T1&&(r=yo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const m1e=new Set(["auto","none","0"]);function g1e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!m1e.has(a)&&$f(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=v6(r,i)}class v1e extends JT{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),KT(u))){const d=f6(u,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!h6.has(n)||e.length!==2)return;const[i,a]=e,o=qC(i),s=qC(a);if(o!==s)if(BC(o)&&BC(s))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ps[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||c1e(e[i]))&&n.push(i);n.length&&g1e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ps[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var s;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=ps[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function y1e(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const y6=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function x6(t){return D3(t)&&"offsetHeight"in t}const HC=30,x1e=t=>!isNaN(parseFloat(t));class b1e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var o,s;const a=tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((s=this.events.renderRequest)==null||s.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=x1e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new FT);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,HC);return $3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jc(t,e){return new b1e(t,e)}const{schedule:tk}=G3(queueMicrotask,!1),Gn={x:!1,y:!1};function b6(){return Gn.x||Gn.y}function w1e(t){return t==="x"||t==="y"?Gn[t]?null:(Gn[t]=!0,()=>{Gn[t]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}function w6(t,e){const r=y1e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function GC(t){return!(t.pointerType==="touch"||b6())}function _1e(t,e,r={}){const[n,i,a]=w6(t,r),o=s=>{if(!GC(s))return;const{target:l}=s,u=e(l,s);if(typeof u!="function"||!l)return;const d=f=>{GC(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(s=>{s.addEventListener("pointerenter",o,i)}),a}const _6=(t,e)=>e?t===e?!0:_6(t,e.parentElement):!1,rk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,S1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T1e(t){return S1e.has(t.tagName)||t.tabIndex!==-1}const tm=new WeakSet;function YC(t){return e=>{e.key==="Enter"&&t(e)}}function s0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const k1e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=YC(()=>{if(tm.has(r))return;s0(r,"down");const i=YC(()=>{s0(r,"up")}),a=()=>s0(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function XC(t){return rk(t)&&!b6()}function A1e(t,e,r={}){const[n,i,a]=w6(t,r),o=s=>{const l=s.currentTarget;if(!XC(s))return;tm.add(l);const u=e(l,s),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),tm.has(l)&&tm.delete(l),XC(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,l===window||l===document||r.useGlobalTarget||_6(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(s=>{(r.useGlobalTarget?window:s).addEventListener("pointerdown",o,i),x6(s)&&(s.addEventListener("focus",u=>k1e(u,i)),!T1e(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),a}function S6(t){return D3(t)&&"ownerSVGElement"in t}function E1e(t){return S6(t)&&t.tagName==="svg"}const Ir=t=>!!(t&&t.getVelocity),j1e=[...m6,zt,yo],P1e=t=>j1e.find(p6(t)),nk=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class N1e extends R.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=x6(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function C1e({children:t,isPresent:e,anchorX:r,root:n}){const i=R.useId(),a=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=R.useContext(nk);return R.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(e||!a.current||!l||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=i;const g=document.createElement("style");s&&(g.nonce=s);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.removeChild(g),v.contains(g)&&v.removeChild(g)}},[e]),c.jsx(N1e,{isPresent:e,childRef:a,sizeRef:o,children:R.cloneElement(t,{ref:a})})}const I1e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:l})=>{const u=RT(O1e),d=R.useId();let f=!0,h=R.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return a&&f&&(h={...h}),R.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[r]),R.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=c.jsx(C1e,{isPresent:r,anchorX:s,root:l,children:t})),c.jsx(Sy.Provider,{value:h,children:t})};function O1e(){return new Map}function T6(t=!0){const e=R.useContext(Sy);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=R.useId();R.useEffect(()=>{if(t)return i(a)},[t]);const o=R.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const Ep=t=>t.key||"";function QC(t){const e=[];return R.Children.forEach(t,r=>{R.isValidElement(r)&&e.push(r)}),e}const Lf=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",root:l})=>{const[u,d]=T6(o),f=R.useMemo(()=>QC(t),[t]),h=o&&!u?[]:f.map(Ep),m=R.useRef(!0),g=R.useRef(f),v=RT(()=>new Map),[w,y]=R.useState(f),[_,b]=R.useState(f);O3(()=>{m.current=!1,g.current=f;for(let S=0;S<_.length;S++){const T=Ep(_[S]);h.includes(T)?v.delete(T):v.get(T)!==!0&&v.set(T,!1)}},[_,h.length,h.join("-")]);const j=[];if(f!==w){let S=[...f];for(let T=0;T<_.length;T++){const k=_[T],E=Ep(k);h.includes(E)||(S.splice(T,0,k),j.push(k))}return a==="wait"&&j.length&&(S=j),b(QC(S)),y(f),null}const{forceRender:x}=R.useContext(OT);return c.jsx(c.Fragment,{children:_.map(S=>{const T=Ep(S),k=o&&!u?!1:f===_||h.includes(T),E=()=>{if(v.has(T))v.set(T,!0);else return;let I=!0;v.forEach(O=>{O||(I=!1)}),I&&(x==null||x(),b(g.current),o&&(d==null||d()),n&&n())};return c.jsx(I1e,{isPresent:k,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:k?void 0:E,anchorX:s,children:S},T)})})},k6=R.createContext({strict:!1}),JC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pc={};for(const t in JC)Pc[t]={isEnabled:e=>JC[t].some(r=>!!e[r])};function R1e(t){for(const e in t)Pc[e]={...Pc[e],...t[e]}}const D1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||D1e.has(t)}let A6=t=>!Gg(t);function M1e(t){typeof t=="function"&&(A6=e=>e.startsWith("on")?!Gg(e):t(e))}try{M1e(require("@emotion/is-prop-valid").default)}catch{}function $1e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(A6(i)||r===!0&&Gg(i)||!e&&!Gg(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function L1e(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ty=R.createContext({});function ky(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vf(t){return typeof t=="string"||Array.isArray(t)}const ik=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ak=["initial",...ik];function Ay(t){return ky(t.animate)||ak.some(e=>Vf(t[e]))}function E6(t){return!!(Ay(t)||t.variants)}function V1e(t,e){if(Ay(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Vf(r)?r:void 0,animate:Vf(n)?n:void 0}}return t.inherit!==!1?e:{}}function F1e(t){const{initial:e,animate:r}=V1e(t,R.useContext(Ty));return R.useMemo(()=>({initial:e,animate:r}),[ZC(e),ZC(r)])}function ZC(t){return Array.isArray(t)?t.join(" "):t}const B1e=Symbol.for("motionComponentSymbol");function wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z1e(t,e,r){return R.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):wl(r)&&(r.current=n))},[e])}const ok=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U1e="framerAppearId",j6="data-"+ok(U1e),P6=R.createContext({});function K1e(t,e,r,n,i){var v,w;const{visualElement:a}=R.useContext(Ty),o=R.useContext(k6),s=R.useContext(Sy),l=R.useContext(nk).reducedMotion,u=R.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:a,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=R.useContext(P6);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&q1e(u.current,r,i,f);const h=R.useRef(!1);R.useInsertionEffect(()=>{d&&h.current&&d.update(r,s)});const m=r[j6],g=R.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return O3(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),tk.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),R.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),g.current=!1))}),d}function q1e(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:N6(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&wl(s),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:u})}function N6(t){if(t)return t.options.allowProjection!==!1?t.projection:N6(t.parent)}function W1e({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&R1e(t);function a(s,l){let u;const d={...R.useContext(nk),...s,layoutId:H1e(s)},{isStatic:f}=d,h=F1e(s),m=n(s,f);if(!f&&DT){G1e();const g=Y1e(d);u=g.MeasureLayout,h.visualElement=K1e(i,m,d,e,g.ProjectionNode)}return c.jsxs(Ty.Provider,{value:h,children:[u&&h.visualElement?c.jsx(u,{visualElement:h.visualElement,...d}):null,r(i,s,z1e(m,h.visualElement,l),m,f,h.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=R.forwardRef(a);return o[B1e]=i,o}function H1e({layoutId:t}){const e=R.useContext(OT).id;return e&&t!==void 0?e+"-"+t:t}function G1e(t,e){R.useContext(k6).strict}function Y1e(t){const{drag:e,layout:r}=Pc;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Ff={};function X1e(t){for(const e in t)Ff[e]=t[e],UT(e)&&(Ff[e].isCSSVariable=!0)}function C6(t,{layout:e,layoutId:r}){return au.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ff[t]||t==="opacity")}const Q1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J1e=iu.length;function Z1e(t,e,r){let n="",i=!0;for(let a=0;a<J1e;a++){const o=iu[a],s=t[o];if(s===void 0)continue;let l=!0;if(typeof s=="number"?l=s===(o.startsWith("scale")?1:0):l=parseFloat(s)===0,!l||r){const u=y6(s,ek[o]);if(!l){i=!1;const d=Q1e[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function sk(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,s=!1;for(const l in e){const u=e[l];if(au.has(l)){o=!0;continue}else if(UT(l)){i[l]=u;continue}else{const d=y6(u,ek[l]);l.startsWith("origin")?(s=!0,a[l]=d):n[l]=d}}if(e.transform||(o||r?n.transform=Z1e(e,t.transform,r):n.transform&&(n.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${l} ${u} ${d}`}}const lk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I6(t,e,r){for(const n in e)!Ir(e[n])&&!C6(n,r)&&(t[n]=e[n])}function e_e({transformTemplate:t},e){return R.useMemo(()=>{const r=lk();return sk(r,e,t),Object.assign({},r.vars,r.style)},[e])}function t_e(t,e){const r=t.style||{},n={};return I6(n,r,t),Object.assign(n,e_e(t,e)),n}function r_e(t,e){const r={},n=t_e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const n_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},i_e={offset:"strokeDashoffset",array:"strokeDasharray"};function a_e(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?n_e:i_e;t[a.offset]=Pe.transform(-n);const o=Pe.transform(e),s=Pe.transform(r);t[a.array]=`${o} ${s}`}function O6(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,u,d){if(sk(t,s,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&a_e(f,i,a,o,!1)}const R6=()=>({...lk(),attrs:{}}),D6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o_e(t,e,r,n){const i=R.useMemo(()=>{const a=R6();return O6(a,e,D6(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};I6(a,t.style,t),i.style={...a,...i.style}}return i}const s_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ck(t){return typeof t!="string"||t.includes("-")?!1:!!(s_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function l_e(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(ck(r)?o_e:r_e)(n,a,o,r),u=$1e(n,typeof r=="string",t),d=r!==R.Fragment?{...u,...l,ref:i}:{},{children:f}=n,h=R.useMemo(()=>Ir(f)?f.get():f,[f]);return R.createElement(r,{...d,children:h})}}function eI(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function uk(t,e,r,n){if(typeof e=="function"){const[i,a]=eI(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=eI(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function rm(t){return Ir(t)?t.get():t}function c_e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:u_e(r,n,i,t),renderState:e()}}const M6=t=>(e,r)=>{const n=R.useContext(Ty),i=R.useContext(Sy),a=()=>c_e(t,e,n,i);return r?a():RT(a)};function u_e(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=rm(a[h]);let{initial:o,animate:s}=t;const l=Ay(t),u=E6(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?s:o;if(f&&typeof f!="boolean"&&!ky(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=uk(t,h[m]);if(g){const{transitionEnd:v,transition:w,...y}=g;for(const _ in y){let b=y[_];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[_]=b)}for(const _ in v)i[_]=v[_]}}}return i}function dk(t,e,r){var a;const{style:n}=t,i={};for(const o in n)(Ir(n[o])||e.style&&Ir(e.style[o])||C6(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const d_e={useVisualState:M6({scrapeMotionValuesFromProps:dk,createRenderState:lk})};function $6(t,e,r){const n=dk(t,e,r);for(const i in t)if(Ir(t[i])||Ir(e[i])){const a=iu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}const f_e={useVisualState:M6({scrapeMotionValuesFromProps:$6,createRenderState:R6})};function h_e(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...ck(n)?f_e:d_e,preloadedFeatures:t,useRender:l_e(i),createVisualElement:e,Component:n};return W1e(o)}}function Bf(t,e,r){const n=t.getProps();return uk(n,e,r!==void 0?r:n.custom,t)}const k1=t=>Array.isArray(t);function p_e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,jc(r))}function m_e(t){return k1(t)?t[t.length-1]||0:t}function g_e(t,e){const r=Bf(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const s=m_e(a[o]);p_e(t,o,s)}}function v_e(t){return!!(Ir(t)&&t.add)}function A1(t,e){const r=t.getValue("willChange");if(v_e(r))return r.add(e);if(!r&&ga.WillChange){const n=new ga.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function L6(t){return t.props[j6]}const y_e=t=>t!==null;function x_e(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(y_e),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}const b_e={type:"spring",stiffness:500,damping:25,restSpeed:10},w_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),__e={type:"keyframes",duration:.8},S_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T_e=(t,{keyframes:e})=>e.length>2?__e:au.has(t)?t.startsWith("scale")?w_e(e[1]):b_e:S_e;function k_e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const fk=(t,e,r,n={},i,a)=>o=>{const s=ZT(n,t)||{},l=s.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ti(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:a?void 0:i};k_e(s)||Object.assign(d,T_e(t,d)),d.duration&&(d.duration=Ti(d.duration)),d.repeatDelay&&(d.repeatDelay=Ti(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(ga.instantAnimations||ga.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!s.type&&!s.ease,f&&!a&&e.get()!==void 0){const h=x_e(d.keyframes,s);if(h!==void 0){kt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return s.isSync?new QT(d):new a1e(d)};function A_e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function V6(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=e;n&&(a=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in s){const f=t.getValue(d,t.latestValues[d]??null),h=s[d];if(h===void 0||u&&A_e(u,d))continue;const m={delay:r,...ZT(a||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const y=L6(t);if(y){const _=window.MotionHandoffAnimation(y,d,kt);_!==null&&(m.startTime=_,v=!0)}}A1(t,d),f.start(fk(d,f,h,t.shouldReduceMotion&&h6.has(d)?{type:!1}:m,t,v));const w=f.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{kt.update(()=>{o&&g_e(t,o)})}),l}function E1(t,e,r={}){var l;const n=Bf(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(V6(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return E_e(t,e,u,d,f,h,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[u,d]=s==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function E_e(t,e,r=0,n=0,i=0,a=1,o){const s=[],l=t.variantChildren.size,u=(l-1)*i,d=typeof n=="function",f=d?h=>n(h,l):a===1?(h=0)=>h*i:(h=0)=>u-h*i;return Array.from(t.variantChildren).sort(j_e).forEach((h,m)=>{h.notify("AnimationStart",e),s.push(E1(h,e,{...o,delay:r+(d?0:n)+f(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(s)}function j_e(t,e){return t.sortNodePosition(e)}function P_e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>E1(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=E1(t,e,r);else{const i=typeof e=="function"?Bf(t,e,r.custom):e;n=Promise.all(V6(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function F6(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const N_e=ak.length;function B6(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?B6(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<N_e;r++){const n=ak[r],i=t.props[n];(Vf(i)||i===!1)&&(e[n]=i)}return e}const C_e=[...ik].reverse(),I_e=ik.length;function O_e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>P_e(t,r,n)))}function R_e(t){let e=O_e(t),r=tI(),n=!0;const i=l=>(u,d)=>{var h;const f=Bf(t,d,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...v}=f;u={...u,...v,...g}}return u};function a(l){e=l(t)}function o(l){const{props:u}=t,d=B6(t.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let w=0;w<I_e;w++){const y=C_e[w],_=r[y],b=u[y]!==void 0?u[y]:d[y],j=Vf(b),x=y===l?_.isActive:null;x===!1&&(g=w);let S=b===d[y]&&b!==u[y]&&j;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),_.protectedKeys={...m},!_.isActive&&x===null||!b&&!_.prevProp||ky(b)||typeof b=="boolean")continue;const T=D_e(_.prevProp,b);let k=T||y===l&&_.isActive&&!S&&j||w>g&&j,E=!1;const I=Array.isArray(b)?b:[b];let O=I.reduce(i(y),{});x===!1&&(O={});const{prevResolvedValues:P={}}=_,C={...P,...O},L=U=>{k=!0,h.has(U)&&(E=!0,h.delete(U)),_.needsAnimating[U]=!0;const F=t.getValue(U);F&&(F.liveStyle=!1)};for(const U in C){const F=O[U],z=P[U];if(m.hasOwnProperty(U))continue;let X=!1;k1(F)&&k1(z)?X=!F6(F,z):X=F!==z,X?F!=null?L(U):h.add(U):F!==void 0&&h.has(U)?L(U):_.protectedKeys[U]=!0}_.prevProp=b,_.prevResolvedValues=O,_.isActive&&(m={...m,...O}),n&&t.blockInitialAnimation&&(k=!1),k&&(!(S&&T)||E)&&f.push(...I.map(U=>({animation:U,options:{type:y}})))}if(h.size){const w={};if(typeof u.initial!="boolean"){const y=Bf(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(w.transition=y.transition)}h.forEach(y=>{const _=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),w[y]=_??null}),f.push({animation:w})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(f):Promise.resolve()}function s(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),r[l].isActive=u;const d=o(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r,reset:()=>{r=tI(),n=!0}}}function D_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F6(e,t):!1}function Vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tI(){return{animate:Vo(!0),whileInView:Vo(),whileHover:Vo(),whileTap:Vo(),whileDrag:Vo(),whileFocus:Vo(),exit:Vo()}}class No{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M_e extends No{constructor(e){super(e),e.animationState||(e.animationState=R_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ky(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $_e=0;class L_e extends No{constructor(){super(...arguments),this.id=$_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const V_e={animation:{Feature:M_e},exit:{Feature:L_e}};function zf(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Th(t){return{point:{x:t.pageX,y:t.pageY}}}const F_e=t=>e=>rk(e)&&t(e,Th(e));function wd(t,e,r,n){return zf(t,e,F_e(r),n)}function z6({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function B_e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z_e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const U6=1e-4,U_e=1-U6,K_e=1+U6,K6=.01,q_e=0-K6,W_e=0+K6;function zr(t){return t.max-t.min}function H_e(t,e,r){return Math.abs(t-e)<=r}function rI(t,e,r,n=.5){t.origin=n,t.originPoint=jt(e.min,e.max,t.origin),t.scale=zr(r)/zr(e),t.translate=jt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=U_e&&t.scale<=K_e||isNaN(t.scale))&&(t.scale=1),(t.translate>=q_e&&t.translate<=W_e||isNaN(t.translate))&&(t.translate=0)}function _d(t,e,r,n){rI(t.x,e.x,r.x,n?n.originX:void 0),rI(t.y,e.y,r.y,n?n.originY:void 0)}function nI(t,e,r){t.min=r.min+e.min,t.max=t.min+zr(e)}function G_e(t,e,r){nI(t.x,e.x,r.x),nI(t.y,e.y,r.y)}function iI(t,e,r){t.min=e.min-r.min,t.max=t.min+zr(e)}function Sd(t,e,r){iI(t.x,e.x,r.x),iI(t.y,e.y,r.y)}const aI=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:aI(),y:aI()}),oI=()=>({min:0,max:0}),$t=()=>({x:oI(),y:oI()});function jn(t){return[t("x"),t("y")]}function l0(t){return t===void 0||t===1}function j1({scale:t,scaleX:e,scaleY:r}){return!l0(t)||!l0(e)||!l0(r)}function Wo(t){return j1(t)||q6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function q6(t){return sI(t.x)||sI(t.y)}function sI(t){return t&&t!=="0%"}function Yg(t,e,r){const n=t-r,i=e*n;return r+i}function lI(t,e,r,n,i){return i!==void 0&&(t=Yg(t,i,n)),Yg(t,r,n)+e}function P1(t,e=0,r=1,n,i){t.min=lI(t.min,e,r,n,i),t.max=lI(t.max,e,r,n,i)}function W6(t,{x:e,y:r}){P1(t.x,e.translate,e.scale,e.originPoint),P1(t.y,r.translate,r.scale,r.originPoint)}const cI=.999999999999,uI=1.0000000000001;function Y_e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Tl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,W6(t,o)),n&&Wo(a.latestValues)&&Tl(t,a.latestValues))}e.x<uI&&e.x>cI&&(e.x=1),e.y<uI&&e.y>cI&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function dI(t,e,r,n,i=.5){const a=jt(t.min,t.max,i);P1(t,e,r,a,n)}function Tl(t,e){dI(t.x,e.x,e.scaleX,e.scale,e.originX),dI(t.y,e.y,e.scaleY,e.scale,e.originY)}function H6(t,e){return z6(z_e(t.getBoundingClientRect(),e))}function X_e(t,e,r){const n=H6(t,r),{scroll:i}=e;return i&&(Sl(n.x,i.offset.x),Sl(n.y,i.offset.y)),n}const G6=({current:t})=>t?t.ownerDocument.defaultView:null,fI=(t,e)=>Math.abs(t-e);function Q_e(t,e){const r=fI(t.x,e.x),n=fI(t.y,e.y);return Math.sqrt(r**2+n**2)}class Y6{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=u0(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Q_e(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:v}=h,{timestamp:w}=hr;this.history.push({...v,timestamp:w});const{onStart:y,onMove:_}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=c0(m,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=u0(h.type==="pointercancel"?this.lastMoveEventInfo:c0(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,y),v&&v(h,y)},!rk(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const s=Th(e),l=c0(s,this.transformPagePoint),{point:u}=l,{timestamp:d}=hr;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(e,u0(l,this.history)),this.removeListeners=wh(wd(this.contextWindow,"pointermove",this.handlePointerMove),wd(this.contextWindow,"pointerup",this.handlePointerUp),wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function c0(t,e){return e?{point:e(t.point)}:t}function hI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function u0({point:t},e){return{point:t,delta:hI(t,X6(e)),offset:hI(t,J_e(e)),velocity:Z_e(e,.1)}}function J_e(t){return t[0]}function X6(t){return t[t.length-1]}function Z_e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=X6(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ti(e)));)r--;if(!n)return{x:0,y:0};const a=ki(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eSe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?jt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?jt(r,t,n.max):Math.min(t,r)),t}function pI(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function tSe(t,{top:e,left:r,bottom:n,right:i}){return{x:pI(t.x,r,i),y:pI(t.y,e,n)}}function mI(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function rSe(t,e){return{x:mI(t.x,e.x),y:mI(t.y,e.y)}}function nSe(t,e){let r=.5;const n=zr(t),i=zr(e);return i>n?r=Df(e.min,e.max-n,t.min):n>i&&(r=Df(t.min,t.max-i,e.min)),ma(0,1,r)}function iSe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const N1=.35;function aSe(t=N1){return t===!1?t=0:t===!0&&(t=N1),{x:gI(t,"left","right"),y:gI(t,"top","bottom")}}function gI(t,e,r){return{min:vI(t,e),max:vI(t,r)}}function vI(t,e){return typeof t=="number"?t:t[e]||0}const oSe=new WeakMap;class sSe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Th(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=w1e(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(y=>{let _=this.getAxisMotionValue(y).get()||0;if(Ai.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[y];j&&(_=zr(j)*(parseFloat(_)/100))}}this.originPoint[y]=_}),v&&kt.postRender(()=>v(f,h)),A1(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(g&&this.currentDirection===null){this.currentDirection=lSe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>jn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Y6(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:G6(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&kt.postRender(()=>s(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!jp(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=eSe(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=tSe(n.layoutBox,e):this.constraints=!1,this.elastic=aSe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iSe(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!wl(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=X_e(n,i.root,this.visualElement.getTransformPagePoint());let o=rSe(i.layout.layoutBox,a);if(r){const s=r(B_e(o));this.hasMutatedConstraints=!!s,s&&(o=z6(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=jn(d=>{if(!jp(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return A1(this.visualElement,e),n.start(fk(e,n,0,r,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){jn(r=>{const{drag:n}=this.getProps();if(!jp(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-jt(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!wl(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(o=>{const s=this.getAxisMotionValue(o);if(s&&this.constraints!==!1){const l=s.get();i[o]=nSe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jn(o=>{if(!jp(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(jt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;oSe.set(this.visualElement,this);const e=this.visualElement.current,r=wd(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();wl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(n);const o=zf(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(jn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=N1,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function jp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function lSe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class cSe extends No{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new sSe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const yI=t=>(e,r)=>{t&&kt.postRender(()=>t(e,r))};class uSe extends No{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new Y6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:yI(e),onStart:yI(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&kt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=wd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const r=xI(t,e.target.x),n=xI(t,e.target.y);return`${r}% ${n}%`}},dSe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=yo.parse(t);if(i.length>5)return n;const a=yo.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=jt(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let bI=!1;class fSe extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;X1e(hSe),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),bI&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,bI=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||kt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Q6(t){const[e,r]=T6(),n=R.useContext(OT);return c.jsx(fSe,{...t,layoutGroup:n,switchLayoutGroup:R.useContext(P6),isPresent:e,safeToRemove:r})}const hSe={borderRadius:{...Mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:dSe};function pSe(t,e,r){const n=Ir(t)?t:jc(t);return n.start(fk("",n,e,r)),n.animation}const mSe=(t,e)=>t.depth-e.depth;class gSe{constructor(){this.children=[],this.isDirty=!1}add(e){MT(this.children,e),this.isDirty=!0}remove(e){$T(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mSe),this.isDirty=!1,this.children.forEach(e)}}function vSe(t,e){const r=tn.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(vo(n),t(a-e))};return kt.setup(n,!0),()=>vo(n)}const J6=["TopLeft","TopRight","BottomLeft","BottomRight"],ySe=J6.length,wI=t=>typeof t=="string"?parseFloat(t):t,_I=t=>typeof t=="number"||Pe.test(t);function xSe(t,e,r,n,i,a){i?(t.opacity=jt(0,r.opacity??1,bSe(n)),t.opacityExit=jt(e.opacity??1,0,wSe(n))):a&&(t.opacity=jt(e.opacity??1,r.opacity??1,n));for(let o=0;o<ySe;o++){const s=`border${J6[o]}Radius`;let l=SI(e,s),u=SI(r,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_I(l)===_I(u)?(t[s]=Math.max(jt(wI(l),wI(u),n),0),(Ai.test(u)||Ai.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||r.rotate)&&(t.rotate=jt(e.rotate||0,r.rotate||0,n))}function SI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bSe=Z6(0,.5,K3),wSe=Z6(.5,.95,$n);function Z6(t,e,r){return n=>n<t?0:n>e?1:r(Df(t,e,n))}function TI(t,e){t.min=e.min,t.max=e.max}function En(t,e){TI(t.x,e.x),TI(t.y,e.y)}function kI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AI(t,e,r,n,i){return t-=e,t=Yg(t,1/r,n),i!==void 0&&(t=Yg(t,1/i,n)),t}function _Se(t,e=0,r=1,n=.5,i,a=t,o=t){if(Ai.test(e)&&(e=parseFloat(e),e=jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=jt(a.min,a.max,n);t===a&&(s-=e),t.min=AI(t.min,e,r,s,i),t.max=AI(t.max,e,r,s,i)}function EI(t,e,[r,n,i],a,o){_Se(t,e[r],e[n],e[i],e.scale,a,o)}const SSe=["x","scaleX","originX"],TSe=["y","scaleY","originY"];function jI(t,e,r,n){EI(t.x,e,SSe,r?r.x:void 0,n?n.x:void 0),EI(t.y,e,TSe,r?r.y:void 0,n?n.y:void 0)}function PI(t){return t.translate===0&&t.scale===1}function eF(t){return PI(t.x)&&PI(t.y)}function NI(t,e){return t.min===e.min&&t.max===e.max}function kSe(t,e){return NI(t.x,e.x)&&NI(t.y,e.y)}function CI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tF(t,e){return CI(t.x,e.x)&&CI(t.y,e.y)}function II(t){return zr(t.x)/zr(t.y)}function OI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ASe{constructor(){this.members=[]}add(e){MT(this.members,e),e.scheduleRender()}remove(e){if($T(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ESe(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(n+=`scale(${s}, ${l})`),n||"none"}const d0=["","X","Y","Z"],jSe=1e3;let PSe=0;function f0(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function rF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=L6(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&rF(n)}function nF({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=PSe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ISe),this.nodes.forEach(MSe),this.nodes.forEach($Se),this.nodes.forEach(OSe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gSe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new FT),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=S6(o)&&!E1e(o),this.instance=o;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;kt.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=vSe(h,250),nm.hasAnimatedSinceResize&&(nm.hasAnimatedSinceResize=!1,this.nodes.forEach(MI)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||zSe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),y=!this.targetLayout||!tF(this.targetLayout,m),_=!f&&h;if(this.options.layoutRoot||this.resumeFrom||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...ZT(g,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,_)}else f||MI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LSe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DSe),this.nodes.forEach(NSe),this.nodes.forEach(CSe)):this.nodes.forEach(DI),this.clearAllSnapshots();const s=tn.now();hr.delta=ma(0,1e3/60,s-hr.timestamp),hr.timestamp=s,hr.isProcessing=!0,r0.update.process(hr),r0.preRender.process(hr),r0.render.process(hr),hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RSe),this.sharedNodes.forEach(VSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zr(this.snapshot.measuredBox.x)&&!zr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!eF(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(s||Wo(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),USe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return $t();const s=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(KSe))){const{scroll:d}=this.root;d&&(Sl(s.x,d.offset.x),Sl(s.y,d.offset.y))}return s}removeElementScroll(o){var l;const s=$t();if(En(s,o),(l=this.scroll)!=null&&l.wasRoot)return s;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&En(s,o),Sl(s.x,f.offset.x),Sl(s.y,f.offset.y))}return s}applyTransform(o,s=!1){const l=$t();En(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Wo(d.latestValues)&&Tl(l,d.latestValues)}return Wo(this.latestValues)&&Tl(l,this.latestValues),l}removeTransform(o){const s=$t();En(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Wo(u.latestValues))continue;j1(u.latestValues)&&u.updateSnapshot();const d=$t(),f=u.measurePageBox();En(d,f),jI(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Wo(this.latestValues)&&jI(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=hr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Sd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),W6(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Sd(this.relativeTargetOrigin,this.target,m.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j1(this.parent.latestValues)||q6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===hr.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;En(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Y_e(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$t());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kI(this.prevProjectionDelta.x,this.projectionDelta.x),kI(this.prevProjectionDelta.y,this.projectionDelta.y)),_d(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!OI(this.projectionDelta.x,this.prevProjectionDelta.x)||!OI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=$t(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,w=this.getStack(),y=!w||w.members.length<=1,_=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(BSe));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const x=j/1e3;$I(f.x,o.x,x),$I(f.y,o.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FSe(this.relativeTarget,this.relativeTargetOrigin,h,x),b&&kSe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=$t()),En(b,this.relativeTarget)),v&&(this.animationValues=d,xSe(d,u,this.latestValues,x,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var s,l,u;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{nm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jc(0)),this.currentAnimation=pSe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jSe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&iF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||$t();const f=zr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=zr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}En(s,l),Tl(s,d),_d(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ASe),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&f0("z",o,u,this.animationValues);for(let d=0;d<d0.length;d++)f0(`rotate${d0[d]}`,o,u,this.animationValues),f0(`skew${d0[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=rm(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=rm(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Wo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=ESe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Ff){if(d[g]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:y}=Ff[g],_=f==="none"?d[g]:v(d[g],u);if(w){const b=w.length;for(let j=0;j<b;j++)o[w[j]]=_}else y?this.options.visualElement.renderState.vars[g]=_:o[g]=_}this.options.layoutId&&(o.pointerEvents=u===this?rm(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(RI),this.root.sharedNodes.clear()}}}function NSe(t){t.updateLayout()}function CSe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?jn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=zr(h);h.min=n[f].min,h.max=h.min+m}):iF(a,e.layoutBox,n)&&jn(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],m=zr(n[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const s=_l();_d(s,n,e.layoutBox);const l=_l();o?_d(l,t.applyTransform(i,!0),e.measuredBox):_d(l,n,e.layoutBox);const u=!eF(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=$t();Sd(g,e.layoutBox,h.layoutBox);const v=$t();Sd(v,n,m.layoutBox),tF(g,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function ISe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RSe(t){t.clearSnapshot()}function RI(t){t.clearMeasurements()}function DI(t){t.isLayoutDirty=!1}function DSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MSe(t){t.resolveTargetDelta()}function $Se(t){t.calcProjection()}function LSe(t){t.resetSkewAndRotation()}function VSe(t){t.removeLeadSnapshot()}function $I(t,e,r){t.translate=jt(e.translate,0,r),t.scale=jt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function LI(t,e,r,n){t.min=jt(e.min,r.min,n),t.max=jt(e.max,r.max,n)}function FSe(t,e,r,n){LI(t.x,e.x,r.x,n),LI(t.y,e.y,r.y,n)}function BSe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zSe={duration:.45,ease:[.4,0,.1,1]},VI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FI=VI("applewebkit/")&&!VI("chrome/")?Math.round:$n;function BI(t){t.min=FI(t.min),t.max=FI(t.max)}function USe(t){BI(t.x),BI(t.y)}function iF(t,e,r){return t==="position"||t==="preserve-aspect"&&!H_e(II(e),II(r),.2)}function KSe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qSe=nF({attachResizeListener:(t,e)=>zf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h0={current:void 0},aF=nF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h0.current){const t=new qSe({});t.mount(window),t.setOptions({layoutScroll:!0}),h0.current=t}return h0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WSe={pan:{Feature:uSe},drag:{Feature:cSe,ProjectionNode:aF,MeasureLayout:Q6}};function zI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&kt.postRender(()=>a(e,Th(e)))}class HSe extends No{mount(){const{current:e}=this.node;e&&(this.unmount=_1e(e,(r,n)=>(zI(this.node,n,"Start"),i=>zI(this.node,i,"End"))))}unmount(){}}class GSe extends No{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wh(zf(this.node.current,"focus",()=>this.onFocus()),zf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&kt.postRender(()=>a(e,Th(e)))}class YSe extends No{mount(){const{current:e}=this.node;e&&(this.unmount=A1e(e,(r,n)=>(UI(this.node,n,"Start"),(i,{success:a})=>UI(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C1=new WeakMap,p0=new WeakMap,XSe=t=>{const e=C1.get(t.target);e&&e(t)},QSe=t=>{t.forEach(XSe)};function JSe({root:t,...e}){const r=t||document;p0.has(r)||p0.set(r,{});const n=p0.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(QSe,{root:t,...e})),n[i]}function ZSe(t,e,r){const n=JSe(e);return C1.set(t,r),n.observe(t),()=>{C1.delete(t),n.unobserve(t)}}const eTe={some:0,all:1};class tTe extends No{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:eTe[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return ZSe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(rTe(e,r))&&this.startObserver()}unmount(){}}function rTe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const nTe={inView:{Feature:tTe},tap:{Feature:YSe},focus:{Feature:GSe},hover:{Feature:HSe}},iTe={layout:{ProjectionNode:aF,MeasureLayout:Q6}},I1={current:null},oF={current:!1};function aTe(){if(oF.current=!0,!!DT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I1.current=t.matches;t.addEventListener("change",e),e()}else I1.current=!1}const oTe=new WeakMap;function sTe(t,e,r){for(const n in e){const i=e[n],a=r[n];if(Ir(i))t.addValue(n,i);else if(Ir(a))t.addValue(n,jc(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,jc(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const KI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lTe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=JT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=tn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,kt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=!!a,this.isControllingVariants=Ay(r),this.isVariantNode=E6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Ir(m)&&m.set(l[h],!1)}}mount(e){this.current=e,oTe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),oF.current||aTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=au.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pc){const r=Pc[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<KI.length;n++){const i=KI[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=sTe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=jc(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(R3(n)||M3(n))?n=parseFloat(n):!P1e(n)&&yo.test(r)&&(n=v6(e,r)),this.setBaseTarget(e,Ir(n)?n.get():n)),Ir(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=uk(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ir(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new FT),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class sF extends lTe{constructor(){super(...arguments),this.KeyframeResolver=v1e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function lF(t,{style:e,vars:r},n,i){const a=t.style;let o;for(o in e)a[o]=e[o];i==null||i.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function cTe(t){return window.getComputedStyle(t)}class uTe extends sF{constructor(){super(...arguments),this.type="html",this.renderInstance=lF}readValueFromInstance(e,r){var n;if(au.has(r))return(n=this.projection)!=null&&n.isProjecting?x1(r):Mwe(e,r);{const i=cTe(e),a=(UT(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return H6(e,r)}build(e,r,n){sk(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return dk(e,r,n)}}const cF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dTe(t,e,r,n){lF(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(cF.has(i)?i:ok(i),e.attrs[i])}class fTe extends sF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(au.has(r)){const n=g6(r);return n&&n.default||0}return r=cF.has(r)?r:ok(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return $6(e,r,n)}build(e,r,n){O6(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){dTe(e,r,n,i)}mount(e){this.isSVGTag=D6(e.tagName),super.mount(e)}}const hTe=(t,e)=>ck(t)?new fTe(e):new uTe(e,{allowProjection:t!==R.Fragment}),pTe=h_e({...V_e,...nTe,...WSe,...iTe},hTe),ti=L1e(pTe),mTe=()=>({t:t=>({"nav.sales":"Satış","nav.quickSale":"Hızlı Satış","nav.dashboard":"Dashboard","nav.stockManagement":"Stok Yönetimi","nav.stockCount":"Stok Sayım","nav.lowStock":"Kritik Stok","nav.categories":"Kategoriler","nav.purchaseOrders":"Siparişler","nav.cashDrawer":"Kasa Yönetimi","nav.expenses":"Giderler","nav.payments":"Ödemeler","nav.customers":"Müşteriler","nav.loyalty":"Sadakat Programı","nav.reports":"Raporlar","nav.analytics":"Analitik","nav.settings":"Ayarlar","nav.backup":"Yedekleme"})[t]||t}),gTe=({activePage:t,setActivePage:e,user:r,isSidebarOpen:n,setIsSidebarOpen:i,onLogout:a,settings:o})=>{var d;const{t:s}=mTe(),l=[{id:"salesScreen",label:s("nav.sales"),icon:hs,section:"main",description:"Hızlı satış ve sepet yönetimi",badge:"HOT"},{id:"quickSale",label:s("nav.quickSale"),icon:hs,section:"main",description:"Tek tıkla anında satış"},{id:"dashboard",label:s("nav.dashboard"),icon:Sbe,section:"main",description:"Genel işletme durumu"},{id:"stock",label:"Stok Yönetimi",icon:vn,section:"inventory",description:"Ürün ekleme, düzenleme ve takip"},{id:"stockCount",label:"Stok Sayımı",icon:d1,section:"inventory",description:"Fiziksel stok kontrolü"},{id:"lowStock",label:"Kritik Stok",icon:co,section:"inventory",description:"Düşük stok uyarıları"},{id:"categories",label:"Kategoriler",icon:CT,section:"inventory",description:"Ürün kategorileri yönetimi"},{id:"purchases",label:"Satın Alma",icon:bh,section:"purchasing",description:"Tedarikçilerden ürün alımı"},{id:"suppliers",label:"Tedarikçiler",icon:Kg,section:"purchasing",description:"Tedarikçi bilgileri ve iletişim"},{id:"purchaseOrders",label:"Siparişler",icon:P3,section:"purchasing",description:"Açık ve geçmiş siparişler"},{id:"cashDrawer",label:"Kasa Yönetimi",icon:I3,section:"finance",description:"Günlük kasa işlemleri"},{id:"expenses",label:"Giderler",icon:A3,section:"finance",description:"İşletme giderleri takibi"},{id:"credit",label:"Veresiye",icon:u1,section:"finance",description:"Müşteri borçları"},{id:"payments",label:"Ödemeler",icon:vd,section:"finance",description:"Ödeme yöntemleri ve geçmişi"},{id:"customers",label:"Müşteriler",icon:Gu,section:"customers",description:"Müşteri bilgileri ve geçmişi"},{id:"statistics",label:"İstatistikler",icon:PT,section:"reports",description:"Detaylı satış analizleri"},{id:"history",label:"İşlem Geçmişi",icon:y3,section:"reports",description:"Tüm işlem kayıtları"},{id:"reports",label:"Raporlar",icon:sbe,section:"reports",description:"Kâr/zarar ve performans raporları"},{id:"analytics",label:"Analitik",icon:ru,section:"reports",description:"Gelişmiş veri analizi"},{id:"discounts",label:"İndirimler",icon:_3,section:"tools",description:"Ürün ve kategori indirimleri"},{id:"settings",label:"Ayarlar",icon:yd,section:"tools",description:"Sistem ayarları ve yapılandırma"},{id:"backup",label:"Yedekleme",icon:gbe,section:"tools",description:"Veri yedekleme ve geri yükleme"},{id:"notes",label:"Notlar",icon:N3,section:"tools",description:"Kişisel notlar ve hatırlatıcılar"}],u={main:{title:"Ana İşlemler",color:"text-blue-600"},inventory:{title:"Stok Yönetimi",color:"text-green-600"},purchasing:{title:"Satın Alma",color:"text-purple-600"},finance:{title:"Finans",color:"text-yellow-600"},customers:{title:"Müşteriler",color:"text-pink-600"},reports:{title:"Raporlar",color:"text-indigo-600"},tools:{title:"Araçlar",color:"text-gray-600"}};return c.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-[var(--bg-color)] border-r border-[var(--border-color)] flex flex-col z-30 transition-all duration-300 ${n?"w-64":"w-20"}`,children:[c.jsxs("div",{className:`flex items-center border-b border-[var(--border-color)] p-4 h-16 ${n?"justify-between":"justify-center"}`,children:[c.jsx(Lf,{children:n&&c.jsxs(ti.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"font-bold text-xl flex items-center gap-2",children:[c.jsx(NT,{className:"text-[var(--primary-600)]"}),c.jsx("span",{children:"Stok Takip"})]})}),c.jsx("button",{onClick:()=>i(!n),className:"p-2 rounded-md hover:bg-[var(--surface-color)] transition-colors",title:n?"Sidebar'ı Daralt":"Sidebar'ı Genişlet",children:n?c.jsx(pbe,{size:20}):c.jsx(Abe,{size:20})})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:((o==null?void 0:o.sidebarOrder)||Object.keys(u)).map(f=>{var m;const h=u[f];return!h||!((m=o==null?void 0:o.enabledSections)!=null&&m[f])?null:c.jsxs("div",{className:"px-4",children:[n&&c.jsx(ti.h3,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`text-xs font-semibold uppercase tracking-wider mt-4 mb-2 ${h.color}`,children:h.title}),l.filter(g=>{var v;return g.section===f&&((v=o==null?void 0:o.enabledFeatures)==null?void 0:v[g.id])!==!1}).map(g=>c.jsxs("button",{onClick:()=>e(g.id),className:`w-full flex items-center gap-3 p-3 my-1 rounded-lg transition-all duration-200 text-sm font-medium group relative ${t===g.id?"bg-[var(--primary-100)] text-[var(--primary-700)] shadow-sm":"text-[var(--text-muted-color)] hover:bg-[var(--surface-color)] hover:text-[var(--text-color)]"}`,title:n?g.description:g.label,children:[c.jsx(g.icon,{size:20,className:"flex-shrink-0"}),c.jsx(Lf,{children:n&&c.jsxs(ti.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex-1 flex items-center justify-between",children:[c.jsx("span",{children:g.label}),g.badge&&c.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-600 rounded-full font-semibold",children:g.badge})]})}),!n&&c.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:g.label})]},g.id))]},f)})}),c.jsxs("div",{className:"border-t border-[var(--border-color)] p-4",children:[c.jsx("div",{className:`flex items-center gap-3 p-3 rounded-lg transition-colors text-sm font-medium text-[var(--text-muted-color)] hover:bg-[var(--surface-color)] hover:text-[var(--text-color)] ${n?"justify-between":"justify-center"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-[var(--primary-600)] rounded-full flex items-center justify-center text-white text-xs font-bold",children:(d=r==null?void 0:r.email)==null?void 0:d.charAt(0).toUpperCase()}),n&&c.jsxs(ti.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1",children:[c.jsx("p",{className:"text-xs font-medium text-[var(--text-color)] truncate",children:r==null?void 0:r.email}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:"Yönetici"})]})]})}),c.jsxs("button",{onClick:a,className:`w-full flex items-center gap-3 p-3 mt-2 rounded-lg transition-colors text-sm font-medium text-[var(--text-muted-color)] hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 ${n?"justify-start":"justify-center"}`,title:"Çıkış Yap",children:[c.jsx(kbe,{size:20}),n&&c.jsx("span",{children:"Çıkış Yap"})]})]})]})},qI=({products:t,categoryDiscounts:e,paths:r,onAddToCart:n,onUpdateCartQuantity:i,onRemoveFromCart:a,onClearCart:o,onFinalizeSale:s,onInstantSale:l,quickMode:u=!1,cart:d,formatCurrency:f,calculateDiscountedPrice:h,paymentMethod:m="cash"})=>{const[g,v]=R.useState(""),[w,y]=R.useState("all"),[_,b]=R.useState(m),[j,x]=R.useState({name:"",phone:"",email:""}),[S,T]=R.useState(0),[k,E]=R.useState("percentage"),[I,O]=R.useState(!0),[P,C]=R.useState(!1),[L,$]=R.useState(!1),[q,U]=R.useState(!1),[F,z]=R.useState(null),X=R.useRef(null),re=R.useRef(null),V=R.useMemo(()=>["all",...[...new Set(t.map(K=>K.category).filter(Boolean))].sort()],[t]),Y=R.useMemo(()=>t.filter(G=>{const K=G.name.toLowerCase().includes(g.toLowerCase())||G.barcode&&G.barcode.includes(g),W=w==="all"||G.category===w;return K&&W}).sort((G,K)=>G.name.localeCompare(K.name)),[t,g,w]),Z=R.useMemo(()=>{let G=0,K=0,W=0;d.forEach(ae=>{const{finalPrice:pe,discountApplied:Ce}=h(ae,e);G+=pe*ae.quantity,K+=Ce*ae.quantity,W+=ae.quantity});let B=0;S>0&&(k==="percentage"?B=G*S/100:B=S);const ne=Math.max(0,G-B);return{subtotal:G,totalDiscount:K,transactionDiscountAmount:B,total:ne,totalItems:W}},[d,e,S,k,h]);R.useEffect(()=>{I&&re.current&&re.current.focus()},[I]),R.useEffect(()=>{const G=K=>{var B;if(!(K.ctrlKey||K.metaKey))return;const W=K.key.toLowerCase();W==="f"?(K.preventDefault(),(B=X.current)==null||B.focus()):W==="b"?(K.preventDefault(),O(ne=>!ne)):W==="enter"&&I&&re.current&&(K.preventDefault(),ee())};return document.addEventListener("keydown",G,{passive:!1}),()=>document.removeEventListener("keydown",G)},[I]);const ee=()=>{var W,B;const G=(B=(W=re.current)==null?void 0:W.value)==null?void 0:B.trim();if(!G)return;const K=t.find(ne=>ne.barcode===G);K?(u&&l?l(K,_):n(K),re.current.value="",ie.success(`${K.name} ${u?"satıldı":"sepete eklendi"}`)):ie.error("Ürün bulunamadı")},we=async()=>{if(d.length===0){ie.warning("Sepetiniz boş");return}$(!0)},ge=()=>{const[G,K]=R.useState(j),[W,B]=R.useState(S),[ne,ae]=R.useState(k),[pe,Ce]=R.useState(_);R.useEffect(()=>{L&&(K(j),B(S),ae(k),Ce(_))},[L,j,S,k,_]);const Ve=R.useCallback(()=>{$(!1)},[]),Ye=R.useCallback(async()=>{try{x(G),T(W),E(ne),b(pe);const se={items:d.map(de=>{const{finalPrice:Se,discountApplied:Be,originalPrice:ze,appliedRule:tt}=h(de,e);return{productId:de.id,name:de.name,quantity:de.quantity,price:Se,originalPrice:ze,purchasePrice:de.purchasePrice||0,discountApplied:Be*de.quantity,discountRule:tt}}),paymentMethod:pe,customerInfo:G.name?G:null,transactionDiscount:Z.transactionDiscountAmount,discountType:ne,total:Z.total,subtotal:Z.subtotal,totalDiscount:Z.totalDiscount,totalItems:Z.totalItems,saleDate:new Date,type:"sale",status:"completed"};try{await s(pe,Z.transactionDiscountAmount,G),z(se),Ve(),U(!0),o(),x({name:"",phone:"",email:""}),T(0)}catch(de){console.error("Finalize sale error:",de)}}catch(se){console.error("Payment error:",se),ie.error("Ödeme işlemi sırasında hata oluştu")}},[G,W,ne,pe,d,Z,s,o,Ve]);return L?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-[var(--bg-color)] rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Ödeme"}),c.jsx("button",{onClick:Ve,className:"p-2 hover:bg-[var(--surface-color)] rounded-lg transition-colors",children:c.jsx(pa,{size:20})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Müşteri Bilgileri (Opsiyonel)"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Müşteri Adı",value:G.name,onChange:se=>K(de=>({...de,name:se.target.value})),className:"w-full p-3 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] focus:border-[var(--primary-500)] focus:outline-none transition-colors"}),c.jsx("input",{type:"tel",placeholder:"Telefon",value:G.phone,onChange:se=>K(de=>({...de,phone:se.target.value})),className:"w-full p-3 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] focus:border-[var(--primary-500)] focus:outline-none transition-colors"}),c.jsx("input",{type:"email",placeholder:"E-posta",value:G.email,onChange:se=>K(de=>({...de,email:se.target.value})),className:"w-full p-3 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] focus:border-[var(--primary-500)] focus:outline-none transition-colors"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"İşlem İndirimi"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("select",{value:ne,onChange:se=>ae(se.target.value),className:"p-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] focus:border-[var(--primary-500)] focus:outline-none transition-colors",children:[c.jsx("option",{value:"percentage",children:"%"}),c.jsx("option",{value:"amount",children:"₺"})]}),c.jsx("input",{type:"number",placeholder:"0",value:W,onChange:se=>B(parseFloat(se.target.value)||0),className:"flex-1 p-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] focus:border-[var(--primary-500)] focus:outline-none transition-colors"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Ödeme Yöntemi"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"cash",label:"Nakit",icon:jC},{id:"card",label:"Kart",icon:vd},{id:"credit",label:"Veresiye",icon:Gu},{id:"personnel",label:"Personel",icon:Gu}].map(se=>c.jsxs("button",{type:"button",onClick:()=>Ce(se.id),className:`p-4 border-2 rounded-lg flex flex-col items-center gap-2 transition-all ${pe===se.id?"border-[var(--primary-600)] bg-[var(--primary-100)] shadow-md":"border-[var(--border-color)] hover:border-[var(--primary-500)] hover:bg-[var(--surface-color)]"}`,children:[c.jsx(se.icon,{size:24}),c.jsx("span",{className:"text-sm font-medium",children:se.label})]},se.id))})]}),c.jsx("div",{className:"border-t border-[var(--border-color)] pt-4 mb-6",children:c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Ara Toplam:"}),c.jsx("span",{children:f(Z.subtotal)})]}),Z.totalDiscount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{children:"Ürün İndirimi:"}),c.jsxs("span",{children:["-",f(Z.totalDiscount)]})]}),Z.transactionDiscountAmount>0&&c.jsxs("div",{className:"flex justify-between text-blue-600",children:[c.jsx("span",{children:"İşlem İndirimi:"}),c.jsxs("span",{children:["-",f(Z.transactionDiscountAmount)]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-[var(--border-color)] pt-2",children:[c.jsx("span",{children:"TOPLAM:"}),c.jsx("span",{children:f(Z.total)})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Ve,className:"flex-1 p-3 border border-[var(--border-color)] rounded-lg hover:bg-[var(--surface-color)] transition-colors",children:"İptal"}),c.jsx("button",{onClick:Ye,className:"flex-1 p-3 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] font-semibold transition-colors",children:"Ödemeyi Tamamla"})]})]})}):null},Le=()=>{var G;return!q||!F?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-[var(--bg-color)] rounded-2xl p-6 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Yi,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"Satış Tamamlandı!"}),c.jsxs("p",{className:"text-[var(--text-muted-color)]",children:["Toplam: ",f(F.total)]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Satış No:"}),c.jsxs("span",{className:"font-mono",children:["#",Date.now().toString().slice(-6)]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Tarih:"}),c.jsx("span",{children:F.saleDate.toLocaleString("tr-TR")})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Ödeme:"}),c.jsx("span",{className:"capitalize",children:F.paymentMethod})]}),((G=F.customerInfo)==null?void 0:G.name)&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Müşteri:"}),c.jsx("span",{children:F.customerInfo.name})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{U(!1),z(null)},className:"flex-1 p-3 border border-[var(--border-color)] rounded-lg hover:bg-[var(--surface-color)] transition-colors",children:"Tamam"}),c.jsxs("button",{onClick:()=>{window.print()},className:"flex-1 p-3 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] font-semibold flex items-center justify-center gap-2 transition-colors",children:[c.jsx(k3,{size:16}),"Yazdır"]})]})]})})};return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Satış Ekranı"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted-color)]",children:[c.jsx(_be,{size:16}),c.jsx("span",{children:"Ctrl+F: Arama"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"Ctrl+B: Barkod"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:u?"Hızlı Satış":"Sepet Modu"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>O(!I),className:`p-2 rounded-lg transition-colors ${I?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] hover:bg-[var(--surface-hover-color)]"}`,title:"Barkod Modu",children:c.jsx(dbe,{size:20})}),u&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-xs text-[var(--text-muted-color)] mr-1",children:"Ödeme:"}),c.jsx("span",{className:"text-sm font-medium text-[var(--primary-600)]",children:_==="cash"?"NAKİT":_==="card"?"KART":_==="credit"?"VERESİYE":"PERSONEL"})]}),c.jsx("button",{onClick:()=>{},className:`p-2 rounded-lg ${u?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-muted-color)]"}`,title:"Hızlı Satış",children:c.jsx(hs,{size:20})})]})]}),c.jsxs("div",{className:"flex-1 flex gap-4 p-4 overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[c.jsxs("div",{className:"space-y-4",children:[I&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{ref:re,type:"text",placeholder:"Barkod okutun...",className:"flex-1 p-3 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] font-mono text-lg",onKeyPress:G=>G.key==="Enter"&&ee()}),c.jsx("button",{onClick:ee,className:"px-6 py-3 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)]",children:c.jsx(v3,{size:20})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(IT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--text-muted-color)]",size:20}),c.jsx("input",{ref:X,type:"text",placeholder:"Ürün ara...",value:g,onChange:G=>v(G.target.value),className:"w-full pl-10 pr-4 py-3 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]"})]}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:V.map(G=>c.jsx("button",{onClick:()=>y(G),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${w===G?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] hover:bg-[var(--surface-hover-color)]"}`,children:G==="all"?"Tümü":G},G))})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Y.map(G=>{const{finalPrice:K,discountApplied:W}=h(G,e),B=d.find(ne=>ne.id===G.id);return c.jsxs("div",{className:`bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-4 cursor-pointer transition-all duration-200 ease-in-out hover:shadow-md hover:scale-[1.02] ${B?"ring-2 ring-[var(--primary-500)] shadow-lg":""}`,onClick:ne=>{if(u&&l){l(G,_);const ae=ne.currentTarget;ae.style.transform="scale(0.98)",ae.style.backgroundColor="var(--primary-50)",setTimeout(()=>{ae.style.transform="",ae.style.backgroundColor=""},150)}else n(G)},children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:G.name}),c.jsxs("div",{className:"flex items-center gap-1",children:[u&&c.jsxs("div",{className:"bg-[var(--primary-600)] text-white text-xs px-2 py-1 rounded-full",children:[c.jsx(hs,{size:10,className:"inline mr-1"}),"HIZLI"]}),B&&!u&&c.jsx("div",{className:"bg-[var(--primary-600)] text-white text-xs px-2 py-1 rounded-full",children:B.quantity})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-lg font-bold text-[var(--primary-600)]",children:f(K)}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)]",children:["Stok: ",G.stock]})]}),W>0&&c.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[c.jsx(_3,{size:12}),c.jsx("span",{children:"İndirimli"})]}),G.stock<=(G.criticalStockLevel||5)&&c.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-sm",children:[c.jsx(co,{size:12}),c.jsx("span",{children:"Kritik Stok"})]})]})]},G.id)})}),Y.length===0&&c.jsxs("div",{className:"text-center py-12 text-[var(--text-muted-color)]",children:[c.jsx(vn,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Ürün bulunamadı"})]})]})]}),u?c.jsxs("div",{className:"w-96 bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-[var(--border-color)]",children:[c.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[c.jsx(hs,{size:20}),"Hızlı Satış"]}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ödeme yöntemini seçin"})]}),c.jsx("div",{className:"flex-1 p-4 space-y-3",children:[{id:"cash",label:"NAKİT",icon:jC,color:"bg-green-600",hoverColor:"hover:bg-green-700"},{id:"card",label:"KART",icon:vd,color:"bg-blue-600",hoverColor:"hover:bg-blue-700"},{id:"credit",label:"VERESİYE",icon:Gu,color:"bg-orange-600",hoverColor:"hover:bg-orange-700"},{id:"personnel",label:"PERSONEL",icon:Gu,color:"bg-purple-600",hoverColor:"hover:bg-purple-700"}].map(G=>c.jsxs("button",{onClick:()=>b(G.id),className:`w-full p-4 rounded-lg text-white font-bold text-lg transition-all flex items-center justify-center gap-3 ${_===G.id?`${G.color} shadow-lg ring-2 ring-white/20`:`${G.color} ${G.hoverColor} opacity-80 hover:opacity-100`}`,children:[c.jsx(G.icon,{size:24}),G.label]},G.id))}),c.jsx("div",{className:"p-4 border-t border-[var(--border-color)] bg-[var(--surface-color)]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Aktif Ödeme Yöntemi"}),c.jsx("p",{className:"text-lg font-bold text-[var(--primary-600)]",children:_==="cash"?"NAKİT":_==="card"?"KART":_==="credit"?"VERESİYE":"PERSONEL"})]})})]}):c.jsxs("div",{className:"w-96 bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[c.jsx(Is,{size:20}),"Sepet"]}),d.length>0&&c.jsx("button",{onClick:o,className:"text-red-600 hover:text-red-700 text-sm",children:"Temizle"})]}),c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:[Z.totalItems," ürün"]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.map(G=>{const{finalPrice:K,discountApplied:W}=h(G,e);return c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--surface-color)] rounded-lg mb-3 transition-all duration-200 ease-in-out hover:shadow-sm hover:bg-[var(--surface-hover-color)]",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-sm",children:G.name}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-[var(--primary-600)] font-semibold",children:f(K)}),c.jsxs("span",{className:"text-[var(--text-muted-color)]",children:["x",G.quantity]})]}),W>0&&c.jsxs("div",{className:"text-xs text-green-600",children:["İndirim: ",f(W)]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>i(G.id,G.quantity-1),className:"p-1 hover:bg-[var(--surface-hover-color)] rounded transition-colors duration-150",children:c.jsx(Ebe,{size:16})}),c.jsx("span",{className:"w-8 text-center font-medium",children:G.quantity}),c.jsx("button",{onClick:()=>i(G.id,G.quantity+1),className:"p-1 hover:bg-[var(--surface-hover-color)] rounded transition-colors duration-150",children:c.jsx(T3,{size:16})}),c.jsx("button",{onClick:()=>a(G.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors duration-150",children:c.jsx(Xi,{size:16})})]})]},G.id)}),d.length===0&&c.jsxs("div",{className:"text-center py-12 text-[var(--text-muted-color)]",children:[c.jsx(Is,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Sepetiniz boş"}),c.jsx("p",{className:"text-sm",children:"Ürün eklemek için sol panelden seçim yapın"})]})]}),d.length>0&&c.jsxs("div",{className:"p-4 border-t border-[var(--border-color)] space-y-3",children:[c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Ara Toplam:"}),c.jsx("span",{children:f(Z.subtotal)})]}),Z.totalDiscount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{children:"İndirim:"}),c.jsxs("span",{children:["-",f(Z.totalDiscount)]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-[var(--border-color)] pt-2",children:[c.jsx("span",{children:"TOPLAM:"}),c.jsx("span",{children:f(Z.total)})]})]}),!u&&c.jsxs("button",{onClick:we,className:"w-full p-4 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] font-semibold text-lg flex items-center justify-center gap-2",children:[c.jsx(vd,{size:20}),"Ödeme Yap"]})]})]})]}),c.jsx(ge,{}),c.jsx(Le,{})]})},vTe=({products:t=[],sales:e=[],purchases:r=[],suppliers:n=[],expenses:i=[],customers:a=[],onNavigate:o})=>{const[s,l]=R.useState("today"),[u,d]=R.useState(0),f=R.useMemo(()=>{const g=new Date,v=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=new Date(v.getTime()-24*60*60*1e3),y=new Date(v.getTime()-7*24*60*60*1e3),_=new Date(v.getFullYear(),g.getMonth()-1,g.getDate());new Date(v.getFullYear()-1,g.getMonth(),g.getDate());const b=(W=[],B)=>W.filter(ne=>{const ae=ne.saleDate??ne.purchaseDate??ne.date,pe=ae&&ae.toDate?ae.toDate():ae?new Date(ae):null;return pe instanceof Date&&!isNaN(pe)&&pe>=B}),j=W=>{const B=b(e,W),ne=b(r,W),ae=b(i,W);return{filteredSales:B,filteredPurchases:ne,filteredExpenses:ae}};let x,S;switch(s){case"today":x=j(v),S=j(w);break;case"week":x=j(y),S=j(new Date(y.getTime()-7*24*60*60*1e3));break;case"month":x=j(_),S=j(new Date(_.getTime()-30*24*60*60*1e3));break;case"year":x=j(new Date(v.getFullYear(),0,1)),S=j(new Date(v.getFullYear()-1,0,1));break;default:x=j(v),S=j(w)}const T=x.filteredSales.reduce((W,B)=>W+(B.total||0),0),k=S.filteredSales.reduce((W,B)=>W+(B.total||0),0),E=k>0?(T-k)/k*100:0,I=x.filteredSales.length,O=S.filteredSales.length,P=O>0?(I-O)/O*100:0,C=x.filteredSales.reduce((W,B)=>{const ne=(B.items||[]).reduce((ae,pe)=>ae+(pe.price-(pe.purchasePrice||0))*pe.quantity,0);return W+ne},0),L=S.filteredSales.reduce((W,B)=>{const ne=(B.items||[]).reduce((ae,pe)=>ae+(pe.price-(pe.purchasePrice||0))*pe.quantity,0);return W+ne},0),$=L>0?(C-L)/L*100:0,q=x.filteredExpenses.reduce((W,B)=>W+(B.amount||0),0),U=S.filteredExpenses.reduce((W,B)=>W+(B.amount||0),0),F=U>0?(q-U)/U*100:0,z=t.filter(W=>W.stock<=(W.criticalStockLevel||5)),X=t.filter(W=>W.stock<=0),re=t.reduce((W,B)=>W+B.stock*(B.salePrice||0),0),Y=[...new Set(e.map(W=>{var B;return(B=W.customerInfo)==null?void 0:B.name}).filter(Boolean))].length,Z={};x.filteredSales.forEach(W=>{(W.items||[]).forEach(B=>{Z[B.productId]||(Z[B.productId]={name:B.name,quantity:0,revenue:0}),Z[B.productId].quantity+=B.quantity,Z[B.productId].revenue+=B.price*B.quantity})});const ee=Object.values(Z).sort((W,B)=>B.quantity-W.quantity).slice(0,5),we={};x.filteredSales.forEach(W=>{const B=W.saleDate??W.date,ae=(B&&B.toDate?B.toDate():B?new Date(B):new Date).toLocaleDateString("tr-TR",{weekday:"short"});we[ae]||(we[ae]={sales:0,revenue:0}),we[ae].sales+=1,we[ae].revenue+=W.total||0});const ge=Object.entries(we).map(([W,B])=>({day:W,sales:B.sales,revenue:B.revenue})),Le={};x.filteredSales.forEach(W=>{(W.items||[]).forEach(B=>{const ne=B.category||"Diğer";Le[ne]||(Le[ne]=0),Le[ne]+=B.price*B.quantity})});const G=Object.entries(Le).map(([W,B])=>({name:W,value:B}));return{currentSalesTotal:T,salesChange:E,currentSalesCount:I,salesCountChange:P,currentProfit:C,profitChange:$,currentExpenses:q,expensesChange:F,lowStockProducts:z,outOfStockProducts:X,totalStockValue:re,newCustomers:Y,topProducts:ee,dailySalesData:ge,categoryData:G,COLORS:["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"]}},[e,r,i,t,s,u]),h=({title:g,value:v,change:w,icon:y,color:_="blue",format:b="currency"})=>{const j=x=>b==="currency"?new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(x):b==="number"?new Intl.NumberFormat("tr-TR").format(x):x;return c.jsxs(ti.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:g}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)] mt-1",children:j(v)})]}),c.jsx("div",{className:`p-3 rounded-lg bg-${_}-100 text-${_}-600`,children:c.jsx(y,{size:24})})]}),w!==void 0&&c.jsxs("div",{className:"flex items-center mt-4",children:[w>=0?c.jsx(g3,{className:"w-4 h-4 text-green-600"}):c.jsx(m3,{className:"w-4 h-4 text-red-600"}),c.jsxs("span",{className:`text-sm font-medium ml-1 ${w>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(w).toFixed(1),"%"]}),c.jsx("span",{className:"text-sm text-[var(--text-muted-color)] ml-1",children:"önceki döneme göre"})]})]})},m=({title:g,description:v,icon:w,onClick:y,color:_="blue"})=>c.jsxs(ti.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:`p-4 bg-gradient-to-br from-${_}-50 to-${_}-100 border border-${_}-200 rounded-lg text-left hover:shadow-md transition-all`,children:[c.jsx("div",{className:`w-12 h-12 bg-${_}-600 rounded-lg flex items-center justify-center mb-3`,children:c.jsx(w,{className:"w-6 h-6 text-white"})}),c.jsx("h3",{className:"font-semibold text-[var(--text-color)] mb-1",children:g}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:v})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-color)]",children:"Gösterge Paneli"}),c.jsx("p",{className:"text-[var(--text-muted-color)]",children:"İşletmenizin genel durumu ve performansı"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("select",{value:s,onChange:g=>l(g.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",children:[c.jsx("option",{value:"today",children:"Bugün"}),c.jsx("option",{value:"week",children:"Bu Hafta"}),c.jsx("option",{value:"month",children:"Bu Ay"}),c.jsx("option",{value:"year",children:"Bu Yıl"})]}),c.jsx("button",{onClick:()=>d(g=>g+1),className:"p-2 hover:bg-[var(--surface-color)] rounded-lg transition-colors",title:"Yenile",children:c.jsx(E3,{size:20})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(h,{title:"Toplam Satış",value:f.currentSalesTotal,change:f.salesChange,icon:xh,color:"green"}),c.jsx(h,{title:"Satış Adedi",value:f.currentSalesCount,change:f.salesCountChange,icon:Is,color:"blue",format:"number"}),c.jsx(h,{title:"Net Kâr",value:f.currentProfit,change:f.profitChange,icon:ru,color:"purple"}),c.jsx(h,{title:"Giderler",value:f.currentExpenses,change:f.expensesChange,icon:co,color:"red"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(m,{title:"Yeni Satış",description:"Hızlı satış ekranını aç",icon:hs,color:"green",onClick:()=>o&&o("quickSale")}),c.jsx(m,{title:"Ürün Ekle",description:"Yeni ürün ekle",icon:vn,color:"blue",onClick:()=>o&&o("stock")}),c.jsx(m,{title:"Stok Kontrolü",description:"Kritik stok durumu",icon:co,color:"red",onClick:()=>o&&o("stock")}),c.jsx(m,{title:"Raporlar",description:"Detaylı raporları görüntüle",icon:PT,color:"purple",onClick:()=>o&&o("reports")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Günlük Satış Trendi"}),c.jsx($l,{width:"100%",height:300,children:c.jsxs(nbe,{data:f.dailySalesData,children:[c.jsx(gd,{strokeDasharray:"3 3"}),c.jsx(so,{dataKey:"day"}),c.jsx(lo,{}),c.jsx(Lr,{formatter:(g,v)=>[v==="revenue"?new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g):g,v==="revenue"?"Gelir":"Satış Adedi"]}),c.jsx(Po,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"revenue"})]})})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kategori Dağılımı"}),c.jsx($l,{width:"100%",height:300,children:c.jsxs(h3,{children:[c.jsx(Ii,{data:f.categoryData,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f.categoryData.map((g,v)=>c.jsx(ph,{fill:f.COLORS[v%f.COLORS.length]},`cell-${v}`))}),c.jsx(Lr,{formatter:g=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g)})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"En Çok Satan Ürünler"}),c.jsx("div",{className:"space-y-3",children:f.topProducts.map((g,v)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--surface-color)] rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-[var(--primary-600)] text-white rounded-full flex items-center justify-center text-sm font-bold",children:v+1}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:g.name}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:[g.quantity," adet satıldı"]})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"font-semibold text-sm",children:new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g.revenue)})})]},v))})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Stok Durumu"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Toplam Ürün Değeri:"}),c.jsx("span",{className:"font-semibold",children:new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(f.totalStockValue)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Kritik Stok:"}),c.jsxs("span",{className:"font-semibold text-orange-600",children:[f.lowStockProducts.length," ürün"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Stok Tükendi:"}),c.jsxs("span",{className:"font-semibold text-red-600",children:[f.outOfStockProducts.length," ürün"]})]}),f.lowStockProducts.slice(0,3).map(g=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[c.jsx("span",{className:"text-sm",children:g.name}),c.jsxs("span",{className:"text-xs text-red-600 font-semibold",children:[g.stock," adet"]})]},g.id))]})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Son Aktiviteler"}),c.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(g=>{var v,w,y;return c.jsxs("div",{className:"flex items-center gap-3 p-2 bg-[var(--surface-color)] rounded",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center",children:c.jsx(Is,{size:16})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(g.total||0)}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:((y=(w=(v=g.saleDate)==null?void 0:v.toDate)==null?void 0:w.call(v))==null?void 0:y.toLocaleString("tr-TR"))||"Tarih bilgisi yok"})]})]},g.id)})})]})]})]})},yTe=({products:t,categoryDiscounts:e,paths:r,onAddOrUpdateProduct:n,onDeleteProduct:i,formatCurrency:a,calculateDiscountedPrice:o})=>{const[s,l]=R.useState(""),[u,d]=R.useState("all"),[f,h]=R.useState("name"),[m,g]=R.useState("asc"),[v,w]=R.useState("grid"),[y,_]=R.useState(!1),[b,j]=R.useState(!1),[x,S]=R.useState([]),[T,k]=R.useState(!1),[E,I]=R.useState(!1),[O,P]=R.useState(!1),[C,L]=R.useState(null),[$,q]=R.useState(!1),U=R.useMemo(()=>["all",...[...new Set(t.map(W=>W.category).filter(Boolean))].sort()],[t]),F=R.useMemo(()=>{let K=t.filter(W=>{const B=W.name.toLowerCase().includes(s.toLowerCase())||W.barcode&&W.barcode.includes(s),ne=u==="all"||W.category===u,ae=!y||W.stock<=(W.criticalStockLevel||5),pe=!b||W.stock>0;return B&&ne&&ae&&pe});return K.sort((W,B)=>{var pe,Ce,Ve,Ye;let ne,ae;switch(f){case"name":ne=W.name.toLowerCase(),ae=B.name.toLowerCase();break;case"stock":ne=W.stock,ae=B.stock;break;case"price":ne=W.salePrice||0,ae=B.salePrice||0;break;case"category":ne=W.category||"",ae=B.category||"";break;case"lastUpdated":ne=((Ce=(pe=W.lastUpdatedAt)==null?void 0:pe.toDate)==null?void 0:Ce.call(pe))||new Date(0),ae=((Ye=(Ve=B.lastUpdatedAt)==null?void 0:Ve.toDate)==null?void 0:Ye.call(Ve))||new Date(0);break;default:ne=W.name.toLowerCase(),ae=B.name.toLowerCase()}return m==="asc"?ne>ae?1:-1:ne<ae?1:-1}),K},[t,s,u,f,m,y,b]),z=R.useMemo(()=>{const K=t.length,W=t.filter(pe=>pe.stock<=(pe.criticalStockLevel||5)),B=t.filter(pe=>pe.stock<=0),ne=t.reduce((pe,Ce)=>pe+Ce.stock*(Ce.salePrice||0),0),ae=K>0?t.reduce((pe,Ce)=>pe+(Ce.salePrice||0),0)/K:0;return{totalProducts:K,lowStockProducts:W.length,outOfStockProducts:B.length,totalStockValue:ne,averagePrice:ae}},[t]),X=K=>{f===K?g(m==="asc"?"desc":"asc"):(h(K),g("asc"))},re=K=>{if(x.length===0){ie.warning("Lütfen en az bir ürün seçin");return}switch(K){case"delete":confirm(`${x.length} ürünü silmek istediğinizden emin misiniz?`)&&(x.forEach(W=>{const B=t.find(ne=>ne.id===W);B&&i(W,B.name)}),S([]));break;case"export":V();break;case"print":Y();break}},V=()=>{const K=t.filter(B=>x.includes(B.id)),W=Z(K);ee("urunler.csv",W)},Y=()=>{const K=t.filter(B=>x.includes(B.id)),W=window.open("","_blank");W.document.write(we(K)),W.document.close(),W.print()},Z=K=>{const W=["Barkod","Ürün Adı","Kategori","Stok","Satış Fiyatı","Alış Fiyatı","Kritik Stok"],B=K.map(ne=>[ne.barcode||"",ne.name||"",ne.category||"",ne.stock||0,ne.salePrice||0,ne.purchasePrice||0,ne.criticalStockLevel||5]);return[W,...B].map(ne=>ne.map(ae=>`"${ae}"`).join(",")).join(`
`)},ee=(K,W)=>{const B=new Blob([W],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(B),ae=document.createElement("a");ae.href=ne,ae.setAttribute("download",K),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(ne),ie.success("CSV dosyası indiriliyor")},we=K=>`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Ürün Listesi</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; }
                    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                    th { background-color: #f2f2f2; }
                    .header { text-align: center; margin-bottom: 20px; }
                    @media print { .no-print { display: none; } }
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Ürün Listesi</h1>
                    <p>Oluşturulma Tarihi: ${new Date().toLocaleString("tr-TR")}</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Barkod</th>
                            <th>Ürün Adı</th>
                            <th>Kategori</th>
                            <th>Stok</th>
                            <th>Satış Fiyatı</th>
                            <th>Alış Fiyatı</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${K.map(W=>`
                            <tr>
                                <td>${W.barcode||""}</td>
                                <td>${W.name||""}</td>
                                <td>${W.category||""}</td>
                                <td>${W.stock||0}</td>
                                <td>${new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(W.salePrice||0)}</td>
                                <td>${new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(W.purchasePrice||0)}</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
            </body>
            </html>
        `,ge=({title:K,value:W,icon:B,color:ne="blue",format:ae="number"})=>{const pe=Ce=>ae==="currency"?new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(Ce):ae==="number"?new Intl.NumberFormat("tr-TR").format(Ce):Ce;return c.jsx("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:K}),c.jsx("p",{className:"text-xl font-bold text-[var(--text-color)] mt-1",children:pe(W)})]}),c.jsx("div",{className:`p-3 rounded-lg bg-${ne}-100 text-${ne}-600`,children:c.jsx(B,{size:20})})]})})},Le=({product:K,isSelected:W,onSelect:B,onEdit:ne,onDelete:ae})=>{const{finalPrice:pe,discountApplied:Ce}=o(K,e),Ve=K.stock<=(K.criticalStockLevel||5),Ye=K.stock<=0;return c.jsxs("div",{className:`bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-4 cursor-pointer transition-all duration-200 ease-in-out hover:shadow-md hover:scale-[1.02] ${W?"ring-2 ring-[var(--primary-500)] shadow-lg":""} ${Ye?"bg-red-50 border-red-200":Ve?"bg-orange-50 border-orange-200":""}`,onClick:()=>B(K.id),children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:K.name}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:K.category||"Kategorisiz"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[Ye&&c.jsx(t0,{size:16,className:"text-red-600"}),Ve&&!Ye&&c.jsx(co,{size:16,className:"text-orange-600"}),!Ve&&!Ye&&c.jsx(Yi,{size:16,className:"text-green-600"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-lg font-bold text-[var(--primary-600)]",children:a(pe)}),c.jsxs("span",{className:`text-sm font-semibold ${Ye?"text-red-600":Ve?"text-orange-600":"text-green-600"}`,children:["Stok: ",K.stock]})]}),Ce>0&&c.jsx("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:c.jsx("span",{children:"İndirimli"})}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-muted-color)]",children:[c.jsxs("span",{children:["Barkod: ",K.barcode||"Yok"]}),c.jsxs("span",{children:["Kritik: ",K.criticalStockLevel||5]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[c.jsxs("button",{onClick:se=>{se.stopPropagation(),ne(K)},className:"flex-1 p-2 bg-[var(--primary-600)] text-white rounded text-xs hover:bg-[var(--primary-700)] transition-colors duration-200",children:[c.jsx(Zp,{size:12,className:"inline mr-1"}),"Düzenle"]}),c.jsx("button",{onClick:se=>{se.stopPropagation(),ae(K.id,K.name)},className:"p-2 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors duration-200",children:c.jsx(Xi,{size:12})})]})]})]})},G=({product:K,isSelected:W,onSelect:B,onEdit:ne,onDelete:ae})=>{const{finalPrice:pe,discountApplied:Ce}=o(K,e),Ve=K.stock<=(K.criticalStockLevel||5),Ye=K.stock<=0;return c.jsxs("div",{className:`flex items-center gap-4 p-4 bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg cursor-pointer transition-all duration-200 ease-in-out hover:shadow-sm hover:scale-[1.01] ${W?"ring-2 ring-[var(--primary-500)] shadow-md":""} ${Ye?"bg-red-50 border-red-200":Ve?"bg-orange-50 border-orange-200":""}`,onClick:()=>B(K.id),children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[Ye&&c.jsx(t0,{size:16,className:"text-red-600"}),Ve&&!Ye&&c.jsx(co,{size:16,className:"text-orange-600"}),!Ve&&!Ye&&c.jsx(Yi,{size:16,className:"text-green-600"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:K.name}),c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:[K.category||"Kategorisiz"," • Barkod: ",K.barcode||"Yok"]})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-[var(--primary-600)]",children:a(pe)}),c.jsxs("p",{className:`text-sm ${Ye?"text-red-600":Ve?"text-orange-600":"text-green-600"}`,children:["Stok: ",K.stock]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:se=>{se.stopPropagation(),ne(K)},className:"p-2 bg-[var(--primary-600)] text-white rounded hover:bg-[var(--primary-700)] transition-colors duration-200",children:c.jsx(Zp,{size:14})}),c.jsx("button",{onClick:se=>{se.stopPropagation(),ae(K.id,K.name)},className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors duration-200",children:c.jsx(Xi,{size:14})})]})]})]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-color)]",children:"Stok Yönetimi"}),c.jsx("p",{className:"text-[var(--text-muted-color)]",children:"Ürünlerinizi yönetin ve stok durumlarını takip edin"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>q(!0),className:"px-4 py-2 border border-[var(--border-color)] rounded-lg hover:bg-[var(--surface-color)] flex items-center gap-2",children:[c.jsx(f1,{size:16}),"İçe Aktar"]}),c.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] flex items-center gap-2",children:[c.jsx(T3,{size:16}),"Yeni Ürün"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsx(ge,{title:"Toplam Ürün",value:z.totalProducts,icon:vn,color:"blue"}),c.jsx(ge,{title:"Kritik Stok",value:z.lowStockProducts,icon:co,color:"orange"}),c.jsx(ge,{title:"Stok Tükendi",value:z.outOfStockProducts,icon:t0,color:"red"}),c.jsx(ge,{title:"Toplam Değer",value:z.totalStockValue,icon:xh,color:"green",format:"currency"}),c.jsx(ge,{title:"Ortalama Fiyat",value:z.averagePrice,icon:ru,color:"purple",format:"currency"})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(IT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--text-muted-color)]",size:16}),c.jsx("input",{type:"text",placeholder:"Ürün ara...",value:s,onChange:K=>l(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]"})]}),c.jsx("select",{value:u,onChange:K=>d(K.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",children:U.map(K=>c.jsx("option",{value:K,children:K==="all"?"Tüm Kategoriler":K},K))}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:y,onChange:K=>_(K.target.checked),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Sadece Kritik Stok"})]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:K=>j(K.target.checked),className:"rounded"}),c.jsx("span",{className:"text-sm",children:"Sadece Tükenen"})]}),c.jsx("div",{className:"flex items-center gap-1 border border-[var(--border-color)] rounded-lg p-1",children:[{mode:"grid",icon:vn,label:"Grid"},{mode:"list",icon:bh,label:"Liste"},{mode:"compact",icon:ybe,label:"Kompakt"}].map(({mode:K,icon:W,label:B})=>c.jsxs("button",{onClick:()=>w(K),className:`p-2 rounded text-sm flex items-center gap-1 transition-colors ${v===K?"bg-[var(--primary-600)] text-white":"hover:bg-[var(--surface-color)]"}`,children:[c.jsx(W,{size:14}),c.jsx("span",{className:"hidden sm:inline",children:B})]},K))})]}),x.length>0&&c.jsxs("div",{className:"flex items-center gap-3 mt-4 pt-4 border-t border-[var(--border-color)]",children:[c.jsxs("span",{className:"text-sm text-[var(--text-muted-color)]",children:[x.length," ürün seçildi"]}),c.jsxs("button",{onClick:()=>re("export"),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 flex items-center gap-1",children:[c.jsx(tu,{size:14}),"Dışa Aktar"]}),c.jsxs("button",{onClick:()=>re("print"),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 flex items-center gap-1",children:[c.jsx(k3,{size:14}),"Yazdır"]}),c.jsxs("button",{onClick:()=>re("delete"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 flex items-center gap-1",children:[c.jsx(Xi,{size:14}),"Sil"]}),c.jsx("button",{onClick:()=>S([]),className:"px-3 py-1 border border-[var(--border-color)] rounded text-sm hover:bg-[var(--surface-color)]",children:"Seçimi Temizle"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-[var(--text-muted-color)]",children:"Sırala:"}),[{key:"name",label:"Ürün Adı"},{key:"stock",label:"Stok"},{key:"price",label:"Fiyat"},{key:"category",label:"Kategori"},{key:"lastUpdated",label:"Son Güncelleme"}].map(({key:K,label:W})=>c.jsxs("button",{onClick:()=>X(K),className:`px-3 py-1 rounded text-sm flex items-center gap-1 transition-colors ${f===K?"bg-[var(--primary-600)] text-white":"hover:bg-[var(--surface-color)]"}`,children:[W,f===K&&(m==="asc"?c.jsx(cbe,{size:12}):c.jsx(lbe,{size:12}))]},K))]}),c.jsxs("div",{className:"space-y-4",children:[v==="grid"&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map(K=>c.jsx(Le,{product:K,isSelected:x.includes(K.id),onSelect:W=>{S(B=>B.includes(W)?B.filter(ne=>ne!==W):[...B,W])},onEdit:W=>{L(W),P(!0)},onDelete:i},K.id))}),v==="list"&&c.jsx("div",{className:"space-y-2",children:F.map(K=>c.jsx(G,{product:K,isSelected:x.includes(K.id),onSelect:W=>{S(B=>B.includes(W)?B.filter(ne=>ne!==W):[...B,W])},onEdit:W=>{L(W),P(!0)},onDelete:i},K.id))}),v==="compact"&&c.jsx("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-[var(--surface-color)]",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Ürün"}),c.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Kategori"}),c.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"Stok"}),c.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold",children:"Fiyat"}),c.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold",children:"İşlemler"})]})}),c.jsx("tbody",{children:F.map(K=>c.jsxs("tr",{className:"border-t border-[var(--border-color)] hover:bg-[var(--surface-color)]",children:[c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:K.name}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:K.barcode||"Barkod yok"})]})}),c.jsx("td",{className:"px-4 py-3 text-sm",children:K.category||"-"}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${K.stock<=0?"bg-red-100 text-red-600":K.stock<=(K.criticalStockLevel||5)?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:K.stock})}),c.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:a(K.salePrice||0)}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{L(K),P(!0)},className:"p-1 text-[var(--primary-600)] hover:bg-[var(--primary-100)] rounded",children:c.jsx(Zp,{size:14})}),c.jsx("button",{onClick:()=>i(K.id,K.name),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:c.jsx(Xi,{size:14})})]})})]},K.id))})]})}),F.length===0&&c.jsxs("div",{className:"text-center py-12 text-[var(--text-muted-color)]",children:[c.jsx(vn,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Ürün bulunamadı"}),c.jsx("p",{className:"text-sm",children:"Filtreleri değiştirmeyi deneyin"})]})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>I(!1),children:c.jsxs("div",{className:"bg-[var(--bg-color)] w-full max-w-lg rounded-xl p-6 border border-[var(--border-color)]",onClick:K=>K.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Yeni Ürün"}),c.jsx(WI,{initial:{name:"",barcode:"",stock:0,salePrice:0,purchasePrice:0,category:"",criticalStockLevel:5},onCancel:()=>I(!1),onSave:K=>{n(K),I(!1)}})]})}),O&&C&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>P(!1),children:c.jsxs("div",{className:"bg-[var(--bg-color)] w-full max-w-lg rounded-xl p-6 border border-[var(--border-color)]",onClick:K=>K.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ürünü Düzenle"}),c.jsx(WI,{initial:{...C},onCancel:()=>P(!1),onSave:K=>{n(K),P(!1),L(null)}})]})})]})},WI=({initial:t,onSave:e,onCancel:r})=>{const[n,i]=R.useState(t);return c.jsxs("form",{onSubmit:a=>{a.preventDefault(),e(n)},className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-sm",children:["Ad",c.jsx("input",{value:n.name,onChange:a=>i({...n,name:a.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",required:!0})]}),c.jsxs("label",{className:"text-sm",children:["Barkod",c.jsx("input",{value:n.barcode,onChange:a=>i({...n,barcode:a.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("label",{className:"text-sm",children:["Stok",c.jsx("input",{type:"number",value:n.stock,onChange:a=>i({...n,stock:parseInt(a.target.value||"0",10)}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",min:0})]}),c.jsxs("label",{className:"text-sm",children:["Alış ₺",c.jsx("input",{type:"number",step:"0.01",value:n.purchasePrice||0,onChange:a=>i({...n,purchasePrice:parseFloat(a.target.value||"0")}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",min:0})]}),c.jsxs("label",{className:"text-sm",children:["Satış ₺",c.jsx("input",{type:"number",step:"0.01",value:n.salePrice||0,onChange:a=>i({...n,salePrice:parseFloat(a.target.value||"0")}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",min:0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-sm",children:["Kategori",c.jsx("input",{value:n.category||"",onChange:a=>i({...n,category:a.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]"})]}),c.jsxs("label",{className:"text-sm",children:["Kritik Stok",c.jsx("input",{type:"number",value:n.criticalStockLevel??5,onChange:a=>i({...n,criticalStockLevel:parseInt(a.target.value||"0",10)}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]",min:0})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[c.jsx("button",{type:"button",onClick:r,className:"px-3 py-2 border border-[var(--border-color)] rounded-lg",children:"İptal"}),c.jsx("button",{type:"submit",className:"px-3 py-2 bg-[var(--primary-600)] text-white rounded-lg",children:"Kaydet"})]})]})},im=typeof __firebase_config<"u"&&__firebase_config?JSON.parse(__firebase_config):{apiKey:"AIzaSyAb0VoKLRJKKgst9DVC_cb2ZU5wchfdTIM",authDomain:"stok-takip-uygulamam-5e4a5.firebaseapp.com",projectId:"stok-takip-uygulamam-5e4a5",storageBucket:"stok-takip-uygulamam-5e4a5.appspot.com",messagingSenderId:"393027640266",appId:"1:393027640266:web:020f72a9a23f3fd5fa4d33",measurementId:"G-SZ4DSQK66C"},Gt=typeof __app_id<"u"?__app_id:"default-app-id";let Pp,Cn,ye;try{Pp=pD(im),Cn=o7(Pp),ye=Kq(Pp),console.log("Firebase initialized successfully:",{app:Pp,auth:Cn,db:ye})}catch(t){console.error("Firebase initialization failed:",t),(!im.apiKey||im.apiKey==="YOUR_API_KEY")&&ie.error("Firebase yapılandırması eksik. Lütfen kod içerisindeki yerel geliştirme ayarlarını yapın.")}const he=t=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(t||0),Js=(t,e=[])=>{if(!t||!t.salePrice)return{finalPrice:0,discountApplied:0,originalPrice:0,appliedRule:null};const r=t.salePrice;let n=null,i=null;if(t.discountValue>0)n={value:t.discountValue,type:t.discountType},i="product";else if(t.category){const s=e.find(l=>l.id.toLowerCase()===t.category.toLowerCase());s&&s.discountValue>0&&(n={value:s.discountValue,type:s.discountType},i="category")}if(!n)return{finalPrice:r,discountApplied:0,originalPrice:r,appliedRule:null};let a,o=0;if(n.type==="percentage"){const s=r*parseFloat(n.value)/100;a=r-s,o=s}else a=r-parseFloat(n.value),o=parseFloat(n.value);return a=Math.max(0,a),{finalPrice:a,discountApplied:o,originalPrice:r,appliedRule:i}},hk=(t,e)=>{const r=a=>{if(a==null)return"";const o=String(a).replace(/"/g,'""');return/[",\n]/.test(o)?`"${o}"`:o},n=t.map(a=>r(a.label)).join(","),i=e.map(a=>t.map(o=>r(typeof o.value=="function"?o.value(a):a[o.value])).join(","));return[n,...i].join(`
`)},kh=(t,e,r)=>{try{const n=hk(e,r),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),ie.success("CSV indirilmeye hazır.")}catch(n){console.error("CSV export error:",n),ie.error("CSV oluşturulurken bir hata oluştu.")}},xTe=t=>{const e=h=>h==null?"":String(h),r=t.purchaseDate&&t.purchaseDate.toDate?t.purchaseDate.toDate().toLocaleString("tr-TR"):"",n=e(t.supplier),i=e(t.invoiceNumber),a=e(t.notes),o=Array.isArray(t.items)&&t.items.length>0?t.items:[{barcode:e(t.barcode),name:e(t.productName),quantity:Number(t.quantity||0),purchasePrice:Number(t.purchasePrice||0),lineTotal:Number(t.totalCost||0)}],s=Number(t.subTotal??o.reduce((h,m)=>h+(m.lineTotal??m.quantity*m.purchasePrice),0)),l=Number(t.vatRate||0),u=Number(t.vatAmount??s*l/100),d=Number(t.totalCost??s+u),f=o.map((h,m)=>`
        <tr>
            <td>${m+1}</td>
            <td>${e(h.barcode)}</td>
            <td>${e(h.name)}</td>
            <td class="right">${Number(h.quantity||0)}</td>
            <td class="right">${he(Number(h.purchasePrice||0))}</td>
            <td class="right">${he(Number(h.lineTotal??Number(h.quantity||0)*Number(h.purchasePrice||0)))}</td>
        </tr>
    `).join("");return`<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Satın Alma Fişi</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Inter, Arial, sans-serif; padding: 24px; color: #0f172a; }
  h1 { font-size: 18px; margin: 0 0 8px; }
  .muted { color: #64748b; font-size: 12px; }
  .section { margin-top: 16px; }
  table { width: 100%; border-collapse: collapse; margin-top: 8px; }
  th, td { border: 1px solid #e2e8f0; padding: 8px; font-size: 12px; }
  th { background: #f8fafc; text-align: left; }
  .right { text-align: right; }
  .totals { margin-top: 12px; width: 100%; }
  .totals td { border: none; padding: 4px 0; }
  .totals .label { color: #64748b; }
  .totals .value { text-align: right; font-weight: 600; }
  @media print { button { display: none; } body { padding: 0; } }
  .header { display: flex; justify-content: space-between; align-items: flex-start; gap: 16px; }
  .brand { font-weight: 800; color: #0ea5e9; }
  .notes { margin-top: 8px; font-size: 12px; color: #334155; }
  .actions { margin-top: 16px; }
  .btn { padding: 8px 12px; border-radius: 8px; border: 1px solid #e2e8f0; background: #f8fafc; cursor: pointer; }
  .btn:hover { background: #f1f5f9; }
  .foot { margin-top: 24px; font-size: 11px; color: #94a3b8; }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
  .grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .box { border: 1px solid #e2e8f0; border-radius: 8px; padding: 8px; }
  .title { font-weight: 600; margin-bottom: 4px; }
  .kv { display: flex; justify-content: space-between; gap: 12px; font-size: 12px; }
  .kv .k { color: #64748b; }
</style>
</head>
<body>
  <div class="header">
    <div>
      <div class="brand">${t.companyName||"Stok Takip"}</div>
      <h1>Satın Alma Fişi</h1>
      <div class="muted">Tarih: <span class="mono">${r}</span></div>
    </div>
    <div class="grid2" style="min-width:280px;">
      <div class="box">
        <div class="title">Tedarikçi</div>
        <div class="kv"><span class="k">Ad</span><span>${n||"-"}</span></div>
        <div class="kv"><span class="k">Fatura No</span><span class="mono">${i||"-"}</span></div>
      </div>
      <div class="box">
        <div class="title">Özet</div>
        <div class="kv"><span class="k">Ara Toplam</span><span class="value">${he(s)}</span></div>
        <div class="kv"><span class="k">KDV (${l}%)</span><span class="value">${he(u)}</span></div>
        <div class="kv"><span class="k">Genel Toplam</span><span class="value">${he(d)}</span></div>
      </div>
    </div>
  </div>

  <div class="section">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Barkod</th>
          <th>Ürün</th>
          <th class="right">Miktar</th>
          <th class="right">Birim Alış</th>
          <th class="right">Tutar</th>
        </tr>
      </thead>
      <tbody>
        ${f}
      </tbody>
    </table>
  </div>

  ${a?`<div class="notes"><strong>Not:</strong> ${a}</div>`:""}

  <div class="actions">
    <button class="btn" onclick="window.print()">Yazdır</button>
  </div>

  <div class="foot">Bu fiş Stok Takip Sistemi tarafından oluşturulmuştur.</div>
</body>
</html>`},bTe=t=>{try{const e=xTe({...t,companyName:t.companyName||(window==null?void 0:window.__company_name)||""}),r=window.open("","_blank","noopener,noreferrer,width=800,height=900");if(!r){ie.error("Yazdırma penceresi engellendi. Lütfen açılır pencere iznini verin.");return}r.document.open(),r.document.write(e),r.document.close()}catch(e){console.error("Print error:",e),ie.error("Fiş oluşturulurken bir hata oluştu.")}},uF=R.createContext(null),dF=R.createContext(),fF=R.createContext(),wTe=({children:t})=>{const[e,r]=R.useState(null),[n,i]=R.useState(!1);R.useEffect(()=>{const o=Y9(Cn,l=>{console.log("Auth state changed:",l?`User: ${l.email}`:"No user"),r(l),i(!0)});return(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{Cn.currentUser||await U9(Cn,__initial_auth_token)}catch(l){console.error("Custom token ile giriş başarısız:",l),ie.error("Oturum doğrulanırken bir hata oluştu."),i(!0)}else i(!0)})(),()=>o()},[]);const a={user:e,authIsReady:n};return c.jsx(uF.Provider,{value:a,children:t})},hF=()=>R.useContext(uF),_Te=({children:t})=>{const[e,r]=R.useState("light"),[n,i]=R.useState("teal"),a=R.useMemo(()=>({teal:{name:"Yeşil",primary100:"#ccfbf1",primary500:"#14b8a6",primary600:"#0d9488",primary700:"#0f766e",darkPrimary100:"#115e59"},blue:{name:"Mavi",primary100:"#dbeafe",primary500:"#3b82f6",primary600:"#2563eb",primary700:"#1d4ed8",darkPrimary100:"#1e3a8a"},rose:{name:"Gül",primary100:"#ffe4e6",primary500:"#f43f5e",primary600:"#e11d48",primary700:"#be123c",darkPrimary100:"#881337"},indigo:{name:"Çivit",primary100:"#e0e7ff",primary500:"#6366f1",primary600:"#4f46e5",primary700:"#4338ca",darkPrimary100:"#312e81"}}),[]),o=R.useCallback((l,u)=>{if(!l||!u)return;const d=document.documentElement;d.setAttribute("data-theme",l),d.setAttribute("data-palette",u),document.body.className=l==="dark"?"dark":"light"},[]);R.useEffect(()=>{const l=localStorage.getItem("theme")||"light",u=localStorage.getItem("palette")||"teal";r(l),i(u),o(l,u)},[o]);const s=R.useCallback((l,u)=>{localStorage.setItem("theme",l),localStorage.setItem("palette",u)},[]);return c.jsx(dF.Provider,{value:{theme:e,palette:n,setTheme:r,setPalette:i,applyTheme:o,persistSettings:s,colorPalettes:a},children:t})},Ah=()=>R.useContext(dF),STe=({children:t})=>{const[e,r]=R.useState("loading"),n={page:e,setPage:r};return c.jsx(fF.Provider,{value:n,children:t})},Ey=()=>R.useContext(fF);function TTe(){return c.jsx(wTe,{children:c.jsx(_Te,{children:c.jsx(rke,{children:c.jsx(tke,{children:c.jsx(STe,{children:c.jsx(kTe,{})})})})})})}const kTe=()=>{const{user:t,authIsReady:e}=hF(),{page:r,setPage:n}=Ey(),{theme:i}=Ah();R.useEffect(()=>{e&&n(t?"app":"landing")},[t,e,n]);const a=()=>{if(!e)return c.jsx(Nc,{fullPage:!0,message:"Oturum durumu kontrol ediliyor..."});switch(r){case"app":return c.jsx(PTe,{});case"login":return c.jsx(jTe,{});case"landing":return c.jsx(ETe,{});case"loading":default:return c.jsx(Nc,{fullPage:!0})}};return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
                    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
                    body { 
                        font-family: 'Inter', sans-serif; 
                        background-color: var(--bg-color);
                        color: var(--text-color);
                        transition: background-color 0.3s ease, color 0.3s ease;
                    }
                    :root {
                        --bg-color: #ffffff;
                        --surface-color: #f8fafc;
                        --surface-hover-color: #f1f5f9;
                        --border-color: #e2e8f0;
                        --text-color: #0f172a;
                        --text-muted-color: #64748b;
                    }
                    .dark {
                        --bg-color: #0f172a;
                        --surface-color: #1e293b;
                        --surface-hover-color: #334155;
                        --border-color: #334155;
                        --text-color: #e2e8f0;
                        --text-muted-color: #94a3b8;
                    }
                    .dark { --primary-100: var(--dark-primary-100); }
                    .recharts-tooltip-wrapper { outline: none !important; }
                    .recharts-default-tooltip {
                        background-color: var(--surface-color) !important;
                        border-color: var(--border-color) !important;
                        border-radius: 0.75rem !important;
                        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
                    }
                    .recharts-tooltip-label { color: var(--text-color) !important; }
                    ::-webkit-scrollbar { width: 8px; }
                    ::-webkit-scrollbar-track { background: transparent; }
                    ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
                    ::-webkit-scrollbar-thumb:hover { background: #64748b; }
                `}),c.jsx(NW,{richColors:!0,position:"top-right",theme:i}),c.jsx(Lf,{mode:"wait",children:c.jsx(ti.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a()},r)})]})},ATe=()=>{const t=[{icon:c.jsx(vn,{size:32}),title:"1. Ürünlerini Ekle",description:"Stoktaki ürünlerinizi barkod, fiyat ve kategori bilgileriyle sisteme kaydedin."},{icon:c.jsx(Is,{size:32}),title:"2. Satışını Yap",description:"Hızlı satış ekranından barkod okutarak veya ürün seçerek saniyeler içinde satışınızı tamamlayın."},{icon:c.jsx(PT,{size:32}),title:"3. Raporları İncele",description:"Ciro, kâr ve en çok satan ürünler gibi verilerle işletmenizin performansını anlık olarak takip edin."}];return c.jsx("div",{className:"bg-[var(--surface-color)] py-24 sm:py-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[c.jsx("h2",{className:"text-base font-semibold leading-7 text-[var(--primary-600)]",children:"3 Basit Adım"}),c.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-[var(--text-color)] sm:text-4xl",children:"Nasıl Çalışır?"})]}),c.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:c.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3",children:t.map(e=>c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-lg bg-[var(--primary-600)] text-white mb-6",children:e.icon}),c.jsx("dt",{className:"text-xl font-semibold leading-7 text-[var(--text-color)]",children:e.title}),c.jsx("dd",{className:"mt-2 text-base leading-7 text-[var(--text-muted-color)]",children:e.description})]},e.title))})})]})})},ETe=()=>{const{setPage:t}=Ey(),e=[{icon:c.jsx(vn,{size:24}),title:"Kolay Stok Yönetimi",description:"Ürünlerinizi barkodlarıyla kolayca ekleyin, stok adetlerinizi anlık olarak takip edin."},{icon:c.jsx(hs,{size:24}),title:"Hızlı Satış Ekranı",description:"Nakit, kart, veresiye gibi farklı ödeme türleriyle saniyeler içinde satış yapın."},{icon:c.jsx(ube,{size:24}),title:"Detaylı Raporlama",description:"Satışlarınızı günlük, haftalık, aylık ve yıllık periyotlarda analiz edin."},{icon:c.jsx(xbe,{size:24}),title:"Veri Dışa Aktarma",description:"Stok ve satış verilerinizi CSV formatında indirerek muhasebe işlemlerinizi kolaylaştırın."}],r=[{q:"Uygulamayı kullanmak için herhangi bir ücret ödemem gerekiyor mu?",a:"Hayır, uygulamanın temel özellikleri tamamen ücretsizdir. Gelecekte eklenecek profesyonel özellikler için isteğe bağlı bir Premium paket sunulabilir."},{q:"Verilerim güvende mi?",a:"Evet, tüm verileriniz Google'ın güvenli bulut altyapısında (Firebase) saklanmaktadır. Verilerinize sadece siz erişebilirsiniz."},{q:"Uygulamayı birden fazla cihazda kullanabilir miyim?",a:"Evet, aynı hesap bilgileriyle giriş yaparak uygulamayı bilgisayar, tablet veya telefon gibi farklı cihazlardan kullanabilirsiniz. Verileriniz tüm cihazlarınızda senkronize olur."},{q:"Barkod okuyucu zorunlu mu?",a:"Hayır, zorunlu değil. Barkodları manuel olarak da girebilirsiniz. Ancak barkod okuyucu, işlemleri önemli ölçüde hızlandırır."}],[n,i]=R.useState(null);return c.jsxs("div",{className:"bg-[var(--bg-color)]",children:[c.jsx("header",{className:"absolute inset-x-0 top-0 z-50",children:c.jsxs("nav",{className:"flex items-center justify-between p-6 lg:px-8","aria-label":"Global",children:[c.jsx("div",{className:"flex lg:flex-1",children:c.jsxs("button",{onClick:()=>t("landing"),className:"-m-1.5 p-1.5 flex items-center gap-2",children:[c.jsx(NT,{className:"h-8 w-auto text-[var(--primary-600)]"}),c.jsx("span",{className:"font-bold text-xl text-[var(--text-color)]",children:"Stok Takip"})]})}),c.jsx("div",{className:"flex lg:flex-1 lg:justify-end",children:c.jsxs("button",{onClick:()=>t("login"),className:"text-sm font-semibold leading-6 text-[var(--text-color)]",children:["Giriş Yap ",c.jsx("span",{"aria-hidden":"true",children:"→"})]})})]})}),c.jsxs("main",{children:[c.jsxs("div",{className:"relative isolate px-6 pt-14 lg:px-8",children:[c.jsx("div",{className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80","aria-hidden":"true",children:c.jsx("div",{className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#80ffdb] to-[var(--primary-600)] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]",style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"}})}),c.jsx("div",{className:"mx-auto max-w-2xl py-32 sm:py-48 lg:py-56",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight text-[var(--text-color)] sm:text-6xl",children:"İşletmeniz için Modern Stok Yönetimi"}),c.jsx("p",{className:"mt-6 text-lg leading-8 text-[var(--text-muted-color)]",children:"Satışlarınızı hızlandırın, stoklarınızı kontrol altında tutun ve veriye dayalı kararlar alarak işletmenizi büyütün. Hepsi tek bir platformda."}),c.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:c.jsx("button",{onClick:()=>t("login"),className:"rounded-md bg-[var(--primary-600)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-[var(--primary-500)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--primary-600)]",children:"Hemen Başla"})})]})})]}),c.jsx(ATe,{}),c.jsx("div",{className:"bg-[var(--surface-color)] py-24 sm:py-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[c.jsx("h2",{className:"text-base font-semibold leading-7 text-[var(--primary-600)]",children:"Her Şey Kontrol Altında"}),c.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-[var(--text-color)] sm:text-4xl",children:"İşletmenizi Büyütecek Özellikler"}),c.jsx("p",{className:"mt-6 text-lg leading-8 text-[var(--text-muted-color)]",children:"Karmaşık tablolara ve manuel takibe son. İhtiyacınız olan her şey, basit ve anlaşılır bir arayüzde."})]}),c.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-4xl",children:c.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-10 lg:max-w-none lg:grid-cols-2 lg:gap-y-16",children:e.map(a=>c.jsxs("div",{className:"relative pl-16",children:[c.jsxs("dt",{className:"text-base font-semibold leading-7 text-[var(--text-color)]",children:[c.jsx("div",{className:"absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-[var(--primary-600)] text-white",children:a.icon}),a.title]}),c.jsx("dd",{className:"mt-2 text-base leading-7 text-[var(--text-muted-color)]",children:a.description})]},a.title))})})]})}),c.jsx("div",{className:"bg-[var(--bg-color)] py-24 sm:py-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-2xl sm:text-center",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-[var(--text-color)] sm:text-4xl",children:"Basit ve Şeffaf Fiyatlandırma"}),c.jsx("p",{className:"mt-6 text-lg leading-8 text-[var(--text-muted-color)]",children:"İhtiyaçlarınıza en uygun paketi seçin. Gizli ücretler veya sürprizler yok."})]}),c.jsxs("div",{className:"mx-auto mt-16 max-w-2xl rounded-3xl ring-1 ring-[var(--border-color)] sm:mt-20 lg:mx-0 lg:flex lg:max-w-none",children:[c.jsxs("div",{className:"p-8 sm:p-10 lg:flex-auto",children:[c.jsx("h3",{className:"text-2xl font-bold tracking-tight text-[var(--text-color)]",children:"Temel Paket"}),c.jsx("p",{className:"mt-6 text-base leading-7 text-[var(--text-muted-color)]",children:"Küçük işletmeler ve yeni başlayanlar için temel stok takibi ve satış özellikleri."}),c.jsxs("div",{className:"mt-10 flex items-center gap-x-4",children:[c.jsx("h4",{className:"flex-none text-sm font-semibold leading-6 text-[var(--primary-600)]",children:"Neler Dahil?"}),c.jsx("div",{className:"h-px flex-auto bg-[var(--border-color)]"})]}),c.jsxs("ul",{role:"list",className:"mt-8 grid grid-cols-1 gap-4 text-sm leading-6 text-[var(--text-muted-color)] sm:grid-cols-2 sm:gap-6",children:[c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(Yi,{className:"h-6 w-5 flex-none text-[var(--primary-600)]"}),"Sınırsız Ürün Ekleme"]}),c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(Yi,{className:"h-6 w-5 flex-none text-[var(--primary-600)]"}),"Hızlı Satış Ekranı"]}),c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(Yi,{className:"h-6 w-5 flex-none text-[var(--primary-600)]"}),"Günlük Raporlar"]}),c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(Yi,{className:"h-6 w-5 flex-none text-[var(--primary-600)]"}),"Veresiye Takibi"]})]})]}),c.jsx("div",{className:"-mt-2 p-2 lg:mt-0 lg:w-full lg:max-w-md lg:flex-shrink-0",children:c.jsx("div",{className:"rounded-2xl bg-[var(--surface-color)] py-10 text-center ring-1 ring-inset ring-gray-900/5 lg:flex lg:flex-col lg:justify-center lg:py-16",children:c.jsxs("div",{className:"mx-auto max-w-xs px-8",children:[c.jsx("p",{className:"text-base font-semibold text-[var(--text-muted-color)]",children:"Tamamen Ücretsiz"}),c.jsx("p",{className:"mt-6 flex items-baseline justify-center gap-x-2",children:c.jsx("span",{className:"text-5xl font-bold tracking-tight text-[var(--text-color)]",children:"₺0"})}),c.jsx("button",{onClick:()=>t("login"),className:"mt-10 block w-full rounded-md bg-[var(--primary-600)] px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-[var(--primary-500)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--primary-600)]",children:"Hesap Oluştur"}),c.jsx("p",{className:"mt-6 text-xs leading-5 text-[var(--text-muted-color)]",children:"Kredi kartı gerekmez. Hemen kullanmaya başlayın."})]})})})]})]})}),c.jsx("div",{className:"bg-[var(--surface-color)]",children:c.jsx("div",{className:"mx-auto max-w-7xl px-6 py-24 sm:py-32 lg:px-8 lg:py-40",children:c.jsxs("div",{className:"mx-auto max-w-4xl divide-y divide-[var(--border-color)]",children:[c.jsx("h2",{className:"text-2xl font-bold leading-10 tracking-tight text-[var(--text-color)]",children:"Sıkça Sorulan Sorular"}),c.jsx("dl",{className:"mt-10 space-y-6 divide-y divide-[var(--border-color)]",children:r.map((a,o)=>c.jsxs("div",{className:"pt-6",children:[c.jsx("dt",{children:c.jsxs("button",{onClick:()=>i(n===o?null:o),className:"flex w-full items-start justify-between text-left text-[var(--text-color)]",children:[c.jsx("span",{className:"text-base font-semibold leading-7",children:a.q}),c.jsx("span",{className:"ml-6 flex h-7 items-center",children:c.jsx(hbe,{className:`h-6 w-6 transform transition-transform duration-200 ${n===o?"rotate-180":""}`})})]})}),n===o&&c.jsx("dd",{className:"mt-2 pr-12",children:c.jsx("p",{className:"text-base leading-7 text-[var(--text-muted-color)]",children:a.a})})]},a.q))})]})})})]}),c.jsx("footer",{className:"bg-slate-800 text-white",children:c.jsx("div",{className:"mx-auto max-w-7xl overflow-hidden px-6 py-12 lg:px-8",children:c.jsx("p",{className:"text-center text-xs leading-5 text-slate-400",children:"© 2024 Stok Takip Sistemi. Tüm hakları saklıdır."})})})]})},jTe=()=>{const[t,e]=R.useState(!0),[r,n]=R.useState(""),[i,a]=R.useState(""),[o,s]=R.useState(!0),{setPage:l}=Ey(),[u,d]=R.useState(!1),f=async m=>{if(m.preventDefault(),!r||!i){ie.warning("Lütfen e-posta ve şifre alanlarını doldurun.");return}d(!0),console.log("Authentication attempt:",{email:r,isLogin:t,rememberMe:o});try{if(await W9(Cn,o?KD:$_),console.log("Persistence set successfully"),t){console.log("Attempting sign in...");const v=await q9(Cn,r,i);console.log("Sign in successful:",v.user),ie.success("Başarıyla giriş yapıldı!")}else{console.log("Attempting sign up...");const v=await K9(Cn,r,i);console.log("Sign up successful:",v.user),ie.success("Hesabınız başarıyla oluşturuldu! Giriş yapılıyor...")}}catch(g){console.error("Authentication error:",g),console.error("Error code:",g.code),console.error("Error message:",g.message);let v="Giriş bilgileri hatalı veya kullanıcı bulunamadı.";g.code==="auth/weak-password"?v="Şifre en az 6 karakter olmalıdır.":g.code==="auth/email-already-in-use"?v="Bu e-posta adresi zaten kullanılıyor.":g.code==="auth/user-not-found"?v="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı.":g.code==="auth/wrong-password"?v="Şifre hatalı.":g.code==="auth/invalid-email"?v="Geçersiz e-posta adresi.":g.code==="auth/too-many-requests"?v="Çok fazla başarısız deneme. Lütfen daha sonra tekrar deneyin.":g.code==="auth/network-request-failed"&&(v="Ağ bağlantısı hatası. İnternet bağlantınızı kontrol edin."),ie.error(v)}finally{d(!1)}},h=async()=>{try{console.log("Testing Firebase connection..."),console.log("Firebase config:",im),console.log("Auth object:",Cn),console.log("DB object:",ye);const m=Ee(ye,"test","connection");await Rr(m,{test:!0,timestamp:_e()}),console.log("Firestore connection test successful"),console.log("Current auth user:",Cn.currentUser),console.log("Auth ready:",Cn),ie.success("Firebase bağlantısı başarılı!")}catch(m){console.error("Firebase connection test failed:",m),ie.error("Firebase bağlantı hatası: "+m.message)}};return c.jsx("div",{className:"min-h-screen bg-[var(--surface-color)] flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"max-w-md w-full mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:()=>l("landing"),className:"text-sm font-semibold leading-6 text-[var(--text-muted-color)] hover:text-[var(--text-color)]",children:"← Ana Sayfa"}),c.jsx("button",{onClick:h,className:"text-xs px-2 py-1 bg-[var(--secondary-color)] text-[var(--text-color)] rounded hover:bg-[var(--secondary-hover-color)]",children:"Firebase Test"})]}),c.jsx(NT,{className:"mx-auto h-12 w-auto text-[var(--primary-600)]"}),c.jsx("h1",{className:"text-3xl font-bold text-[var(--text-color)] mt-4",children:"Stok Takip Sistemine Hoş Geldiniz"}),c.jsx("p",{className:"text-[var(--text-muted-color)] mt-2",children:"Lütfen hesabınıza giriş yapın veya yeni bir hesap oluşturun."})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] p-8 rounded-2xl shadow-lg border border-[var(--border-color)]",children:[c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-muted-color)] mb-1",children:"E-posta Adresi"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[var(--text-muted-color)] mb-1",children:"Şifre"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:m=>a(m.target.value),className:"w-full px-4 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)]"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:m=>s(m.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary-600)] focus:ring-[var(--primary-500)]"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-[var(--text-muted-color)]",children:"Beni Hatırla"})]}),c.jsxs("button",{type:"submit",disabled:u,className:"w-full bg-[var(--primary-600)] text-white font-bold py-2.5 px-4 rounded-lg hover:bg-[var(--primary-700)] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50",children:[u?c.jsx(x3,{className:"animate-spin"}):t?c.jsx(Tbe,{size:20}):c.jsx(Obe,{size:20}),c.jsx("span",{children:t?"Giriş Yap":"Kayıt Ol"})]})]}),c.jsxs("p",{className:"text-center text-sm text-[var(--text-muted-color)] mt-6",children:[t?"Hesabınız yok mu?":"Zaten bir hesabınız var mı?",c.jsx("button",{onClick:()=>e(!t),className:"font-semibold text-[var(--primary-600)] hover:text-[var(--primary-500)] ml-1",children:t?"Kayıt Olun":"Giriş Yapın"})]})]})]})})},PTe=()=>{const{user:t}=hF();return t?c.jsx(ITe,{user:t}):c.jsx(Nc,{fullPage:!0,message:"Kullanıcı doğrulanıyor..."})},NTe=({activePage:t,setActivePage:e,user:r,isSidebarOpen:n,setIsSidebarOpen:i,settings:a})=>{const{setPage:o}=Ey(),s=()=>X9(Cn).then(()=>o("landing"));return c.jsx(gTe,{activePage:t,setActivePage:e,user:r,isSidebarOpen:n,setIsSidebarOpen:i,onLogout:s,settings:a})},CTe=({user:t,settings:e,onUpdateSettings:r})=>{const[n,i]=R.useState(!1),[a,o]=R.useState(!1),{notifications:s,isEnabled:l,requestPermission:u,sendNotification:d,markAsRead:f,clearAll:h}=mF(),{language:m,setLanguage:g,t:v}=nke(),w=s.filter(y=>!y.read).length;return c.jsxs("header",{className:"flex-shrink-0 h-16 bg-[var(--bg-color)] border-b border-[var(--border-color)] flex items-center justify-between px-6",children:[c.jsx("div",{children:c.jsx("h1",{className:"text-xl font-bold text-[var(--text-color)]",children:e.companyName||v("app.company")})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>o(!a),className:"relative p-2 rounded-lg hover:bg-[var(--surface-color)] transition-colors",title:"Bildirimler",children:[c.jsx(c1,{className:"w-5 h-5 text-[var(--text-color)]"}),w>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:w})]}),a&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg shadow-lg z-50",children:[c.jsx("div",{className:"p-4 border-b border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-semibold text-[var(--text-color)]",children:"Bildirimler"}),c.jsxs("div",{className:"flex gap-2",children:[!l&&c.jsx("button",{onClick:u,className:"px-2 py-1 text-xs bg-[var(--primary-600)] text-white rounded hover:bg-[var(--primary-700)]",children:"Etkinleştir"}),s.length>0&&c.jsx("button",{onClick:h,className:"px-2 py-1 text-xs bg-[var(--surface-color)] border border-[var(--border-color)] text-[var(--text-color)] rounded hover:bg-[var(--surface-hover-color)]",children:"Temizle"})]})]})}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?c.jsxs("div",{className:"p-4 text-center text-[var(--text-muted-color)]",children:[c.jsx(c1,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"Henüz bildirim yok"})]}):s.map(y=>c.jsxs("div",{onClick:()=>f(y.id),className:`p-3 border-b border-[var(--border-color)] cursor-pointer hover:bg-[var(--surface-hover-color)] ${y.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-color)]",children:y.title}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:y.timestamp.toLocaleTimeString("tr-TR")})]},y.id))})]})]}),c.jsx("div",{className:"relative",children:c.jsxs("select",{value:m,onChange:y=>g(y.target.value),className:"px-3 py-1 text-sm border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",children:[c.jsx("option",{value:"tr",children:"🇹🇷 TR"}),c.jsx("option",{value:"en",children:"🇺🇸 EN"})]})}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-color)]",children:t.email}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:"Admin"})]}),c.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-full hover:bg-[var(--surface-color)]",children:c.jsx(yd,{})})]}),c.jsx(Lf,{children:n&&c.jsx(qTe,{currentSettings:e,onSave:r,onClose:()=>i(!1)})})]})},ITe=({user:t})=>{const{applyTheme:e}=Ah(),[r,n]=R.useState(!0),i=t.uid,[a,o]=R.useState("salesScreen"),[s,l]=R.useState([]),[u,d]=R.useState([]),[f,h]=R.useState([]),[m,g]=R.useState([]),[v,w]=R.useState([]),[y,_]=R.useState([]),[b,j]=R.useState([]),[x,S]=R.useState([]),[T,k]=R.useState([]),[E,I]=R.useState([]),[O,P]=R.useState({sessions:[],activeSession:null}),[C,L]=R.useState([]),[$,q]=R.useState([]),[U,F]=R.useState([]),[z,X]=R.useState([]),[re,V]=R.useState({theme:"light",palette:"teal",criticalStockLevel:5,costMethod:"last",defaultMarkupPercent:0,autoUpdateSalePrice:!1,companyName:"İşletmem",companyLogoUrl:"",companyAddress:"",companyTaxNumber:"",enabledSections:{main:!0,inventory:!0,purchasing:!0,finance:!0,customers:!0,reports:!0,tools:!0},enabledFeatures:{salesScreen:!0,quickSale:!0,dashboard:!0,stock:!0,stockCount:!0,lowStock:!0,categories:!0,purchases:!0,suppliers:!0,purchaseOrders:!0,cashDrawer:!0,expenses:!0,credit:!0,payments:!0,customers:!0,statistics:!0,history:!0,reports:!0,analytics:!0,discounts:!0,settings:!0,backup:!0,notes:!0},sidebarOrder:["main","inventory","purchasing","finance","customers","reports","tools"]}),[Y,Z]=R.useState({products:!0,sales:!0,purchases:!0,suppliers:!0,expenses:!0,expenseCategories:!0,cashDrawer:!0,stockCounts:!0,payments:!0,customers:!0,categories:!0,categoryDiscounts:!0,settings:!0}),ee=R.useMemo(()=>({products:`artifacts/${Gt}/users/${i}/products`,sales:`artifacts/${Gt}/users/${i}/sales`,purchases:`artifacts/${Gt}/users/${i}/purchases`,purchaseOrders:`artifacts/${Gt}/users/${i}/purchase_orders`,payments:`artifacts/${Gt}/users/${i}/payments`,customers:`artifacts/${Gt}/users/${i}/customers`,suppliers:`artifacts/${Gt}/users/${i}/suppliers`,categories:`artifacts/${Gt}/users/${i}/categories`,stockCounts:`artifacts/${Gt}/users/${i}/stock_counts`,expenses:`artifacts/${Gt}/users/${i}/expenses`,expenseCategories:`artifacts/${Gt}/users/${i}/expense_categories`,cashDrawerSessions:`artifacts/${Gt}/users/${i}/cash_drawer_sessions`,categoryDiscounts:`artifacts/${Gt}/users/${i}/categoryDiscounts`,customerPoints:`artifacts/${Gt}/users/${i}/customer_points`,notes:`artifacts/${Gt}/users/${i}/notes`,settings:`artifacts/${Gt}/users/${i}/settings`}),[i]);R.useEffect(()=>{if(!i)return;const se=[],de=(tt,wt,$e,Ue=null,wn="desc")=>{const wr=Ue?_j(At(ye,tt),Sj(Ue,wn)):At(ye,tt),_n=Tx(wr,Oi=>{wt(Oi.docs.map(sr=>({id:sr.id,...sr.data()}))),Z(sr=>({...sr,[$e]:!1}))},Oi=>{console.error(`Error fetching ${$e}:`,Oi),Z(sr=>({...sr,[$e]:!1}))});se.push(_n)};de(ee.products,l,"products","name","asc"),de(ee.sales,d,"sales","saleDate"),de(ee.purchases,h,"purchases","purchaseDate"),de(ee.suppliers,g,"suppliers","name","asc"),de(ee.categories,S,"categories","name","asc"),de(ee.expenses,k,"expenses","date"),de(ee.purchaseOrders,w,"purchaseOrders","createdAt"),de(ee.payments,_,"payments","date"),de(ee.customers,j,"customers","name","asc"),de(ee.expenseCategories,I,"expenseCategories","name","asc"),de(ee.categoryDiscounts,q,"categoryDiscounts"),de(ee.customerPoints,F,"customerPoints","totalPoints","desc"),de(ee.notes,X,"notes","createdAt","desc"),de(ee.stockCounts,L,"stockCounts","startTime","desc");const Se=Tx(Ee(ye,ee.settings,"appSettings"),tt=>{if(tt.exists()){const wt={...tt.data()};V($e=>({...$e,...wt})),wt.theme&&wt.palette&&e(wt.theme,wt.palette)}Z(wt=>({...wt,settings:!1}))});se.push(Se);const Be=_j(At(ye,ee.cashDrawerSessions),Sj("startTime","desc")),ze=Tx(Be,tt=>{const wt=tt.docs.map(Ue=>({id:Ue.id,...Ue.data()})),$e=wt.find(Ue=>!Ue.endTime)||null;P({sessions:wt,activeSession:$e}),Z(Ue=>({...Ue,cashDrawer:!1}))});return se.push(ze),()=>se.forEach(tt=>tt())},[i,ee]);const we=async se=>{await Rr(Ee(ye,ee.settings,"appSettings"),se,{merge:!0}),ie.success("Ayarlar kaydedildi!")},ge=R.useCallback(async se=>{if(!se||!se.items||se.items.length===0){ie.error("İptal edilecek ürün bilgisi bulunamadı.");return}if(se.type==="cancelled"){ie.warning("Bu işlem zaten iptal edilmiş.");return}const de=cs(ye);try{se.items.forEach(Be=>{if(Be.productId){const ze=Ee(ye,ee.products,Be.productId);de.update(ze,{stock:ls(Be.quantity)})}});const Se=Ee(ye,ee.sales,se.id);de.update(Se,{type:"cancelled",status:"cancelled",cancelledAt:_e()}),await ie.promise(de.commit(),{loading:"Satış iptal ediliyor...",success:"Satış başarıyla iptal edildi ve stoklar güncellendi.",error:"İptal işlemi sırasında bir hata oluştu."})}catch(Se){console.error("İptal hatası:",Se),ie.error("İptal işlemi sırasında bir hata oluştu.")}},[ee.products,ee.sales]),[Le,G]=R.useState([]),K=R.useCallback(se=>{if(se.stock<=0){ie.warning(`${se.name} için stok tükendi!`);return}G(de=>{const Se=de.find(Be=>Be.id===se.id);return Se?Se.quantity>=se.stock?(ie.warning(`Maksimum stok adedine ulaşıldı: ${se.stock}`),de):de.map(Be=>Be.id===se.id?{...Be,quantity:Be.quantity+1}:Be):[...de,{...se,quantity:1}]}),ie.success(`${se.name} sepete eklendi.`)},[]),W=(se,de)=>{G(Se=>{Se.find(ze=>ze.id===se);const Be=s.find(ze=>ze.id===se);return de>Be.stock?(ie.warning(`Maksimum stok adedine ulaşıldı: ${Be.stock}`),Se):de<=0?Se.filter(ze=>ze.id!==se):Se.map(ze=>ze.id===se?{...ze,quantity:de}:ze)})},B=se=>{G(de=>de.filter(Se=>Se.id!==se))},ne=()=>{G([])},ae=async(se,de,Se=null)=>{if(Le.length===0){ie.warning("Sepetiniz boş.");return}const Be=cs(ye),ze=Ee(At(ye,ee.sales));let tt=0;const wt=Le.map(wr=>{const{finalPrice:_n,discountApplied:Oi,originalPrice:sr,appliedRule:Sa}=Js(wr,$);tt+=_n*wr.quantity;const Un=Ee(ye,ee.products,wr.id);return Be.update(Un,{stock:ls(-wr.quantity)}),{productId:wr.id,name:wr.name,quantity:wr.quantity,price:_n,originalPrice:sr,purchasePrice:wr.purchasePrice||0,discountApplied:Oi*wr.quantity,discountRule:Sa}}),$e=Math.max(0,tt-de),Ue={type:se==="credit"?"credit":se==="personnel"?"personnel":"sale",status:se==="credit"?"unpaid":"completed",paymentMethod:se==="credit"||se==="personnel"?null:se==="card"?"kart":se==="cash"?"nakit":se,saleDate:_e(),total:se==="personnel"?0:$e,subTotal:tt,transactionDiscount:de,items:wt,customerName:(Se==null?void 0:Se.name)||null,customerPhone:(Se==null?void 0:Se.phone)||null,customerEmail:(Se==null?void 0:Se.email)||null};Be.set(ze,Ue),await ie.promise(Be.commit(),{loading:"Satış tamamlanıyor...",success:"Satış başarıyla tamamlandı!",error:"Satış sırasında bir hata oluştu."});const{sendNotification:wn}=mF();wn(`Satış Tamamlandı - ${he($e)}`,{body:`${Le.length} ürün satıldı`,tag:"sale-completed"}),ne()},pe=R.useCallback(async se=>{const{barcode:de,name:Se}=se,Be=Ee(ye,ee.products,de),ze={...se};ze.criticalStockLevel||(ze.criticalStockLevel=re.criticalStockLevel||5),ie.promise(async()=>(await rW(Be)).exists()?(await Dl(Be,{...ze,lastUpdatedAt:_e()}),{message:"başarıyla güncellendi",name:Se}):(await Rr(Be,{...ze,createdAt:_e()}),{message:"başarıyla eklendi",name:Se}),{loading:"Ürün işleniyor...",success:tt=>`'${tt.name}' ${tt.message}.`,error:"İşlem sırasında bir hata oluştu."})},[ee.products,re.criticalStockLevel]),Ce=R.useCallback((se,de)=>{const Se=Ee(ye,ee.products,se);ie.promise(ch(Se),{loading:`${de} siliniyor...`,success:`${de} başarıyla silindi.`,error:"Silme işlemi sırasında hata oluştu."})},[ee.products]),Ve=R.useCallback(async(se,de="cash")=>{try{if(!se||se.stock<=0){ie.warning("Stok yetersiz veya ürün bulunamadı.");return}const{finalPrice:Se,discountApplied:Be,originalPrice:ze,appliedRule:tt}=Js(se,$),wt=Ee(At(ye,ee.sales)),$e=Ee(ye,ee.products,se.id),Ue=cs(ye);Ue.update($e,{stock:ls(-1)}),Ue.set(wt,{type:de==="credit"?"credit":de==="personnel"?"personnel":"sale",status:de==="credit"?"unpaid":"completed",paymentMethod:de==="credit"||de==="personnel"?null:de==="card"?"kart":de==="cash"?"nakit":de,saleDate:_e(),total:de==="personnel"?0:Se,subTotal:Se,transactionDiscount:0,items:[{productId:se.id,name:se.name,quantity:1,price:Se,originalPrice:ze,purchasePrice:se.purchasePrice||0,discountApplied:Be,discountRule:tt}]});const wn={cash:"Nakit",card:"Kart",credit:"Veresiye",personnel:"Personel"};await ie.promise(Ue.commit(),{loading:"Satış işleniyor...",success:`${se.name} satıldı (${wn[de]||de})`,error:"Satış sırasında hata"})}catch(Se){console.error(Se),ie.error("Satış tamamlanamadı")}},[ee.sales,ee.products,$,Js]),Ye=()=>{switch(a){case"salesScreen":return c.jsx(qI,{products:s,categoryDiscounts:$,paths:ee,onAddToCart:K,onUpdateCartQuantity:W,onRemoveFromCart:B,onClearCart:ne,onFinalizeSale:ae,onInstantSale:Ve,quickMode:a==="quickSale",cart:Le,formatCurrency:he,calculateDiscountedPrice:Js,paymentMethod:"cash"});case"quickSale":return c.jsx(qI,{products:s,categoryDiscounts:$,paths:ee,onAddToCart:K,onUpdateCartQuantity:W,onRemoveFromCart:B,onClearCart:ne,onFinalizeSale:ae,onInstantSale:Ve,quickMode:!0,cart:Le,formatCurrency:he,calculateDiscountedPrice:Js,paymentMethod:"cash"});case"dashboard":return c.jsx(vTe,{products:s,sales:u,onNavigate:o});case"statistics":return c.jsx(WTe,{sales:u,products:s});case"stock":return c.jsx(yTe,{products:s,categoryDiscounts:$,paths:ee,settings:re,onAddOrUpdateProduct:pe,onDeleteProduct:Ce,formatCurrency:he,calculateDiscountedPrice:Js});case"purchases":return c.jsx(YTe,{products:s,purchases:f,suppliers:m,productsPath:ee.products,purchasesPath:ee.purchases,suppliersPath:ee.suppliers,settings:re});case"suppliers":return c.jsx(QTe,{suppliers:m,suppliersPath:ee.suppliers,purchases:f});case"discounts":return c.jsx(UTe,{products:s,categoryDiscounts:$,categoryDiscountsPath:ee.categoryDiscounts,onUpdateProduct:pe});case"categories":return c.jsx(OTe,{categories:x,categoriesPath:ee.categories});case"credit":return c.jsx(HTe,{sales:u,salesPath:ee.sales});case"history":return c.jsx(GTe,{sales:u,onCancelSale:ge});case"expenses":return c.jsx(zTe,{expenses:T,expenseCategories:E,expensesPath:ee.expenses,expenseCategoriesPath:ee.expenseCategories});case"cashDrawer":return c.jsx($Te,{cashDrawer:O,cashDrawerPath:ee.cashDrawerSessions});case"reports":return c.jsx(FTe,{sales:u,purchases:f,products:s,expenses:T,payments:y,customers:b});case"stockCount":return c.jsx(RTe,{products:s,stockCounts:C,stockCountsPath:ee.stockCounts,productsPath:ee.products});case"lowStock":return c.jsx(DTe,{products:s,defaultCriticalLevel:re.criticalStockLevel||5,onUpdateProduct:pe});case"purchaseOrders":return c.jsx(MTe,{suppliers:m,products:s,purchaseOrders:v,purchaseOrdersPath:ee.purchaseOrders,productsPath:ee.products});case"payments":return c.jsx(LTe,{payments:y,paymentsPath:ee.payments});case"customers":return c.jsx(BTe,{customers:b,customersPath:ee.customers,sales:u});case"analytics":return c.jsx(VTe,{sales:u,purchases:f,products:s,expenses:T,payments:y,customers:b});case"settings":return c.jsx(eke,{settings:re,setSettings:V,settingsPath:ee.settings});case"backup":return c.jsx(ZTe,{products:s,sales:u,purchases:f,suppliers:m,customers:b,categories:x,expenses:T,payments:y,customerPoints:U});case"notes":return c.jsx(ike,{notes:z,notesPath:ee.notes});default:return c.jsx("div",{className:"p-4",children:"Sayfa bulunamadı."})}};return Object.values(Y).some(Boolean)?c.jsx(Nc,{fullPage:!0,message:"Veriler yükleniyor..."}):c.jsxs("div",{className:"flex h-screen bg-[var(--bg-color)]",children:[c.jsx(NTe,{activePage:a,setActivePage:o,user:t,isSidebarOpen:r,setIsSidebarOpen:n,settings:re}),c.jsxs("main",{className:`flex-1 flex flex-col transition-all duration-300 ${r?"ml-64":"ml-20"}`,children:[c.jsx(CTe,{user:t,settings:re,onUpdateSettings:we}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-[var(--surface-color)]",children:c.jsx(Lf,{mode:"wait",children:c.jsx(ti.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:Ye()},a)})})]})]})},OTe=({categories:t,categoriesPath:e})=>{const[r,n]=R.useState({id:"",name:"",color:"#0ea5a5",parentId:"",isActive:!0}),[i,a]=R.useState(""),[o,s]=R.useState(null),l=R.useMemo(()=>(t||[]).filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),u=async h=>{h.preventDefault();const m=(r.name||"").trim();if(!m){ie.warning("Kategori adı zorunludur.");return}const v=Ee(ye,e,o||m),w={name:m,color:r.color||"#0ea5a5",parentId:r.parentId||null,isActive:!!r.isActive,updatedAt:_e()};await ie.promise(Rr(v,w,{merge:!0}),{loading:"Kaydediliyor...",success:"Kategori kaydedildi.",error:"Kayıt sırasında hata oluştu."}),n({id:"",name:"",color:"#0ea5a5",parentId:"",isActive:!0}),s(null)},d=h=>{s(h.id||h.name),n({id:h.id||h.name,name:h.name||"",color:h.color||"#0ea5a5",parentId:h.parentId||"",isActive:h.isActive!==!1})},f=async h=>{const m=Ee(ye,e,h);await ie.promise(ch(m),{loading:"Siliniyor...",success:"Kategori silindi.",error:"Silme sırasında hata."}),o===h&&(s(null),n({id:"",name:"",color:"#0ea5a5",parentId:"",isActive:!0}))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Kategoriler"}),c.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Ad"}),c.jsx("input",{value:r.name,onChange:h=>n(m=>({...m,name:h.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Renk"}),c.jsx("input",{type:"color",value:r.color,onChange:h=>n(m=>({...m,color:h.target.value})),className:"w-14 h-10 p-1 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Üst Kategori"}),c.jsxs("select",{value:r.parentId,onChange:h=>n(m=>({...m,parentId:h.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"",children:"- Yok -"}),(t||[]).map(h=>c.jsx("option",{value:h.id||h.name,children:h.name},h.id||h.name))]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:"isActive",type:"checkbox",checked:!!r.isActive,onChange:h=>n(m=>({...m,isActive:h.target.checked}))}),c.jsx("label",{htmlFor:"isActive",className:"text-sm text-[var(--text-color)]",children:"Aktif"})]}),c.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2",children:[o&&c.jsx("button",{type:"button",onClick:()=>{s(null),n({id:"",name:"",color:"#0ea5a5",parentId:"",isActive:!0})},className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-sm",children:"Vazgeç"}),c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:o?"Güncelle":"Ekle"})]})]})]}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("input",{value:i,onChange:h=>a(h.target.value),placeholder:"Ara: kategori adı",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm w-60"})}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.length===0?c.jsx(yr,{icon:c.jsx(CT,{size:40}),message:"Kategori yok",description:"Yeni bir kategori oluşturun."}):l.map(h=>c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color||"#0ea5a5"}}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:h.name}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:h.parentId?`Üst: ${h.parentId}`:"Üst kategori yok"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>d(h),className:"px-2 py-1 text-xs bg-[var(--surface-color)] border border-[var(--border-color)] rounded",children:"Düzenle"}),c.jsx("button",{onClick:()=>ie(`'${h.name}' silinsin mi?`,{action:{label:"Evet, sil",onClick:()=>f(h.id||h.name)},cancel:{label:"İptal"}}),className:"px-2 py-1 text-xs text-red-600 border border-red-200 rounded hover:bg-red-50",children:"Sil"})]})]})},h.id||h.name))})]})},RTe=({products:t,stockCounts:e,stockCountsPath:r,productsPath:n})=>{var re;const[i,a]=R.useState(null),[o,s]=R.useState(""),[l,u]=R.useState(""),[d,f]=R.useState("full"),[h,m]=R.useState(""),[g,v]=R.useState([]),[w,y]=R.useState(""),[_,b]=R.useState(!1),[j,x]=R.useState("all"),S=R.useRef(null);R.useEffect(()=>{S.current&&S.current.focus()},[i]);const T=async()=>{const V=Ee(At(ye,r)),Y={status:"open",startTime:_e(),note:(l||"").trim(),countType:d,selectedCategory:d==="category"?h:null,selectedProducts:d==="specific"?g:null};await ie.promise(Rr(V,Y),{loading:"Oturum başlatılıyor...",success:"Stok sayımı başladı.",error:"Oturum başlatılamadı."}),a({id:V.id,items:{},status:"open",countType:d})},k=async V=>{if(!i)return;const Y=Ee(ye,r,i.id),Z={status:"closed",endTime:_e(),applyAdjustments:!!V,totalItems:Object.keys(i.items||{}).length,totalVariance:Object.values(i.items||{}).reduce((we,ge)=>we+((ge.countedQty||0)-(ge.systemQty||0)),0)},ee=cs(ye);ee.set(Y,Z,{merge:!0}),V&&Object.entries(i.items||{}).forEach(([we,ge])=>{const Le=(ge.countedQty||0)-(ge.systemQty||0);if(Le!==0){const G=Ee(ye,n,we);ee.update(G,{stock:ls(Le),lastCountDate:_e(),lastCountVariance:Le})}}),await ie.promise(ee.commit(),{loading:"Kapatılıyor...",success:"Stok sayımı kapatıldı.",error:"Kapatma sırasında hata."}),a(null),u("")},E=V=>{const Y=(t||[]).find(Z=>Z.barcode===V||Z.id===V);if(!Y){ie.warning("Ürün bulunamadı.");return}if(d==="category"&&h&&Y.category!==h){ie.warning("Bu ürün seçilen kategoriye ait değil.");return}if(d==="specific"&&!g.includes(Y.id)){ie.warning("Bu ürün sayım listesinde değil.");return}a(Z=>{const ee=(Z==null?void 0:Z.items)||{},we=Y.stock||0,ge=ee[Y.id]||{productId:Y.id,name:Y.name,barcode:Y.barcode,category:Y.category,systemQty:we,countedQty:0,lastCounted:null},Le={...ge,countedQty:(ge.countedQty||0)+1,lastCounted:_e()},G={...ee,[Y.id]:Le};return{...Z,items:G}})},I=async()=>{if(!i)return;const V=Ee(ye,r,i.id),Y=Object.values(i.items||{});await ie.promise(Rr(V,{items:Y,savedAt:_e(),progress:{totalProducts:d==="full"?t.length:d==="category"?t.filter(Z=>Z.category===h).length:g.length,countedProducts:Y.length,percentage:Math.round(Y.length/(d==="full"?t.length:d==="category"?t.filter(Z=>Z.category===h).length:g.length)*100)}},{merge:!0}),{loading:"Kaydediliyor...",success:"Ara kayıt alındı.",error:"Kayıt hatası."})},O=(V,Y)=>{a(Z=>{const ee=(Z==null?void 0:Z.items)||{},we=ee[V];if(!we)return Z;const ge={...ee,[V]:{...we,countedQty:Math.max(0,Y||0),lastCounted:_e()}};return{...Z,items:ge}})},P=V=>{a(Y=>{const Z=(Y==null?void 0:Y.items)||{},{[V]:ee,...we}=Z;return{...Y,items:we}})},C=async V=>{const Y={id:V.id,status:V.status,items:{},countType:V.countType||"full"};Array.isArray(V.items)&&V.items.forEach(Z=>{Z.productId&&(Y.items[Z.productId]=Z)}),a(Y),f(V.countType||"full")},L=()=>{const V=Object.values((i==null?void 0:i.items)||{}),Y=V.reduce((we,ge)=>we+((ge.countedQty||0)-(ge.systemQty||0)),0),Z=V.filter(we=>(we.countedQty||0)>(we.systemQty||0)).length,ee=V.filter(we=>(we.countedQty||0)<(we.systemQty||0)).length;return{totalItems:V.length,totalVariance:Y,positiveVariance:Z,negativeVariance:ee,zeroVariance:V.length-Z-ee}},$=R.useMemo(()=>(e||[]).filter(V=>j==="all"?!0:V.status===j),[e,j]),q=R.useMemo(()=>(t||[]).filter(V=>d==="category"&&h?V.category===h:d==="specific"?g.includes(V.id):(V.name||"").toLowerCase().includes(w.toLowerCase())||(V.barcode||"").includes(w)),[t,d,h,g,w]),U=R.useMemo(()=>[...new Set((t||[]).map(V=>V.category).filter(Boolean))],[t]),F=$,z=Object.values((i==null?void 0:i.items)||{}),X=L();return c.jsx("div",{className:"space-y-4",children:i?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"font-semibold text-[var(--text-color)]",children:["Stok Sayımı - #",(re=i.id)==null?void 0:re.slice(0,8)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>b(!_),className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] text-[var(--text-color)] rounded hover:bg-[var(--surface-hover-color)]",children:c.jsx(v3,{className:"w-4 h-4"})}),c.jsx("button",{onClick:I,className:"px-3 py-2 bg-[var(--info-color)] text-white rounded hover:bg-blue-600",children:c.jsx(j3,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-[var(--bg-color)] rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:X.totalItems}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Sayılan"})]}),c.jsxs("div",{className:"text-center p-3 bg-[var(--bg-color)] rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--success-color)]",children:X.positiveVariance}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Fazla"})]}),c.jsxs("div",{className:"text-center p-3 bg-[var(--bg-color)] rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--error-color)]",children:X.negativeVariance}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Eksik"})]}),c.jsxs("div",{className:"text-center p-3 bg-[var(--bg-color)] rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:X.zeroVariance}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Doğru"})]}),c.jsxs("div",{className:"text-center p-3 bg-[var(--bg-color)] rounded-lg",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:X.totalVariance}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Toplam Fark"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Barkod Tara / Yaz"}),c.jsx("input",{ref:S,value:o,onChange:V=>s(V.target.value),onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),o.trim()&&(E(o.trim()),s("")))},className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",placeholder:"Barkod girin veya tarayın"})]}),c.jsx("button",{onClick:()=>{o.trim()&&(E(o.trim()),s(""))},className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Ekle"}),c.jsx("button",{onClick:()=>a(null),className:"bg-[var(--surface-color)] border border-[var(--border-color)] text-[var(--text-color)] font-semibold py-2 px-4 rounded-lg hover:bg-[var(--surface-hover-color)]",children:"İptal"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"font-semibold text-[var(--text-color)]",children:"Sayılan Ürünler"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] text-[var(--text-color)] rounded hover:bg-[var(--surface-hover-color)]",children:"Kapat (Uygulama)"}),c.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-[var(--success-color)] text-white rounded hover:bg-green-600",children:"Kapat ve Stokları Güncelle"})]})]}),c.jsx("div",{className:"max-h-[55vh] overflow-y-auto space-y-2",children:z.length===0?c.jsx(yr,{icon:c.jsx(vn,{size:40}),message:"Ürün yok",description:"Barkod tarayın veya ürün ekleyin."}):z.map(V=>{const Y=(V.countedQty||0)-(V.systemQty||0);return c.jsx("div",{className:"p-4 rounded-lg bg-[var(--bg-color)] border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:V.name}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Barkod: ",V.barcode," • Kategori: ",V.category]}),c.jsxs("div",{className:"flex gap-4 mt-1",children:[c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)]",children:["Sistem: ",c.jsx("span",{className:"font-medium",children:V.systemQty||0})]}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)]",children:["Sayılan: ",c.jsx("span",{className:"font-medium",children:V.countedQty||0})]}),c.jsxs("span",{className:`text-xs font-medium ${Y>0?"text-[var(--success-color)]":Y<0?"text-[var(--error-color)]":"text-[var(--text-color)]"}`,children:["Fark: ",Y>0?"+":"",Y]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"0",value:V.countedQty||0,onChange:Z=>O(V.productId,parseInt(Z.target.value)||0),className:"w-20 px-2 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)] text-center"}),c.jsx("button",{onClick:()=>P(V.productId),className:"p-1 text-[var(--error-color)] hover:bg-red-100 rounded",children:c.jsx(pa,{className:"w-4 h-4"})})]})]})},V.productId)})})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("h3",{className:"font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(d1,{className:"w-5 h-5"}),"Yeni Stok Sayımı"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Sayım Türü"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsx("button",{onClick:()=>f("full"),className:`p-3 rounded-lg border-2 transition-colors ${d==="full"?"border-[var(--primary-600)] bg-[var(--primary-100)]":"border-[var(--border-color)] hover:border-[var(--primary-300)]"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx(vn,{className:"w-6 h-6 mx-auto mb-2 text-[var(--primary-600)]"}),c.jsx("div",{className:"font-medium text-[var(--text-color)]",children:"Tam Sayım"}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Tüm ürünler"})]})}),c.jsx("button",{onClick:()=>f("category"),className:`p-3 rounded-lg border-2 transition-colors ${d==="category"?"border-[var(--primary-600)] bg-[var(--primary-100)]":"border-[var(--border-color)] hover:border-[var(--primary-300)]"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx(CT,{className:"w-6 h-6 mx-auto mb-2 text-[var(--primary-600)]"}),c.jsx("div",{className:"font-medium text-[var(--text-color)]",children:"Kategori Sayımı"}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Belirli kategori"})]})}),c.jsx("button",{onClick:()=>f("specific"),className:`p-3 rounded-lg border-2 transition-colors ${d==="specific"?"border-[var(--primary-600)] bg-[var(--primary-100)]":"border-[var(--border-color)] hover:border-[var(--primary-300)]"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx(Nbe,{className:"w-6 h-6 mx-auto mb-2 text-[var(--primary-600)]"}),c.jsx("div",{className:"font-medium text-[var(--text-color)]",children:"Seçili Ürünler"}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Manuel seçim"})]})})]})]}),d==="category"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Kategori Seçin"}),c.jsxs("select",{value:h,onChange:V=>m(V.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",children:[c.jsx("option",{value:"",children:"Kategori seçin"}),U.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),d==="specific"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Ürün Seçin"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",placeholder:"Ürün ara...",value:w,onChange:V=>y(V.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]"}),c.jsx("div",{className:"max-h-40 overflow-y-auto border border-[var(--border-color)] rounded-lg",children:q.map(V=>c.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-[var(--surface-hover-color)]",children:[c.jsx("input",{type:"checkbox",checked:g.includes(V.id),onChange:Y=>{Y.target.checked?v([...g,V.id]):v(g.filter(Z=>Z!==V.id))},className:"w-4 h-4 text-[var(--primary-600)]"}),c.jsx("span",{className:"text-sm text-[var(--text-color)]",children:V.name}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)]",children:["(",V.barcode,")"]})]},V.id))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Not (opsiyonel)"}),c.jsx("textarea",{value:l,onChange:V=>u(V.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",rows:"2",placeholder:"Sayım hakkında notlar..."})]}),c.jsx("button",{onClick:T,disabled:d==="category"&&!h||d==="specific"&&g.length===0,className:"w-full bg-[var(--primary-600)] text-white font-bold py-3 px-4 rounded-lg hover:bg-[var(--primary-700)] disabled:opacity-50 disabled:cursor-not-allowed",children:"Stok Sayımını Başlat"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-[var(--text-color)]",children:"Önceki Oturumlar"}),c.jsxs("select",{value:j,onChange:V=>x(V.target.value),className:"px-3 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)] text-sm",children:[c.jsx("option",{value:"all",children:"Tümü"}),c.jsx("option",{value:"open",children:"Açık"}),c.jsx("option",{value:"closed",children:"Kapalı"})]})]}),c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:F.length===0?c.jsx(yr,{icon:c.jsx(d1,{size:40}),message:"Oturum yok",description:"Yeni bir stok sayımı başlatın."}):F.map(V=>c.jsxs("div",{className:"p-4 rounded-lg bg-[var(--bg-color)] border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:["#",V.id.slice(0,8)," • ",V.status==="open"?"Açık":"Kapalı"]}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:V.startTime&&V.startTime.toDate?V.startTime.toDate().toLocaleString("tr-TR"):""})]}),c.jsx("div",{className:"flex gap-2",children:V.status!=="closed"&&c.jsx("button",{onClick:()=>C(V),className:"px-3 py-1.5 text-sm bg-[var(--primary-600)] text-white rounded hover:bg-[var(--primary-700)]",children:"Devam Et"})})]}),V.note&&c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mb-2",children:V.note}),c.jsxs("div",{className:"flex gap-4 text-xs text-[var(--text-muted-color)]",children:[c.jsxs("span",{children:["Ürün: ",V.totalItems||0]}),c.jsxs("span",{children:["Fark: ",V.totalVariance||0]}),c.jsxs("span",{children:["Tür: ",V.countType==="full"?"Tam":V.countType==="category"?"Kategori":"Seçili"]})]})]},V.id))})]})]})})},DTe=({products:t,defaultCriticalLevel:e=5,onUpdateProduct:r})=>{const[n,i]=R.useState(e||5),[a,o]=R.useState(""),[s,l]=R.useState(!1),u=R.useMemo(()=>{const h=n||0;return(t||[]).filter(m=>{const g=m.criticalStockLevel??e??5,v=(m.stock||0)<=g&&(m.stock||0)<=h,w=(m.name||"").toLowerCase().includes(a.toLowerCase()),y=!s||(m.stock||0)===0;return v&&w&&y}).sort((m,g)=>(m.stock||0)-(g.stock||0))},[t,n,a,s,e]),d=async h=>{const m=Math.max(0,parseInt(h)||0),g=u.slice(0,50);await Promise.all(g.map(v=>r({...v,criticalStockLevel:m}))),ie.success("Kritik stok seviyesi güncellendi.")},f=()=>{const h=[{label:"Barkod",value:m=>m.barcode||m.id},{label:"Ürün",value:"name"},{label:"Stok",value:m=>m.stock||0},{label:"Kritik Seviye",value:m=>m.criticalStockLevel??e??5}];kh(`kritik_stok_${new Date().toISOString().slice(0,10)}.csv`,h,u)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Kritik Stok"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Eşik"}),c.jsx("input",{type:"number",min:"0",value:n,onChange:h=>i(parseInt(h.target.value)||0),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Ürün Ara"}),c.jsx("input",{value:a,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-sm text-[var(--text-color)]",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:h=>l(h.target.checked)}),"Sadece stoğu 0 olanlar"]}),c.jsx("button",{onClick:f,className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]",children:"CSV İndir"}),c.jsx("button",{onClick:()=>d(n),className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Liste için kritik seviyeyi eşik yap"})]})]}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:u.length===0?c.jsx(yr,{icon:c.jsx(co,{size:40}),message:"Kritik stokta ürün yok",description:"Eşiği değiştirin veya kategori/ürün bazlı kontrol edin."}):u.map(h=>c.jsxs("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:h.name}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Stok: ",h.stock||0," • Kritik: ",h.criticalStockLevel??e??5]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>r({...h,criticalStockLevel:Math.max(0,(h.criticalStockLevel??e??5)+1)}),className:"px-2 py-1 text-xs bg-[var(--surface-color)] border border-[var(--border-color)] rounded",children:"Kritik +1"}),c.jsx("button",{onClick:()=>r({...h,criticalStockLevel:Math.max(0,(h.criticalStockLevel??e??5)-1)}),className:"px-2 py-1 text-xs bg-[var(--surface-color)] border border-[var(--border-color)] rounded",children:"Kritik -1"})]})]},h.id))})]})},MTe=({suppliers:t,products:e,purchaseOrders:r,purchaseOrdersPath:n,productsPath:i})=>{const[a,o]=R.useState({supplierId:"",notes:""}),[s,l]=R.useState([]),[u,d]=R.useState(""),[f,h]=R.useState(null),m=S=>{l(T=>T.find(E=>E.productId===S.id)?T.map(E=>E.productId===S.id?{...E,qty:E.qty+1}:E):[...T,{productId:S.id,name:S.name,qty:1,price:S.purchasePrice||0}])},g=S=>l(T=>T.filter(k=>k.productId!==S)),v=(S,T,k)=>l(E=>E.map(I=>I.productId===S?{...I,[T]:k}:I)),w=async()=>{const S=(a.supplierId||"").trim();if(!S){ie.warning("Tedarikçi seçiniz.");return}if(s.length===0){ie.warning("En az bir ürün ekleyin.");return}const T=Ee(At(ye,n)),k={supplierId:S,status:"draft",notes:(a.notes||"").trim(),createdAt:_e(),items:s.map(E=>({productId:E.productId,qty:E.qty,price:E.price}))};await ie.promise(Rr(T,k),{loading:"Sipariş oluşturuluyor...",success:"Sipariş oluşturuldu.",error:"Sipariş oluşturma hatası."}),o({supplierId:"",notes:""}),l([])},y=async S=>{await ie.promise(Rr(Ee(ye,n,S.id),{status:"sent",sentAt:_e()},{merge:!0}),{loading:"Gönderiliyor...",success:"Sipariş gönderildi.",error:"Hata."})},_=async S=>{const T=cs(ye);S.items.forEach(k=>{const E=Ee(ye,i,k.productId);T.update(E,{stock:ls(k.qty)})}),T.set(Ee(ye,n,S.id),{status:"received",receivedAt:_e()},{merge:!0}),await ie.promise(T.commit(),{loading:"Teslim alınıyor...",success:"Sipariş teslim alındı ve stok güncellendi.",error:"Teslim alma hatası."})},b=R.useMemo(()=>(e||[]).filter(S=>(S.name||"").toLowerCase().includes(u.toLowerCase())),[e,u]),j=r||[],x=s.reduce((S,T)=>S+T.qty*T.price,0);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Yeni Sipariş"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Tedarikçi"}),c.jsxs("select",{value:a.supplierId,onChange:S=>o(T=>({...T,supplierId:S.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"",children:"Seçiniz"}),(t||[]).map(S=>c.jsx("option",{value:S.id||S.name,children:S.name},S.id||S.name))]})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Ürün Ara"}),c.jsx("input",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{onClick:w,className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Siparişi Oluştur"})]}),c.jsxs("div",{className:"mt-4 grid md:grid-cols-3 gap-3 max-h-[35vh] overflow-y-auto",children:[c.jsx("div",{className:"md:col-span-2 space-y-2",children:s.length===0?c.jsx(yr,{icon:c.jsx(P3,{size:40}),message:"Ürün ekleyin",description:"Aramadan seçerek listeye ekleyin."}):s.map(S=>c.jsxs("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:S.name}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Miktar: ",S.qty," • Fiyat: ",he(S.price)," • Tutar: ",he(S.qty*S.price)]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",value:S.qty,onChange:T=>v(S.productId,"qty",parseInt(T.target.value)||1),className:"w-20 px-2 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:S.price,onChange:T=>v(S.productId,"price",parseFloat(T.target.value)||0),className:"w-24 px-2 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("button",{onClick:()=>g(S.productId),className:"text-red-600 hover:bg-red-100 px-2 py-1 rounded",children:c.jsx(Xi,{size:14})})]})]},S.productId))}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ara Toplam"}),c.jsx("p",{className:"text-lg font-bold text-[var(--text-color)]",children:he(x)})]}),c.jsxs("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] max-h-[28vh] overflow-y-auto",children:[c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mb-2",children:"Arama Sonuçları"}),b.map(S=>c.jsxs("button",{onClick:()=>m(S),className:"w-full text-left p-2 rounded hover:bg-[var(--surface-hover-color)] flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-[var(--text-color)]",children:S.name}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)]",children:["Stok: ",S.stock||0]})]},S.id))]})]})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Siparişler"}),c.jsx("div",{className:"space-y-2 max-h-[45vh] overflow-y-auto",children:(j||[]).length===0?c.jsx(yr,{icon:c.jsx(bh,{size:40}),message:"Sipariş yok",description:"Yeni sipariş oluşturun."}):j.map(S=>c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:["#",S.id.slice(0,6)," • ",S.status||"draft"]}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Tedarikçi: ",S.supplierId||"-"," • Kalem: ",Array.isArray(S.items)?S.items.length:0]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[S.status==="draft"&&c.jsx("button",{onClick:()=>y(S),className:"px-3 py-1.5 text-sm bg-[var(--surface-color)] border border-[var(--border-color)] rounded",children:"Gönderildi"}),S.status!=="received"&&c.jsx("button",{onClick:()=>_(S),className:"px-3 py-1.5 text-sm bg-green-600 text-white rounded",children:"Teslim Al"})]})]})},S.id))})]})]})},$Te=({cashDrawer:t,cashDrawerPath:e})=>{var v;const r=t==null?void 0:t.activeSession,n=(t==null?void 0:t.sessions)||[],[i,a]=R.useState(0),[o,s]=R.useState(""),[l,u]=R.useState(0),[d,f]=R.useState(""),h=async()=>{if(r){ie.warning("Zaten açık bir kasa var.");return}const w=Ee(At(ye,e)),y={startTime:_e(),openingAmount:Number(i)||0,note:(o||"").trim()};await ie.promise(Rr(w,y),{loading:"Kasa açılıyor...",success:"Kasa açıldı.",error:"Kasa açılamadı."})},m=async w=>{if(!r){ie.warning("Önce kasa açın.");return}const y=Ee(At(ye,`${e}/${r.id}/transactions`)),_={type:w,amount:Math.max(0,Number(l)||0),note:(d||"").trim(),time:_e()};await ie.promise(Rr(y,_),{loading:"İşlem ekleniyor...",success:"İşlem eklendi.",error:"İşlem hatası."}),u(0),f("")},g=async()=>{r&&await ie.promise(Rr(Ee(ye,e,r.id),{endTime:_e()},{merge:!0}),{loading:"Kasa kapatılıyor...",success:"Kasa kapatıldı.",error:"Kapatma hatası."})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Kasa"}),r?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-[var(--text-color)] text-sm",children:["Açılış: ",he(r.openingAmount||0)," • Başlangıç: ",(v=r.startTime)!=null&&v.toDate?r.startTime.toDate().toLocaleString("tr-TR"):""]}),c.jsx("button",{onClick:g,className:"px-3 py-2 bg-red-600 text-white rounded",children:"Kasa Kapat"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Tutar"}),c.jsx("input",{type:"number",step:"0.01",value:l,onChange:w=>u(parseFloat(w.target.value)||0),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Not"}),c.jsx("input",{value:d,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{onClick:()=>m("in"),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:"Kasa Girişi"}),c.jsx("button",{onClick:()=>m("out"),className:"bg-amber-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700",children:"Kasa Çıkışı"})]})]}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Açılış Tutarı"}),c.jsx("input",{type:"number",step:"0.01",value:i,onChange:w=>a(parseFloat(w.target.value)||0),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Not (opsiyonel)"}),c.jsx("input",{value:o,onChange:w=>s(w.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{onClick:h,className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Kasa Aç"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Kasa Oturumları"}),c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:n.length===0?c.jsx(yr,{icon:c.jsx(I3,{size:40}),message:"Kasa oturumu yok",description:"Yeni bir oturum başlatın."}):n.map(w=>{var y;return c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] flex items-center justify-between",children:c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:["#",w.id.slice(0,6)," • ",w.endTime?"Kapalı":"Açık"]}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Başlangıç: ",(y=w.startTime)!=null&&y.toDate?w.startTime.toDate().toLocaleString("tr-TR"):""," ",w.endTime?`• Bitiş: ${w.endTime.toDate().toLocaleString("tr-TR")}`:""]})]})},w.id)})})]})]})},LTe=({payments:t,paymentsPath:e})=>{const[r,n]=R.useState({direction:"in",method:"cash",amount:0,note:"",refType:"sale",refId:""}),[i,a]=R.useState({from:"",to:""}),o=async d=>{d.preventDefault();const f={direction:r.direction,method:r.method,amount:Math.max(0,Number(r.amount)||0),note:(r.note||"").trim(),refType:r.refType||null,refId:r.refId||null,date:_e(),createdAt:_e()};await ie.promise(uh(At(ye,e),f),{loading:"Kaydediliyor...",success:"Ödeme kaydedildi.",error:"Kayıt hatası."}),n({direction:"in",method:"cash",amount:0,note:"",refType:"sale",refId:""})},s=R.useMemo(()=>{const d=t||[],f=i.from?new Date(i.from):null,h=i.to?new Date(i.to):null;return d.filter(m=>{var v;const g=(v=m.date)!=null&&v.toDate?m.date.toDate():m.date?new Date(m.date):null;if(!g)return!0;if(f&&g<f)return!1;if(h){const w=new Date(h);if(w.setHours(23,59,59,999),g>w)return!1}return!0}).sort((m,g)=>{var y,_;const v=(y=m.date)!=null&&y.toDate?m.date.toDate().getTime():m.date?new Date(m.date).getTime():0;return((_=g.date)!=null&&_.toDate?g.date.toDate().getTime():g.date?new Date(g.date).getTime():0)-v})},[t,i]),l=s.filter(d=>d.direction==="in").reduce((d,f)=>d+(f.amount||0),0),u=s.filter(d=>d.direction==="out").reduce((d,f)=>d+(f.amount||0),0);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Ödeme Ekle"}),c.jsxs("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Yön"}),c.jsxs("select",{value:r.direction,onChange:d=>n(f=>({...f,direction:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"in",children:"Gelen"}),c.jsx("option",{value:"out",children:"Giden"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Yöntem"}),c.jsxs("select",{value:r.method,onChange:d=>n(f=>({...f,method:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"cash",children:"Nakit"}),c.jsx("option",{value:"card",children:"Kart"}),c.jsx("option",{value:"transfer",children:"Havale"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Tutar"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:r.amount,onChange:d=>n(f=>({...f,amount:parseFloat(d.target.value)||0})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Not"}),c.jsx("input",{value:r.note,onChange:d=>n(f=>({...f,note:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Kaydet"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-[var(--text-color)]",children:"Ödemeler"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"date",value:i.from,onChange:d=>a(f=>({...f,from:d.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsx("input",{type:"date",value:i.to,onChange:d=>a(f=>({...f,to:d.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsxs("div",{className:"px-3 py-2 bg-green-100 text-green-800 rounded text-sm",children:["Gelen: ",he(l)]}),c.jsxs("div",{className:"px-3 py-2 bg-red-100 text-red-800 rounded text-sm",children:["Giden: ",he(u)]}),c.jsxs("div",{className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded text-sm",children:["Net: ",he(l-u)]})]})]}),c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:s.length===0?c.jsx(yr,{icon:c.jsx(vd,{size:40}),message:"Ödeme yok",description:"Yeni bir ödeme ekleyin."}):s.map(d=>{var f,h;return c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] flex items-center justify-between",children:c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:[d.direction==="in"?"Gelen":"Giden"," • ",d.method," • ",he(d.amount||0)]}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:((h=(f=d.date)!=null&&f.toDate?d.date.toDate():d.date?new Date(d.date):null)==null?void 0:h.toLocaleDateString("tr-TR"))||""}),d.note&&c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:d.note})]})},d.id)})})]})]})},VTe=({sales:t,purchases:e,products:r,expenses:n,payments:i,customers:a})=>{const[o,s]=R.useState("7d"),[l,u]=R.useState("revenue"),d=(b,j="date")=>{if(!b)return[];const x=new Date;let S=new Date;switch(o){case"1d":S.setDate(x.getDate()-1);break;case"7d":S.setDate(x.getDate()-7);break;case"30d":S.setDate(x.getDate()-30);break;case"90d":S.setDate(x.getDate()-90);break;case"1y":S.setFullYear(x.getFullYear()-1);break;default:S.setDate(x.getDate()-7)}return b.filter(T=>{var E;const k=(E=T[j])!=null&&E.toDate?T[j].toDate():T[j]?new Date(T[j]):null;return k?k>=S&&k<=x:!1})},f=d(t,"saleDate"),h=d(e,"purchaseDate"),m=d(n,"date");d(i,"date");const g=R.useMemo(()=>{const b={};return f.forEach(j=>{var T;const S=((T=j.saleDate)!=null&&T.toDate?j.saleDate.toDate():new Date(j.saleDate)).toISOString().split("T")[0];b[S]||(b[S]={date:S,revenue:0,transactions:0}),b[S].revenue+=j.totalAmount||0,b[S].transactions+=1}),Object.values(b).sort((j,x)=>new Date(j.date)-new Date(x.date))},[f]),v=R.useMemo(()=>{const b={};return f.forEach(j=>{var x;(x=j.items)==null||x.forEach(S=>{const T=S.category||"Kategori Yok";b[T]||(b[T]={name:T,revenue:0,quantity:0,transactions:0}),b[T].revenue+=(S.price||0)*(S.quantity||0),b[T].quantity+=S.quantity||0,b[T].transactions+=1})}),Object.values(b).sort((j,x)=>x.revenue-j.revenue)},[f]),w=R.useMemo(()=>{const b={};return f.forEach(j=>{const x=j.customerId||"anonymous";b[x]||(b[x]={id:x,name:j.customerName||"Anonim",revenue:0,transactions:0,lastPurchase:j.saleDate}),b[x].revenue+=j.totalAmount||0,b[x].transactions+=1,j.saleDate>b[x].lastPurchase&&(b[x].lastPurchase=j.saleDate)}),Object.values(b).sort((j,x)=>x.revenue-j.revenue).slice(0,10)},[f]),y=R.useMemo(()=>{const b=f.reduce((L,$)=>L+($.totalAmount||0),0),j=h.reduce((L,$)=>L+($.totalAmount||0),0),x=m.reduce((L,$)=>L+($.amount||0),0),S=f.length,T=S>0?b/S:0,k=b-j,E=k-x,I=b>0?E/b*100:0,P=d(t,"saleDate").reduce((L,$)=>L+($.totalAmount||0),0),C=P>0?(b-P)/P*100:0;return{totalRevenue:b,totalPurchases:j,totalExpenses:x,totalTransactions:S,avgTransactionValue:T,grossProfit:k,netProfit:E,profitMargin:I,revenueGrowth:C}},[f,h,m,o]),_=R.useMemo(()=>{const b=(r==null?void 0:r.filter(T=>(T.stock||0)<=(T.criticalStock||5)))||[],j=(r==null?void 0:r.filter(T=>(T.stock||0)<=0))||[],x=(r==null?void 0:r.reduce((T,k)=>T+(k.stock||0)*(k.salePrice||0),0))||0,S=(r==null?void 0:r.length)||0;return{lowStock:b.length,outOfStock:j.length,totalStockValue:x,totalProducts:S,stockTurnover:x>0?y.totalRevenue/x:0}},[r,y.totalRevenue]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--text-color)]",children:"Analitik Dashboard"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("select",{value:o,onChange:b=>s(b.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm",children:[c.jsx("option",{value:"1d",children:"Son 1 Gün"}),c.jsx("option",{value:"7d",children:"Son 7 Gün"}),c.jsx("option",{value:"30d",children:"Son 30 Gün"}),c.jsx("option",{value:"90d",children:"Son 90 Gün"}),c.jsx("option",{value:"1y",children:"Son 1 Yıl"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam Gelir"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:he(y.totalRevenue)}),c.jsxs("p",{className:`text-xs ${y.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[y.revenueGrowth>=0?"↗":"↘"," %",Math.abs(y.revenueGrowth).toFixed(1)]})]}),c.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:c.jsx(ru,{className:"h-6 w-6 text-green-600"})})]})}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam İşlem"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:y.totalTransactions}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["Ort: ",he(y.avgTransactionValue)]})]}),c.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:c.jsx(Is,{className:"h-6 w-6 text-blue-600"})})]})}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Net Kâr"}),c.jsx("p",{className:`text-2xl font-bold ${y.netProfit>=0?"text-green-600":"text-red-600"}`,children:he(y.netProfit)}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:["%",y.profitMargin.toFixed(1)," marj"]})]}),c.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:c.jsx(xh,{className:"h-6 w-6 text-purple-600"})})]})}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Stok Değeri"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:he(_.totalStockValue)}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:[_.totalProducts," ürün"]})]}),c.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:c.jsx(vn,{className:"h-6 w-6 text-orange-600"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-4 text-[var(--text-color)]",children:"Günlük Satış Trendi"}),c.jsx("div",{className:"space-y-2",children:g.length===0?c.jsx("p",{className:"text-[var(--text-muted-color)] text-center py-8",children:"Veri yok"}):g.map((b,j)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-[var(--bg-color)]",children:[c.jsx("span",{className:"text-sm text-[var(--text-color)]",children:new Date(b.date).toLocaleDateString("tr-TR")}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:he(b.revenue)}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)] ml-2",children:["(",b.transactions," işlem)"]})]})]},b.date))})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-4 text-[var(--text-color)]",children:"Kategori Performansı"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:v.length===0?c.jsx("p",{className:"text-[var(--text-muted-color)] text-center py-8",children:"Veri yok"}):v.map((b,j)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-[var(--bg-color)]",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:b.name}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)] ml-2",children:["(",b.quantity," adet)"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:he(b.revenue)}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)] ml-2",children:["(",b.transactions," işlem)"]})]})]},j))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-4 text-[var(--text-color)]",children:"En Değerli Müşteriler"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.length===0?c.jsx("p",{className:"text-[var(--text-muted-color)] text-center py-8",children:"Veri yok"}):w.map((b,j)=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-[var(--bg-color)]",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:b.name}),c.jsxs("span",{className:"text-xs text-[var(--text-muted-color)] ml-2",children:["(",b.transactions," işlem)"]})]}),c.jsx("div",{className:"text-right",children:c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:he(b.revenue)})})]},b.id))})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-4 text-[var(--text-color)]",children:"Stok Durumu"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center p-3 rounded bg-red-100",children:[c.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.outOfStock}),c.jsx("p",{className:"text-sm text-red-600",children:"Tükendi"})]}),c.jsxs("div",{className:"text-center p-3 rounded bg-yellow-100",children:[c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.lowStock}),c.jsx("p",{className:"text-sm text-yellow-600",children:"Az Stok"})]})]}),c.jsxs("div",{className:"text-center p-3 rounded bg-blue-100",children:[c.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[_.stockTurnover.toFixed(1),"x"]}),c.jsx("p",{className:"text-sm text-blue-600",children:"Stok Devir Hızı"})]})]})]})]})]})},FTe=({sales:t,purchases:e,products:r,expenses:n,payments:i,customers:a})=>{const[o,s]=R.useState("sales"),[l,u]=R.useState({from:"",to:""}),[d,f]=R.useState(""),h=(x,S="date")=>{if(!x)return[];const T=l.from?new Date(l.from):null,k=l.to?new Date(l.to):null;return x.filter(E=>{var O;const I=(O=E[S])!=null&&O.toDate?E[S].toDate():E[S]?new Date(E[S]):null;if(!I)return!0;if(T&&I<T)return!1;if(k){const P=new Date(k);if(P.setHours(23,59,59,999),I>P)return!1}return!0})},m=h(t,"saleDate"),g=h(e,"purchaseDate"),v=h(n,"date"),w=h(i,"date"),y=R.useMemo(()=>{const x=m.reduce((E,I)=>E+(I.totalAmount||0),0),S=m.reduce((E,I)=>{var O;return E+(((O=I.items)==null?void 0:O.length)||0)},0),T=m.reduce((E,I)=>{const O=I.paymentMethod||"unknown";return E[O]=(E[O]||0)+(I.totalAmount||0),E},{}),k=m.reduce((E,I)=>{var O;return(O=I.items)==null||O.forEach(P=>{const C=P.productId;E[C]||(E[C]={name:P.name,quantity:0,revenue:0}),E[C].quantity+=P.quantity||0,E[C].revenue+=(P.price||0)*(P.quantity||0)}),E},{});return{totalSales:x,totalItems:S,totalTransactions:m.length,paymentMethods:T,topProducts:Object.values(k).sort((E,I)=>I.revenue-E.revenue).slice(0,10)}},[m]),_=R.useMemo(()=>{const x=g.reduce((k,E)=>k+(E.totalAmount||0),0),S=g.reduce((k,E)=>{var I;return k+(((I=E.items)==null?void 0:I.length)||0)},0),T=g.reduce((k,E)=>{const I=E.supplierId;return k[I]||(k[I]={name:E.supplierName||"Bilinmeyen",amount:0,count:0}),k[I].amount+=E.totalAmount||0,k[I].count+=1,k},{});return{totalPurchases:x,totalItems:S,totalTransactions:g.length,suppliers:Object.values(T).sort((k,E)=>E.amount-k.amount)}},[g]),b=R.useMemo(()=>{const x=y.totalSales,S=_.totalPurchases,T=v.reduce((C,L)=>C+(L.amount||0),0),k=w.filter(C=>C.direction==="in").reduce((C,L)=>C+(L.amount||0),0),E=w.filter(C=>C.direction==="out").reduce((C,L)=>C+(L.amount||0),0),I=x-S,O=I-T,P=k-E;return{totalRevenue:x,totalPurchases:S,totalExpenses:T,grossProfit:I,netProfit:O,totalPaymentsIn:k,totalPaymentsOut:E,netCashFlow:P}},[y,_,v,w]),j=(x,S)=>{const T=hk(x);kh(T,S)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--text-color)]",children:"Raporlar"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"date",value:l.from,onChange:x=>u(S=>({...S,from:x.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm",placeholder:"Başlangıç"}),c.jsx("input",{type:"date",value:l.to,onChange:x=>u(S=>({...S,to:x.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm",placeholder:"Bitiş"})]})]}),c.jsx("div",{className:"flex space-x-1 bg-[var(--bg-color)] p-1 rounded-lg",children:[{id:"sales",label:"Satış Raporu",icon:c.jsx(ru,{size:16})},{id:"purchases",label:"Satın Alma Raporu",icon:c.jsx(Is,{size:16})},{id:"profit",label:"Kâr/Zarar",icon:c.jsx(xh,{size:16})},{id:"inventory",label:"Stok Raporu",icon:c.jsx(vn,{size:16})}].map(x=>c.jsxs("button",{onClick:()=>s(x.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${o===x.id?"bg-[var(--primary-600)] text-white":"text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--surface-color)]"}`,children:[x.icon,x.label]},x.id))})]}),o==="sales"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam Satış"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:he(y.totalSales)})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam İşlem"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:y.totalTransactions})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Satılan Ürün"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:y.totalItems})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Ortalama Sepet"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:y.totalTransactions>0?he(y.totalSales/y.totalTransactions):"0 ₺"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Ödeme Yöntemleri"}),c.jsx("div",{className:"space-y-2",children:Object.entries(y.paymentMethods).map(([x,S])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:x}),c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:he(S)})]},x))})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"En Çok Satılan Ürünler"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.topProducts.map((x,S)=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)] truncate",children:x.name}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium text-[var(--text-color)]",children:he(x.revenue)}),c.jsxs("div",{className:"text-xs text-[var(--text-muted-color)]",children:[x.quantity," adet"]})]})]},S))})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>j(m,`satis-raporu-${new Date().toISOString().split("T")[0]}.csv`),className:"bg-[var(--primary-600)] text-white px-4 py-2 rounded-lg hover:bg-[var(--primary-700)]",children:"CSV İndir"})})]}),o==="purchases"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam Satın Alma"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:he(_.totalPurchases)})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam İşlem"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:_.totalTransactions})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Satın Alınan Ürün"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:_.totalItems})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Tedarikçiler"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.suppliers.map((x,S)=>c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:x.name}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium text-[var(--text-color)]",children:he(x.amount)}),c.jsxs("div",{className:"text-xs text-[var(--text-muted-color)]",children:[x.count," işlem"]})]})]},S))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>j(g,`satin-alma-raporu-${new Date().toISOString().split("T")[0]}.csv`),className:"bg-[var(--primary-600)] text-white px-4 py-2 rounded-lg hover:bg-[var(--primary-700)]",children:"CSV İndir"})})]}),o==="profit"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam Gelir"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:he(b.totalRevenue)})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Toplam Gider"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:he(b.totalPurchases+b.totalExpenses)})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Brüt Kâr"}),c.jsx("p",{className:`text-2xl font-bold ${b.grossProfit>=0?"text-green-600":"text-red-600"}`,children:he(b.grossProfit)})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-muted-color)]",children:"Net Kâr"}),c.jsx("p",{className:`text-2xl font-bold ${b.netProfit>=0?"text-green-600":"text-red-600"}`,children:he(b.netProfit)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Gelir Detayı"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:"Satış Geliri"}),c.jsx("span",{className:"font-medium text-green-600",children:he(b.totalRevenue)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:"Diğer Gelirler"}),c.jsx("span",{className:"font-medium text-green-600",children:he(b.totalPaymentsIn)})]}),c.jsxs("div",{className:"flex justify-between border-t pt-2",children:[c.jsx("span",{className:"font-semibold text-[var(--text-color)]",children:"Toplam Gelir"}),c.jsx("span",{className:"font-bold text-green-600",children:he(b.totalRevenue+b.totalPaymentsIn)})]})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Gider Detayı"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:"Satın Almalar"}),c.jsx("span",{className:"font-medium text-red-600",children:he(b.totalPurchases)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:"İşletme Giderleri"}),c.jsx("span",{className:"font-medium text-red-600",children:he(b.totalExpenses)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-color)]",children:"Diğer Giderler"}),c.jsx("span",{className:"font-medium text-red-600",children:he(b.totalPaymentsOut)})]}),c.jsxs("div",{className:"flex justify-between border-t pt-2",children:[c.jsx("span",{className:"font-semibold text-[var(--text-color)]",children:"Toplam Gider"}),c.jsx("span",{className:"font-bold text-red-600",children:he(b.totalPurchases+b.totalExpenses+b.totalPaymentsOut)})]})]})]})]})]}),o==="inventory"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Stok Durumu"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r==null?void 0:r.map(x=>c.jsxs("div",{className:"flex justify-between items-center p-2 rounded border border-[var(--border-color)]",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:x.name}),c.jsxs("span",{className:"text-sm text-[var(--text-muted-color)] ml-2",children:["(",x.category||"Kategori yok",")"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium text-[var(--text-color)]",children:[x.stock||0," adet"]}),c.jsx("div",{className:"text-sm text-[var(--text-muted-color)]",children:he(x.salePrice||0)})]})]},x.id))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>j(r,`stok-raporu-${new Date().toISOString().split("T")[0]}.csv`),className:"bg-[var(--primary-600)] text-white px-4 py-2 rounded-lg hover:bg-[var(--primary-700)]",children:"CSV İndir"})})]})]})},BTe=({customers:t,customersPath:e,sales:r})=>{const[n,i]=R.useState({name:"",phone:"",email:"",address:"",notes:""}),[a,o]=R.useState(""),s=async d=>{d.preventDefault();const f={name:(n.name||"").trim(),phone:(n.phone||"").trim(),email:(n.email||"").trim(),address:(n.address||"").trim(),notes:(n.notes||"").trim(),createdAt:_e(),updatedAt:_e()};await ie.promise(uh(At(ye,e),f),{loading:"Kaydediliyor...",success:"Müşteri kaydedildi.",error:"Kayıt hatası."}),i({name:"",phone:"",email:"",address:"",notes:""})},l=R.useMemo(()=>{const d=t||[],f=(a||"").toLowerCase();return d.filter(h=>!f||(h.name||"").toLowerCase().includes(f)||(h.phone||"").toLowerCase().includes(f)||(h.email||"").toLowerCase().includes(f))},[t,a]),u=d=>{const f=(r||[]).filter(g=>g.customerId===d),h=f.reduce((g,v)=>g+(v.totalAmount||0),0),m=f.sort((g,v)=>{var _,b;const w=(_=g.saleDate)!=null&&_.toDate?g.saleDate.toDate().getTime():g.saleDate?new Date(g.saleDate).getTime():0;return((b=v.saleDate)!=null&&b.toDate?v.saleDate.toDate().getTime():v.saleDate?new Date(v.saleDate).getTime():0)-w})[0];return{totalSpent:h,lastSale:m,saleCount:f.length}};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Müşteri Ekle"}),c.jsxs("form",{onSubmit:s,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Ad Soyad *"}),c.jsx("input",{value:n.name,onChange:d=>i(f=>({...f,name:d.target.value})),required:!0,className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Telefon"}),c.jsx("input",{value:n.phone,onChange:d=>i(f=>({...f,phone:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"E-posta"}),c.jsx("input",{type:"email",value:n.email,onChange:d=>i(f=>({...f,email:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Adres"}),c.jsx("input",{value:n.address,onChange:d=>i(f=>({...f,address:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Notlar"}),c.jsx("input",{value:n.notes,onChange:d=>i(f=>({...f,notes:d.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Kaydet"})})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-[var(--text-color)]",children:"Müşteriler"}),c.jsx("input",{value:a,onChange:d=>o(d.target.value),placeholder:"Ara...",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"})]}),c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:l.length===0?c.jsx(yr,{icon:c.jsx(Kg,{size:40}),message:"Müşteri yok",description:"Yeni bir müşteri ekleyin."}):l.map(d=>{var h,m;const f=u(d.id);return c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-[var(--text-color)]",children:d.name}),d.phone&&c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:["📞 ",d.phone]}),d.email&&c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:["✉️ ",d.email]}),d.address&&c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:["📍 ",d.address]}),d.notes&&c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)]",children:["📝 ",d.notes]})]}),c.jsxs("div",{className:"text-right text-sm",children:[c.jsxs("p",{className:"text-[var(--text-color)]",children:["Toplam: ",he(f.totalSpent)]}),c.jsxs("p",{className:"text-[var(--text-muted-color)]",children:["Satış: ",f.saleCount]}),f.lastSale&&c.jsxs("p",{className:"text-[var(--text-muted-color)]",children:["Son: ",((m=(h=f.lastSale.saleDate)!=null&&h.toDate?f.lastSale.saleDate.toDate():f.lastSale.saleDate?new Date(f.lastSale.saleDate):null)==null?void 0:m.toLocaleDateString("tr-TR"))||""]})]})]})},d.id)})})]})]})},zTe=({expenses:t,expenseCategories:e,expensesPath:r,expenseCategoriesPath:n})=>{const[i,a]=R.useState({date:"",categoryId:"",amount:0,note:""}),[o,s]=R.useState(""),[l,u]=R.useState({from:"",to:""}),d=async g=>{g.preventDefault();const v={date:i.date?new Date(i.date):_e(),categoryId:i.categoryId||null,amount:Math.max(0,Number(i.amount)||0),note:(i.note||"").trim(),createdAt:_e()};await ie.promise(uh(At(ye,r),v),{loading:"Kaydediliyor...",success:"Gider kaydedildi.",error:"Kayıt hatası."}),a({date:"",categoryId:"",amount:0,note:""})},f=async()=>{const g=(o||"").trim();g&&(await ie.promise(Rr(Ee(ye,n,g),{name:g},{merge:!0}),{loading:"Kategori ekleniyor...",success:"Kategori kaydedildi.",error:"Kategori hatası."}),s(""))},h=R.useMemo(()=>{const g=t||[],v=l.from?new Date(l.from):null,w=l.to?new Date(l.to):null;return g.filter(y=>{var b;const _=(b=y.date)!=null&&b.toDate?y.date.toDate():y.date?new Date(y.date):null;if(!_)return!0;if(v&&_<v)return!1;if(w){const j=new Date(w);if(j.setHours(23,59,59,999),_>j)return!1}return!0}).sort((y,_)=>{var x,S;const b=(x=y.date)!=null&&x.toDate?y.date.toDate().getTime():y.date?new Date(y.date).getTime():0;return((S=_.date)!=null&&S.toDate?_.date.toDate().getTime():_.date?new Date(_.date).getTime():0)-b})},[t,l]),m=h.reduce((g,v)=>g+(v.amount||0),0);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Gider Ekle"}),c.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Tarih"}),c.jsx("input",{type:"date",value:i.date,onChange:g=>a(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Kategori"}),c.jsxs("select",{value:i.categoryId,onChange:g=>a(v=>({...v,categoryId:g.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"",children:"Seçiniz"}),(e||[]).map(g=>c.jsx("option",{value:g.id||g.name,children:g.name},g.id||g.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Tutar"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:i.amount,onChange:g=>a(v=>({...v,amount:parseFloat(g.target.value)||0})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Not"}),c.jsx("input",{value:i.note,onChange:g=>a(v=>({...v,note:g.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Kaydet"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h3",{className:"font-semibold mb-3 text-[var(--text-color)]",children:"Kategoriler"}),c.jsxs("div",{className:"flex items-end gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Yeni Kategori"}),c.jsx("input",{value:o,onChange:g=>s(g.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("button",{type:"button",onClick:f,className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg",children:"Ekle"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-[var(--text-color)]",children:"Giderler"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"date",value:l.from,onChange:g=>u(v=>({...v,from:g.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsx("input",{type:"date",value:l.to,onChange:g=>u(v=>({...v,to:g.target.value})),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsxs("div",{className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-sm",children:["Toplam: ",he(m)]})]})]}),c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:h.length===0?c.jsx(yr,{icon:c.jsx(A3,{size:40}),message:"Gider yok",description:"Yeni bir gider ekleyin."}):h.map(g=>{var v,w;return c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:he(g.amount||0)}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:[g.categoryId||"-"," • ",((w=(v=g.date)!=null&&v.toDate?g.date.toDate():g.date?new Date(g.date):null)==null?void 0:w.toLocaleDateString("tr-TR"))||""]}),g.note&&c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:g.note})]})},g.id)})})]})]})},UTe=({products:t,categoryDiscounts:e,categoryDiscountsPath:r,onUpdateProduct:n})=>{const[i,a]=R.useState({name:"",discountValue:"",discountType:"percentage"}),o=R.useMemo(()=>{const d=new Set(t.map(f=>f.category).filter(Boolean));return Array.from(d)},[t]),s=async d=>{d.preventDefault();const{name:f,discountValue:h,discountType:m}=i;if(!f||!h){ie.warning("Lütfen kategori adı ve indirim değeri girin.");return}const g=Ee(ye,r,f),v={discountValue:parseFloat(h),discountType:m};await ie.promise(Rr(g,v),{loading:"Kategori indirimi kaydediliyor...",success:`"${f}" kategorisi için indirim kaydedildi.`,error:"İşlem sırasında bir hata oluştu."}),a({name:"",discountValue:"",discountType:"percentage"})},l=async d=>{const f=Ee(ye,r,d);await ie.promise(ch(f),{loading:"İndirim siliniyor...",success:`"${d}" kategorisinin indirimi kaldırıldı.`,error:"İşlem sırasında bir hata oluştu."})},u=async(d,f,h)=>{const m={...d,[f]:h};try{await n(m),ie.success(`${d.name} indirimi güncellendi.`)}catch{ie.error("İndirim güncellenirken hata oluştu.")}};return c.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2 pb-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-[var(--text-color)]",children:[c.jsx(Pbe,{size:18})," Kategori İndirimleri"]}),c.jsxs("form",{onSubmit:s,className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-muted-color)]",children:"Kategori"}),c.jsxs("select",{value:i.name,onChange:d=>a({...i,name:d.target.value}),className:"w-full mt-1 px-3 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)] text-sm",children:[c.jsx("option",{value:"",children:"Seçiniz..."}),o.map(d=>c.jsx("option",{value:d,children:d},d))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-muted-color)]",children:"İndirim Değeri"}),c.jsx("input",{type:"number",placeholder:"10",value:i.discountValue,onChange:d=>a({...i,discountValue:d.target.value}),className:"w-full mt-1 px-3 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)] text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-muted-color)]",children:"Tipi"}),c.jsxs("select",{value:i.discountType,onChange:d=>a({...i,discountType:d.target.value}),className:"w-full mt-1 px-3 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)] text-sm",children:[c.jsx("option",{value:"percentage",children:"% Yüzde"}),c.jsx("option",{value:"fixed",children:"₺ Sabit Tutar"})]})]}),c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)] transition-colors text-sm",children:"Kaydet"})]}),c.jsx("div",{className:"space-y-2",children:e.map(d=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-[var(--bg-color)] rounded-md",children:[c.jsx("p",{className:"text-sm font-medium",children:d.id}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm font-bold text-[var(--primary-600)]",children:[d.discountValue,d.discountType==="percentage"?"%":"₺"]}),c.jsx("button",{onClick:()=>l(d.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:c.jsx(Xi,{size:14})})]})]},d.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-[var(--text-color)]",children:[c.jsx(w3,{size:18})," Ürün Bazlı İndirimler"]}),c.jsx("div",{className:"space-y-2",children:t.map(d=>c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center p-2 bg-[var(--surface-color)] rounded-lg border border-[var(--border-color)]",children:[c.jsx("p",{className:"col-span-2 text-sm font-medium truncate",title:d.name,children:d.name}),c.jsx("input",{type:"number",placeholder:"Değer",value:d.discountValue||"",onChange:f=>u(d,"discountValue",f.target.value),className:"w-full px-2 py-1 border border-[var(--border-color)] rounded-md focus:outline-none focus:ring-1 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsxs("select",{value:d.discountType||"fixed",onChange:f=>u(d,"discountType",f.target.value),className:"w-full px-2 py-1 border border-[var(--border-color)] rounded-md focus:outline-none focus:ring-1 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)] text-sm",children:[c.jsx("option",{value:"fixed",children:"₺"}),c.jsx("option",{value:"percentage",children:"%"})]}),c.jsx("button",{onClick:()=>u(d,"discountValue",0),className:"p-1.5 text-slate-500 hover:bg-slate-200 rounded-full justify-self-center",title:"İndirimi Sıfırla",children:c.jsx(pa,{size:16})})]},d.id))})]})]})},KTe=({data:t})=>{const{palette:e,colorPalettes:r}=Ah(),n={teal:["#14b8a6","#0ea5e9","#f97316","#ec4899","#8b5cf6","#a8a29e"],blue:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#6b7280"],rose:["#f43f5e","#3b82f6","#14b8a6","#facc15","#a78bfa","#9ca3af"],indigo:["#6366f1","#22c55e","#f97316","#d946ef","#0ea5e9","#78716c"]};return!t||t.length===0||t.every(i=>i.value===0)?c.jsx(yr,{icon:c.jsx(S3,{size:30}),message:"Gösterilecek veri yok."}):c.jsx($l,{width:"100%",height:"100%",children:c.jsxs(h3,{children:[c.jsx(Ii,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i} ${(a*100).toFixed(0)}%`,children:t.map((i,a)=>c.jsx(ph,{fill:n[e][a%n[e].length]},`cell-${a}`))}),c.jsx(Lr,{formatter:i=>[he(i),"Ciro"]}),c.jsx(us,{})]})})},qTe=({currentSettings:t,onSave:e,onClose:r})=>{const{applyTheme:n,persistSettings:i,colorPalettes:a}=Ah(),[o,s]=R.useState(t),l=R.useRef(t);R.useEffect(()=>{n(o.theme,o.palette)},[o,n]);const u=()=>{n(l.current.theme,l.current.palette),r()},d=()=>{i(o.theme,o.palette),e(o),r()};return c.jsxs(c.Fragment,{children:[c.jsx(ti.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:u}),c.jsxs(ti.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-sm bg-[var(--bg-color)] shadow-2xl z-50 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-xl font-semibold text-[var(--text-color)]",children:"Ayarlar"}),c.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-[var(--surface-hover-color)]",children:c.jsx(pa,{size:20})})]}),c.jsxs("div",{className:"flex-grow p-6 space-y-8 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Tema"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>s(f=>({...f,theme:"light"})),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 ${o.theme==="light"?"border-[var(--primary-500)] bg-[var(--surface-color)]":"border-[var(--border-color)]"}`,children:[c.jsx(C3,{size:16})," Açık"]}),c.jsxs("button",{onClick:()=>s(f=>({...f,theme:"dark"})),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 ${o.theme==="dark"?"border-[var(--primary-500)] bg-[var(--surface-color)]":"border-[var(--border-color)]"}`,children:[c.jsx(b3,{size:16})," Koyu"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Renk Paleti"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(a).map(([f,h])=>c.jsxs("button",{onClick:()=>s(m=>({...m,palette:f})),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 ${o.palette===f?"border-[var(--primary-500)]":"border-[var(--border-color)]"}`,children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:h.primary500}}),h.name]},f))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"criticalStock",className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Genel Kritik Stok Seviyesi"}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mb-2",children:"Yeni eklenen ürünler için varsayılan uyarı seviyesi."}),c.jsx("input",{id:"criticalStock",type:"number",value:o.criticalStockLevel,onChange:f=>s(h=>({...h,criticalStockLevel:parseInt(f.target.value,10)||0})),className:"w-full max-w-xs px-4 py-2 border border-[var(--border-color)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--primary-500)] transition bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Maliyet Yöntemi"}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mb-2",children:"Ürün maliyetini nasıl güncelleyelim?"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>s(f=>({...f,costMethod:"last"})),className:`px-3 py-1.5 rounded-lg border ${o.costMethod==="last"?"border-[var(--primary-500)] text-[var(--primary-600)]":"border-[var(--border-color)] text-[var(--text-muted-color)]"}`,children:"Son Alış"}),c.jsx("button",{onClick:()=>s(f=>({...f,costMethod:"weighted"})),className:`px-3 py-1.5 rounded-lg border ${o.costMethod==="weighted"?"border-[var(--primary-500)] text-[var(--primary-600)]":"border-[var(--border-color)] text-[var(--text-muted-color)]"}`,children:"Ağırlıklı Ortalama"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Otomatik Satış Fiyatı"}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mb-2",children:"Yeni maliyete göre satış fiyatını öner veya otomatik güncelle."}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("label",{className:"text-sm text-[var(--text-muted-color)]",children:"Varsayılan Kâr Marjı (%)"}),c.jsx("input",{type:"number",step:"0.1",min:"0",value:o.defaultMarkupPercent||0,onChange:f=>s(h=>({...h,defaultMarkupPercent:parseFloat(f.target.value||"0")})),className:"w-24 px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:!!o.autoUpdateSalePrice,onChange:f=>s(h=>({...h,autoUpdateSalePrice:f.target.checked}))}),"Satış fiyatını otomatik güncelle"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Firma Bilgileri (Fiş)"}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.jsx("input",{value:o.companyName||"",onChange:f=>s(h=>({...h,companyName:f.target.value})),placeholder:"Firma Adı",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{value:o.companyLogoUrl||"",onChange:f=>s(h=>({...h,companyLogoUrl:f.target.value})),placeholder:"Logo URL (opsiyonel)",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{value:o.companyAddress||"",onChange:f=>s(h=>({...h,companyAddress:f.target.value})),placeholder:"Adres (opsiyonel)",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{value:o.companyTaxNumber||"",onChange:f=>s(h=>({...h,companyTaxNumber:f.target.value})),placeholder:"Vergi No (opsiyonel)",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]})]})]}),c.jsx("div",{className:"p-4 border-t border-[var(--border-color)] bg-[var(--surface-color)]",children:c.jsx("button",{onClick:d,className:"w-full px-4 py-2.5 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] font-semibold text-sm",children:"Ayarları Kaydet"})})]})]})},WTe=({sales:t,products:e})=>{const[r,n]=R.useState("weekly"),{currentPeriod:i,previousPeriod:a,revenueByCategory:o,busiestDays:s,busiestHours:l,topSellingProducts:u}=R.useMemo(()=>{const f=new Date;let h,m,g,v;switch(r){case"daily":h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(f.getFullYear(),f.getMonth(),f.getDate()+1),g=new Date(f.getFullYear(),f.getMonth(),f.getDate()-1),v=h;break;case"monthly":h=new Date(f.getFullYear(),f.getMonth(),1),m=new Date(f.getFullYear(),f.getMonth()+1,1),g=new Date(f.getFullYear(),f.getMonth()-1,1),v=h;break;case"yearly":h=new Date(f.getFullYear(),0,1),m=new Date(f.getFullYear()+1,0,1),g=new Date(f.getFullYear()-1,0,1),v=h;break;case"weekly":default:const L=f.getDay()===0?6:f.getDay()-1;h=new Date(f.getFullYear(),f.getMonth(),f.getDate()-L),m=new Date(h.getTime()+7*24*60*60*1e3),g=new Date(h.getTime()-7*24*60*60*1e3),v=h;break}h.setHours(0,0,0,0),g.setHours(0,0,0,0);const w=t.filter(L=>L.saleDate&&typeof L.saleDate.toDate=="function"),y=(L,$,q)=>L.filter(U=>{const F=U.saleDate.toDate();return F>=$&&F<q}),_=w.filter(L=>L.type==="sale"||L.type==="credit"&&L.status==="paid"),b=L=>L.reduce(($,q)=>$+(q.total||0),0),j=y(_,h,m),x=y(_,g,v),S=["Pzt","Sal","Çar","Per","Cum","Cmt","Paz"],T=new Array(7).fill(0).map((L,$)=>({name:S[$],Ciro:0})),k=new Array(24).fill(0).map((L,$)=>({name:`${String($).padStart(2,"0")}:00`,Ciro:0}));j.forEach(L=>{const $=L.saleDate.toDate(),q=$.getDay()===0?6:$.getDay()-1;T[q]&&(T[q].Ciro+=L.total),k[$.getHours()]&&(k[$.getHours()].Ciro+=L.total)});const E={};j.forEach(L=>{L.items.forEach($=>{E[$.name]=(E[$.name]||0)+$.price*$.quantity})});const O=Object.entries(E).map(([L,$])=>({name:L,value:$})).sort((L,$)=>$.value-L.value).slice(0,10),P=j.reduce((L,$)=>($.items.forEach(q=>{const U=e.find(z=>z.id===q.productId),F=(U==null?void 0:U.category)||"Diğer";L[F]=(L[F]||0)+q.price*q.quantity}),L),{}),C=Object.entries(P).map(([L,$])=>({name:L,value:$})).sort((L,$)=>$.value-L.value);return{currentPeriod:{revenue:b(j)},previousPeriod:{revenue:b(x)},revenueByCategory:C,busiestDays:T,busiestHours:k.filter(L=>L.Ciro>0),topSellingProducts:O}},[t,e,r]),d={daily:"Günlük",weekly:"Haftalık",monthly:"Aylık",yearly:"Yıllık"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color)]",children:"İstatistikler"}),c.jsx("div",{className:"flex items-center gap-2 rounded-lg bg-[var(--surface-color)] p-1 border border-[var(--border-color)]",children:Object.keys(d).map(f=>c.jsx("button",{onClick:()=>n(f),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${r===f?"bg-[var(--bg-color)] text-[var(--primary-600)] shadow-sm":"text-[var(--text-muted-color)] hover:text-[var(--text-color)]"}`,children:d[f]},f))})]}),c.jsx(JTe,{title:`${d[r]} Ciro`,current:i.revenue,previous:a.revenue}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Np,{title:"En Yoğun Günler",icon:PC,children:s.some(f=>f.Ciro>0)?c.jsx($l,{width:"100%",height:"100%",children:c.jsxs(e0,{data:s,margin:{top:5,right:20,left:-10,bottom:5},children:[c.jsx(gd,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),c.jsx(so,{dataKey:"name",tick:{fontSize:12,fill:"var(--text-muted-color)"}}),c.jsx(lo,{tickFormatter:f=>he(f).replace("₺",""),tick:{fontSize:10,fill:"var(--text-muted-color)"}}),c.jsx(Lr,{formatter:f=>[he(f),"Ciro"],contentStyle:{backgroundColor:"var(--surface-color)",border:"1px solid var(--border-color)",borderRadius:"0.5rem"},labelStyle:{color:"var(--text-color)"}}),c.jsx(ta,{dataKey:"Ciro",fill:"var(--primary-500)",radius:[4,4,0,0]})]})}):c.jsx(yr,{icon:c.jsx(PC,{size:30}),message:"Bu periyotta gün verisi yok."})}),c.jsx(Np,{title:"En Yoğun Saatler",icon:NC,children:l.length>0?c.jsx($l,{width:"100%",height:"100%",children:c.jsxs(e0,{data:l,margin:{top:5,right:20,left:-10,bottom:5},children:[c.jsx(gd,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),c.jsx(so,{dataKey:"name",tick:{fontSize:10,fill:"var(--text-muted-color)"},angle:-45,textAnchor:"end",height:40,interval:"preserveStartEnd"}),c.jsx(lo,{tickFormatter:f=>he(f).replace("₺",""),tick:{fontSize:10,fill:"var(--text-muted-color)"}}),c.jsx(Lr,{formatter:f=>[he(f),"Ciro"],contentStyle:{backgroundColor:"var(--surface-color)",border:"1px solid var(--border-color)",borderRadius:"0.5rem"},labelStyle:{color:"var(--text-color)"}}),c.jsx(ta,{dataKey:"Ciro",fill:"var(--primary-500)",radius:[4,4,0,0]})]})}):c.jsx(yr,{icon:c.jsx(NC,{size:30}),message:"Bu periyotta saat verisi yok."})})]}),c.jsx(Np,{title:`En Çok Satan Ürünler - Ciro (${d[r]})`,icon:ru,children:u.length>0?c.jsx($l,{width:"100%",height:"100%",children:c.jsxs(e0,{data:u,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(gd,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),c.jsx(so,{type:"number",hide:!0}),c.jsx(lo,{type:"category",dataKey:"name",width:120,tick:{fontSize:12,width:110,fill:"var(--text-muted-color)"},interval:0}),c.jsx(Lr,{formatter:f=>[he(f),"Ciro"],contentStyle:{backgroundColor:"var(--surface-color)",border:"1px solid var(--border-color)",borderRadius:"0.5rem"},labelStyle:{color:"var(--text-color)"}}),c.jsx(ta,{dataKey:"value",name:"Ciro",fill:"var(--primary-500)",radius:[0,4,4,0],background:{fill:"var(--surface-color)"},label:{position:"right",formatter:f=>he(f),fontSize:11,fill:"var(--text-color)"}})]})}):c.jsx(yr,{icon:c.jsx(w3,{size:30}),message:"Bu periyotta gösterilecek ürün verisi yok."})}),c.jsx(Np,{title:"Kategori Performansı (Ciro)",icon:S3,children:c.jsx(KTe,{data:o})})]})},HTe=({sales:t,salesPath:e,loading:r,categoryDiscounts:n})=>{var P,C,L;const[i,a]=R.useState(null),[o,s]=R.useState(""),[l,u]=R.useState("nakit"),[d,f]=R.useState(""),[h,m]=R.useState("unpaid"),[g,v]=R.useState("date"),[w,y]=R.useState("desc"),[_,b]=R.useState(!1),j=R.useMemo(()=>{let $=t.filter(q=>q.type==="credit");return h==="unpaid"?$=$.filter(q=>q.status==="unpaid"):h==="paid"&&($=$.filter(q=>q.status==="paid")),d&&($=$.filter(q=>{var U,F,z;return((U=q.customerName)==null?void 0:U.toLowerCase().includes(d.toLowerCase()))||((F=q.customerPhone)==null?void 0:F.includes(d))||((z=q.items)==null?void 0:z.some(X=>X.name.toLowerCase().includes(d.toLowerCase())))})),$.sort((q,U)=>{var X,re,V,Y;let F,z;switch(g){case"amount":F=q.total||0,z=U.total||0;break;case"customer":F=q.customerName||"",z=U.customerName||"";break;case"date":default:F=((re=(X=q.saleDate)==null?void 0:X.toDate)==null?void 0:re.call(X))||new Date(0),z=((Y=(V=U.saleDate)==null?void 0:V.toDate)==null?void 0:Y.call(V))||new Date(0);break}return w==="asc"?F>z?1:-1:F<z?1:-1}),$},[t,h,d,g,w]),x=R.useMemo(()=>j.filter($=>$.status==="unpaid"),[j]),S=R.useMemo(()=>j.filter($=>$.status==="paid"),[j]),T=R.useMemo(()=>x.reduce(($,q)=>$+(q.total||0),0),[x]),k=R.useMemo(()=>S.reduce(($,q)=>$+(q.total||0),0),[S]),E=R.useCallback(async($,q=null,U="nakit")=>{const F=Ee(ye,e,$),z={status:"paid",paymentMethod:U,paidDate:_e(),paidAmount:q||null};await ie.promise(Dl(F,z),{loading:"Ödeme kaydediliyor...",success:"Ödeme başarıyla kaydedildi!",error:"İşlem sırasında bir hata oluştu."}),b(!1),a(null),s("")},[e]);R.useCallback(async()=>{if(!i||!o)return;const $=parseFloat(o);if($<=0||$>i.total){ie.error("Geçersiz ödeme tutarı");return}await E(i.id,$,l)},[i,o,l,E]);const I=$=>{if(!($!=null&&$.toDate))return 0;const q=Math.floor((new Date-$.toDate())/(1e3*60*60*24));return Math.max(0,q)},O=$=>$===0?{text:"Bugün",color:"text-blue-600"}:$<=7?{text:`${$} gün`,color:"text-yellow-600"}:$<=30?{text:`${$} gün`,color:"text-orange-600"}:{text:`${$} gün`,color:"text-red-600"};return r?c.jsx(Nc,{}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Toplam Veresiye"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:j.length})]}),c.jsx(u1,{className:"w-8 h-8 text-[var(--primary-600)]"})]})}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ödenmemiş"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--error-color)]",children:he(T)})]}),c.jsx(Ug,{className:"w-8 h-8 text-[var(--error-color)]"})]})}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ödenmiş"}),c.jsx("p",{className:"text-2xl font-bold text-[var(--success-color)]",children:he(k)})]}),c.jsx(Yi,{className:"w-8 h-8 text-[var(--success-color)]"})]})})]}),c.jsx("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Durum"}),c.jsxs("select",{value:h,onChange:$=>m($.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"unpaid",children:"Ödenmemiş"}),c.jsx("option",{value:"paid",children:"Ödenmiş"}),c.jsx("option",{value:"all",children:"Tümü"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Sıralama"}),c.jsxs("select",{value:g,onChange:$=>v($.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"date",children:"Tarih"}),c.jsx("option",{value:"amount",children:"Tutar"}),c.jsx("option",{value:"customer",children:"Müşteri"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Sıra"}),c.jsxs("select",{value:w,onChange:$=>y($.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"desc",children:"Azalan"}),c.jsx("option",{value:"asc",children:"Artan"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Arama"}),c.jsx("input",{type:"text",placeholder:"Müşteri, telefon, ürün ara...",value:d,onChange:$=>f($.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]})]})}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("h3",{className:"font-semibold text-[var(--text-color)] mb-4",children:["Veresiye Kayıtları (",j.length,")"]}),j.length===0?c.jsx(yr,{icon:c.jsx(u1,{size:40}),message:"Veresiye kaydı bulunmuyor",description:"Arama kriterlerinizi değiştirin."}):c.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:j.map($=>{var F,z;const q=I($.saleDate),U=O(q);return c.jsx("div",{onClick:()=>{a($),$.status==="unpaid"&&b(!0)},className:`p-4 rounded-lg border cursor-pointer transition-colors ${$.status==="unpaid"?"bg-red-50 border-red-200 hover:bg-red-100 dark:bg-red-900/20 dark:border-red-800 dark:hover:bg-red-900/30":"bg-green-50 border-green-200 hover:bg-green-100 dark:bg-green-900/20 dark:border-green-800 dark:hover:bg-green-100/30"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("p",{className:"font-semibold text-[var(--text-color)]",children:$.customerName||"Müşteri Bilgisi Yok"}),$.status==="unpaid"&&c.jsx("span",{className:`text-xs font-medium ${U.color}`,children:U.text})]}),c.jsxs("p",{className:"text-sm text-[var(--text-muted-color)] mb-1",children:[$.customerPhone||"Telefon yok"," •",(F=$.saleDate)!=null&&F.toDate?$.saleDate.toDate().toLocaleString("tr-TR"):"Tarih yok"]}),c.jsxs("div",{className:"flex gap-4 text-xs text-[var(--text-muted-color)]",children:[c.jsxs("span",{children:["Ürün: ",((z=$.items)==null?void 0:z.length)||0]}),c.jsxs("span",{children:["Müşteri: ",$.customerName||"Bilinmiyor"]}),$.status==="paid"&&c.jsxs("span",{children:["Ödeme: ",$.paymentMethod||"Nakit"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:`text-lg font-bold ${$.status==="unpaid"?"text-red-600":"text-green-600"}`,children:he($.total||0)}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:$.status==="unpaid"?"Ödenmemiş":"Ödenmiş"})]}),$.status==="unpaid"&&c.jsx("button",{onClick:X=>{X.stopPropagation(),a($),b(!0)},className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/50 rounded-md",title:"Ödeme Al",children:c.jsx(Yi,{size:20})})]})]})},$.id)})})]}),_&&i&&c.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>b(!1),children:c.jsxs("div",{className:"bg-[var(--bg-color)] p-6 rounded-xl shadow-2xl w-full max-w-md border border-[var(--border-color)]",onClick:$=>$.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-[var(--text-color)]",children:"Ödeme Al"}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 rounded-md hover:bg-[var(--surface-hover-color)]",children:c.jsx(pa,{size:18})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Müşteri"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:i.customerName||"",onChange:async $=>{const q=$.target.value;a(U=>({...U,customerName:q}));try{await Dl(Ee(ye,e,i.id),{customerName:q})}catch(U){console.error("Müşteri adı güncellenemedi",U),ie.error("Müşteri adı güncellenemedi")}},placeholder:"Müşteri Adı",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{type:"text",value:i.customerPhone||"",onChange:async $=>{const q=$.target.value;a(U=>({...U,customerPhone:q}));try{await Dl(Ee(ye,e,i.id),{customerPhone:q})}catch(U){console.error("Telefon güncellenemedi",U),ie.error("Telefon güncellenemedi")}},placeholder:"Telefon",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Borç Tutarı"}),c.jsx("p",{className:"text-xl font-bold text-red-600",children:he(i.total||0)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Ödeme Tutarı"}),c.jsx("input",{type:"number",value:o,onChange:$=>s($.target.value),placeholder:he(i.total||0),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-1",children:"Ödeme Yöntemi"}),c.jsxs("select",{value:l,onChange:$=>u($.target.value),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",children:[c.jsx("option",{value:"nakit",children:"Nakit"}),c.jsx("option",{value:"kart",children:"Kart"}),c.jsx("option",{value:"havale",children:"Havale"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-[var(--surface-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--surface-hover-color)] border border-[var(--border-color)]",children:"İptal"}),c.jsx("button",{onClick:()=>E(i.id,parseFloat(o)||i.total,l),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Ödeme Al"})]})]})}),i&&!_&&c.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>a(null),children:c.jsxs("div",{className:"bg-[var(--bg-color)] p-6 rounded-xl shadow-2xl w-full max-w-md border border-[var(--border-color)]",onClick:$=>$.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-[var(--text-color)]",children:"Veresiye Detayı"}),c.jsx("button",{onClick:()=>a(null),className:"p-2 rounded-md hover:bg-[var(--surface-hover-color)]",children:c.jsx(pa,{size:18})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Tarih"}),c.jsx("p",{className:"font-medium text-[var(--text-color)]",children:(P=i.saleDate)!=null&&P.toDate?i.saleDate.toDate().toLocaleString("tr-TR"):"Tarih yok"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Durum"}),c.jsx("p",{className:`font-medium ${i.status==="paid"?"text-green-600":"text-red-600"}`,children:i.status==="paid"?"Ödenmiş":"Ödenmemiş"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Müşteri"}),c.jsx("p",{className:"font-medium text-[var(--text-color)]",children:i.customerName||"Müşteri Bilgisi Yok"}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:i.customerPhone||"Telefon yok"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Toplam"}),c.jsx("p",{className:"text-xl font-bold text-[var(--text-color)]",children:he(i.total||0)})]}),c.jsxs("div",{className:"border-t border-[var(--border-color)] pt-3",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] mb-2",children:"Ürünler"}),c.jsx("div",{className:"space-y-1",children:(C=i.items)==null?void 0:C.map(($,q)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-[var(--text-color)]",children:[$.name," (",$.quantity,"x)"]}),c.jsx("span",{className:"font-medium text-[var(--text-color)]",children:he(($.price||0)*($.quantity||0))})]},q))})]}),i.status==="paid"&&c.jsx("div",{className:"border-t border-[var(--border-color)] pt-3",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ödeme Yöntemi"}),c.jsx("p",{className:"font-medium text-[var(--text-color)]",children:i.paymentMethod||"Nakit"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:"Ödeme Tarihi"}),c.jsx("p",{className:"font-medium text-[var(--text-color)]",children:(L=i.paidDate)!=null&&L.toDate?i.paidDate.toDate().toLocaleString("tr-TR"):"Tarih yok"})]})]})})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 bg-[var(--surface-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--surface-hover-color)] border border-[var(--border-color)]",children:"Kapat"}),i.status==="unpaid"&&c.jsx("button",{onClick:()=>{b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Ödeme Al"})]})]})})]})},GTe=({sales:t,loading:e,onCancelSale:r})=>{if(e)return c.jsx(Nc,{});if(!t||t.length===0)return c.jsx(yr,{icon:c.jsx(y3,{size:40}),message:"Henüz işlem yapılmamış."});const n=s=>{r(s)},i=s=>{switch(s.type){case"sale":const l=s.paymentMethod==="kart"?"KART":"NAKİT",u=s.paymentMethod==="kart"?"bg-blue-600":"bg-green-600";return c.jsxs("span",{className:`text-xs font-semibold text-white ${u} px-2 py-0.5 rounded-full`,children:["SATIŞ (",l,")"]});case"personnel":return c.jsx("span",{className:"text-xs font-semibold text-black bg-yellow-400 px-2 py-0.5 rounded-full",children:"PERSONEL"});case"credit":return s.status==="paid"?c.jsx("span",{className:"text-xs font-semibold text-white bg-teal-600 px-2 py-0.5 rounded-full",children:"ÖDENMİŞ VERESİYE"}):c.jsx("span",{className:"text-xs font-semibold text-white bg-red-600 px-2 py-0.5 rounded-full",children:"ÖDENMEDİ"});case"cancelled":return c.jsx("span",{className:"text-xs font-semibold text-white bg-slate-500 px-2 py-0.5 rounded-full",children:"İPTAL EDİLDİ"});default:return null}},a=s=>s.reduce((l,u)=>l+(u.discountApplied||0),0),o=()=>{const s=[{label:"Tarih",value:l=>l.saleDate&&l.saleDate.toDate?l.saleDate.toDate().toLocaleString("tr-TR"):""},{label:"Tür",value:"type"},{label:"Ödeme",value:l=>l.paymentMethod||""},{label:"Durum",value:l=>l.status||""},{label:"Toplam",value:l=>l.total},{label:"Ara Toplam",value:l=>l.subTotal??""},{label:"Kasa İndirimi",value:l=>l.transactionDiscount??0},{label:"Kalemler",value:l=>l.items?l.items.map(u=>`${u.quantity}x ${u.name}`).join(" | "):""}];kh(`satis_gecmisi_${new Date().toISOString().slice(0,10)}.csv`,s,t)};return c.jsxs("div",{children:[c.jsx("div",{className:"flex justify-end pb-2",children:c.jsxs("button",{onClick:o,className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-[var(--text-color)] hover:bg-[var(--surface-hover-color)] flex items-center gap-1 text-sm",children:[c.jsx(tu,{size:16})," CSV İndir"]})}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 space-y-2 pb-4",children:t.map(s=>c.jsxs(ti.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:s.saleDate?s.saleDate.toDate().toLocaleString("tr-TR"):"..."}),i(s)]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:`text-lg font-bold ${s.type==="cancelled"?"text-slate-500 line-through":"text-green-700"}`,children:s.type!=="personnel"?he(s.total):""}),s.status!=="cancelled"&&c.jsx("button",{onClick:()=>n(s),className:"p-1.5 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-md",title:"İşlemi İptal Et",children:c.jsx(Ibe,{size:16})})]})]}),c.jsx("div",{className:"mt-2 border-t border-[var(--border-color)] pt-2 space-y-1",children:s.items&&Array.isArray(s.items)?s.items.map((l,u)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("p",{className:"text-[var(--text-color)]",children:[c.jsxs("span",{className:"font-medium",children:[l.quantity,"x"]})," ",l.name]}),c.jsxs("div",{className:`text-[var(--text-muted-color)] flex items-center gap-2 ${s.type==="cancelled"?"line-through":""}`,children:[l.discountApplied>0&&c.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded-full",children:["-",he(l.discountApplied)]}),c.jsx("span",{children:s.type!=="personnel"?he(l.price*l.quantity):""})]})]},u)):null}),(s.transactionDiscount>0||a(s.items||[])>0)&&s.type!=="cancelled"&&c.jsxs("div",{className:"mt-2 border-t border-dashed border-[var(--border-color)] pt-2 space-y-1 text-xs text-right",children:[c.jsxs("p",{children:["Ara Toplam: ",c.jsx("span",{className:"font-medium",children:he(s.subTotal||s.total+(s.transactionDiscount||0))})]}),c.jsxs("p",{className:"text-red-600",children:["Kasa İndirimi: ",c.jsxs("span",{className:"font-medium",children:["-",he(s.transactionDiscount||0)]})]})]})]},s.id))})]})},YTe=({products:t,purchases:e,suppliers:r,productsPath:n,purchasesPath:i,suppliersPath:a,settings:o})=>{const[s,l]=R.useState([]),[u,d]=R.useState({supplier:"",invoiceNumber:"",notes:"",vatRate:0}),[f,h]=R.useState({barcode:"",name:"",quantity:0,purchasePrice:0}),[m,g]=R.useState(""),[v,w]=R.useState(""),[y,_]=R.useState(""),[b,j]=R.useState(null),x=R.useMemo(()=>r&&r.length>0?r.map(P=>P.name):Array.from(new Set((e||[]).map(P=>P.supplier).filter(Boolean))),[r,e]),S=R.useMemo(()=>{let P=e||[];if(m&&(P=P.filter(C=>(C.supplier||"").toLowerCase().includes(m.toLowerCase()))),v){const C=new Date(v);C.setHours(0,0,0,0),P=P.filter(L=>{const $=L.date||L.createdAt||L.purchaseDate;return $?$.toDate?$.toDate()>=C:new Date($)>=C:!0})}if(y){const C=new Date(y);C.setHours(23,59,59,999),P=P.filter(L=>{const $=L.date||L.createdAt||L.purchaseDate;return $?$.toDate?$.toDate()<=C:new Date($)<=C:!0})}return P.sort((C,L)=>{const $=C.date||C.createdAt||C.purchaseDate,q=L.date||L.createdAt||L.purchaseDate;if(!$||!q)return 0;const U=$.toDate?$.toDate().getTime():new Date($).getTime();return(q.toDate?q.toDate().getTime():new Date(q).getTime())-U})},[e,m,v,y]),T=()=>{if(!f.barcode.trim()||!f.name.trim()||f.quantity<=0||f.purchasePrice<=0){ie.warning("Lütfen tüm alanları doldurun ve geçerli değerler girin.");return}l([...s,{...f,id:Date.now()}]),h({barcode:"",name:"",quantity:0,purchasePrice:0})},k=P=>{l(s.filter(C=>C.id!==P))},E=(P,C,L)=>{l(s.map($=>$.id===P?{...$,[C]:L}:$))},I=async()=>{if(s.length===0){ie.warning("Sepete en az bir kalem ekleyin.");return}try{const P=s.reduce((U,F)=>U+F.quantity*F.purchasePrice,0),C=P*(u.vatRate/100),L=P+C,$={supplier:u.supplier,invoiceNumber:u.invoiceNumber,notes:u.notes,vatRate:u.vatRate,items:s.map(U=>({barcode:U.barcode,name:U.name,quantity:U.quantity,purchasePrice:U.purchasePrice,total:U.quantity*U.purchasePrice})),total:P,vatAmount:C,grandTotal:L,date:_e(),createdAt:_e()},q=await uh(At(ye,i),$);for(const U of s){const F=t.find(z=>z.id===U.barcode||z.barcode===U.barcode);if(F){let z=U.purchasePrice;if(o.costMethod==="weighted"){const re=Number(F.stock||0),V=Number(F.purchasePrice||0),Y=re+U.quantity;z=(re*V+U.quantity*U.purchasePrice)/Y}const X={stock:ls(U.quantity),purchasePrice:z,lastPurchaseDate:_e(),updatedAt:_e()};if(o.autoUpdateSalePrice){const re=o.defaultMarkup||.3,V=z*(1+re);X.salePrice=V}await Dl(Ee(ye,n,F.id),X)}else{const z=o.defaultMarkup||.3,X=U.purchasePrice*(1+z);await Rr(Ee(ye,n,U.barcode),{barcode:U.barcode,name:U.name,stock:U.quantity,purchasePrice:U.purchasePrice,salePrice:X,category:"Genel",createdAt:_e(),updatedAt:_e()})}}ie.success("Satın alma başarıyla kaydedildi!"),l([]),d({supplier:"",invoiceNumber:"",notes:"",vatRate:0})}catch(P){console.error("Satın alma hatası:",P),ie.error("Satın alma sırasında bir hata oluştu: "+P.message)}},O=()=>{const P=[{label:"Tarih",value:C=>{const L=C.date||C.createdAt||C.purchaseDate;return L?L.toDate?L.toDate().toLocaleString("tr-TR"):new Date(L).toLocaleString("tr-TR"):""}},{label:"Tedarikçi",value:"supplier"},{label:"Fatura No",value:"invoiceNumber"},{label:"Toplam",value:"grandTotal"},{label:"KDV",value:"vatAmount"},{label:"Not",value:"notes"}];kh(`satinalmalar_${new Date().toISOString().slice(0,10)}.csv`,P,S)};return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-color)] mb-2",children:"Yeni Satın Alma"}),c.jsx("p",{className:"text-[var(--text-muted)]",children:"Tedarikçilerden ürün satın alma işlemlerini yönetin"})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--text-color)] mb-4",children:"Satın Alma Bilgileri"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Tedarikçi"}),c.jsx("input",{type:"text",value:u.supplier,onChange:P=>d(C=>({...C,supplier:P.target.value})),placeholder:"Tedarikçi adı",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Fatura No"}),c.jsx("input",{type:"text",value:u.invoiceNumber,onChange:P=>d(C=>({...C,invoiceNumber:P.target.value})),placeholder:"Fatura numarası",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Not"}),c.jsx("input",{type:"text",value:u.notes,onChange:P=>d(C=>({...C,notes:P.target.value})),placeholder:"Notlar",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"KDV (%)"}),c.jsx("input",{type:"number",step:"0.01",value:u.vatRate,onChange:P=>d(C=>({...C,vatRate:parseFloat(P.target.value)||0})),placeholder:"KDV Oranı",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]})]})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--text-color)] mb-4",children:"Ürün Ekle"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Barkod"}),c.jsx("input",{type:"text",value:f.barcode,onChange:P=>h(C=>({...C,barcode:P.target.value})),placeholder:"Barkod...",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Ürün Adı"}),c.jsx("input",{type:"text",value:f.name,onChange:P=>h(C=>({...C,name:P.target.value})),placeholder:"Ürün adı...",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Miktar"}),c.jsx("input",{type:"number",min:"1",value:f.quantity,onChange:P=>h(C=>({...C,quantity:parseInt(P.target.value)||0})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Alış Fiyatı (₺)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.purchasePrice,onChange:P=>h(C=>({...C,purchasePrice:parseFloat(P.target.value)||0})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:T,className:"w-full bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)] transition-colors",children:"Kalem Ekle"})})]})]}),s.length>0&&c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--text-color)] mb-4",children:"Eklenen Ürünler"}),c.jsx("div",{className:"space-y-3",children:s.map(P=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--surface-color)] rounded-lg",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"font-medium text-[var(--text-color)]",children:[P.name," ",P.barcode]})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",min:"1",value:P.quantity,onChange:C=>E(P.id,"quantity",parseInt(C.target.value)||0),className:"w-20 px-2 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:P.purchasePrice,onChange:C=>E(P.id,"purchasePrice",parseFloat(C.target.value)||0),className:"w-24 px-2 py-1 border border-[var(--border-color)] rounded bg-[var(--bg-color)] text-[var(--text-color)]"}),c.jsxs("div",{className:"text-[var(--text-color)] font-medium",children:["₺",(P.quantity*P.purchasePrice).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),c.jsx("button",{onClick:()=>k(P.id),className:"text-red-500 hover:text-red-700 p-1",children:c.jsx(Xi,{size:16})})]})]},P.id))}),c.jsx("div",{className:"mt-6 pt-6 border-t border-[var(--border-color)]",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-[var(--text-color)]",children:[c.jsxs("div",{children:["Ara Toplam: ₺",s.reduce((P,C)=>P+C.quantity*C.purchasePrice,0).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),c.jsxs("div",{children:["KDV (",u.vatRate,"%): ₺",(s.reduce((P,C)=>P+C.quantity*C.purchasePrice,0)*(u.vatRate/100)).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),c.jsxs("div",{className:"font-bold text-lg",children:["Genel Toplam: ₺",(s.reduce((P,C)=>P+C.quantity*C.purchasePrice,0)*(1+u.vatRate/100)).toLocaleString("tr-TR",{minimumFractionDigits:2})]})]}),c.jsx("div",{children:c.jsx("button",{type:"button",onClick:I,className:"bg-[var(--primary-600)] text-white font-bold py-3 px-6 rounded-lg hover:bg-[var(--primary-700)] transition-colors",children:"Satın Almayı Kaydet"})})]})})]}),c.jsxs("div",{className:"bg-[var(--bg-color)] border border-[var(--border-color)] rounded-lg p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color)]",children:"Son Satın Almalar"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("input",{list:"supplier-list",value:m,onChange:P=>g(P.target.value),placeholder:"Tedarikçiye göre filtrele",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm w-48"}),c.jsx("datalist",{id:"supplier-list",children:x.map(P=>c.jsx("option",{value:P},P))}),c.jsx("input",{type:"date",value:v,onChange:P=>w(P.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsx("input",{type:"date",value:y,onChange:P=>_(P.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm"}),c.jsx("button",{onClick:()=>{g(""),w(""),_("")},className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-[var(--text-color)] hover:bg-[var(--surface-hover-color)] text-sm",children:"Temizle"}),c.jsxs("button",{onClick:O,className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-[var(--text-color)] hover:bg-[var(--surface-hover-color)] flex items-center gap-1 text-sm",children:[c.jsx(tu,{size:16})," CSV İndir"]})]})]}),c.jsx("div",{className:"max-h-[55vh] overflow-y-auto space-y-2",children:S.length===0?c.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[c.jsx(bh,{size:40,className:"mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"Henüz satın alma kaydı yok."})]}):S.map(P=>c.jsx("button",{onClick:()=>j(P),className:"w-full text-left p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)] hover:bg-[var(--surface-hover-color)] transition-colors",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:P.items&&P.items.length>0?`${P.items.length} ürün`:"Satın Alma"}),c.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:(()=>{const C=P.date||P.createdAt||P.purchaseDate;return C?C.toDate?C.toDate().toLocaleString("tr-TR"):new Date(C).toLocaleString("tr-TR"):""})()}),c.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.supplier?`Tedarikçi: ${P.supplier}`:"",P.invoiceNumber?` • Fatura: ${P.invoiceNumber}`:""]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-bold text-[var(--text-color)]",children:["₺",P.grandTotal?P.grandTotal.toLocaleString("tr-TR",{minimumFractionDigits:2}):"0.00"]})})]})},P.id))})]}),b&&c.jsx(XTe,{purchase:b,onClose:()=>j(null),productsPath:n,purchasesPath:i})]})},XTe=({purchase:t,onClose:e,productsPath:r,purchasesPath:n})=>{const[i,a]=R.useState(!1),o=async()=>{if(!i){a(!0);try{const s=cs(ye),l=Ee(ye,n,t.id),u=Ee(ye,r,t.barcode);t.quantity&&t.quantity>0&&s.update(u,{stock:ls(-t.quantity)}),s.delete(l),await ie.promise(s.commit(),{loading:"Satın alma siliniyor...",success:"Satın alma kaydı silindi ve stok geri alındı.",error:"Silme sırasında bir hata oluştu."}),e()}catch{a(!1)}}};return c.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:e,children:c.jsxs("div",{className:"bg-[var(--bg-color)] p-6 rounded-xl shadow-2xl w-full max-w-md border border-[var(--border-color)]",onClick:s=>s.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-xl font-semibold text-[var(--text-color)]",children:"Satın Alma Detayı"}),c.jsx("button",{onClick:e,className:"p-2 rounded-md hover:bg-[var(--surface-hover-color)]",children:c.jsx(pa,{size:18})})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Tarih"}),c.jsx("span",{className:"font-medium",children:t.purchaseDate&&t.purchaseDate.toDate?t.purchaseDate.toDate().toLocaleString("tr-TR"):""})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Ürün"}),c.jsx("span",{className:"font-medium",children:t.productName})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Barkod"}),c.jsx("span",{className:"font-medium",children:t.barcode})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Tedarikçi"}),c.jsx("span",{className:"font-medium",children:t.supplier||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Fatura No"}),c.jsx("span",{className:"font-medium",children:t.invoiceNumber||"-"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Miktar"}),c.jsx("span",{className:"font-medium",children:t.quantity})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Alış Fiyatı"}),c.jsx("span",{className:"font-medium",children:he(t.purchasePrice)})]}),Array.isArray(t.items)?c.jsxs("div",{className:"mt-2 border-t border-[var(--border-color)] pt-2 space-y-1",children:[t.items.map((s,l)=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("span",{className:"text-[var(--text-muted-color)]",children:[s.barcode," • ",s.name," (",s.quantity," x ",he(s.purchasePrice),")"]}),c.jsx("span",{className:"font-medium",children:he(s.lineTotal||s.quantity*s.purchasePrice)})]},l)),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Ara Toplam"}),c.jsx("span",{className:"font-medium",children:he(t.subTotal||0)})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("span",{className:"text-[var(--text-muted-color)]",children:["KDV (",t.vatRate||0,"%)"]}),c.jsx("span",{className:"font-medium",children:he(t.vatAmount||0)})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Toplam"}),c.jsx("span",{className:"font-bold",children:he(t.totalCost||0)})]})]}):c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted-color)]",children:"Toplam Tutar"}),c.jsx("span",{className:"font-bold",children:he(t.totalCost)})]}),t.notes&&c.jsxs("div",{className:"pt-2 text-[var(--text-muted-color)]",children:[c.jsx("span",{className:"text-xs",children:"Not: "}),c.jsx("span",{className:"text-[var(--text-color)]",children:t.notes})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsxs("button",{onClick:()=>bTe(t),className:"px-4 py-2 bg-[var(--surface-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--surface-hover-color)] border border-[var(--border-color)] flex items-center gap-2",children:[c.jsx(tu,{size:16})," Yazdır/İndir"]}),c.jsx("button",{onClick:e,className:"px-4 py-2 bg-[var(--surface-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--surface-hover-color)] border border-[var(--border-color)]",children:"Kapat"}),c.jsx("button",{onClick:()=>ie("Kaydı silmek istediğinize emin misiniz?",{action:{label:"Evet, sil",onClick:o},cancel:{label:"Vazgeç"}}),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",disabled:i,children:"Sil"})]})]})})},QTe=({suppliers:t,suppliersPath:e,purchases:r})=>{const[n,i]=R.useState({name:"",contact:"",phone:"",email:"",address:""}),[a,o]=R.useState(""),s=R.useMemo(()=>(t||[]).filter(f=>(f.name||"").toLowerCase().includes(a.toLowerCase())),[t,a]),l=async f=>{f.preventDefault();const h=(n.name||"").trim();if(!h){ie.warning("Tedarikçi adı zorunludur.");return}const m=Ee(ye,e,h),g={...n,name:h,updatedAt:_e()};await ie.promise(Rr(m,g,{merge:!0}),{loading:"Kaydediliyor...",success:"Tedarikçi kaydedildi.",error:"Kayıt sırasında hata oluştu."}),i({name:"",contact:"",phone:"",email:"",address:""})},u=async f=>{const h=Ee(ye,e,f);await ie.promise(ch(h),{loading:"Siliniyor...",success:"Tedarikçi silindi.",error:"Silme sırasında hata."})},d=()=>{const f=[{label:"Ad",value:"name"},{label:"İrtibat",value:h=>h.contact||""},{label:"Telefon",value:h=>h.phone||""},{label:"E-posta",value:h=>h.email||""},{label:"Adres",value:h=>h.address||""}];kh(`tedarikciler_${new Date().toISOString().slice(0,10)}.csv`,f,t||[])};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsxs("h3",{className:"font-semibold mb-3 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(Kg,{size:18})," Tedarikçi"]}),c.jsxs("form",{onSubmit:l,className:"grid grid-cols-1 md:grid-cols-6 gap-3 items-end",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Ad"}),c.jsx("input",{value:n.name,onChange:f=>i(h=>({...h,name:f.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"İrtibat"}),c.jsx("input",{value:n.contact,onChange:f=>i(h=>({...h,contact:f.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Telefon"}),c.jsx("input",{value:n.phone,onChange:f=>i(h=>({...h,phone:f.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"E-posta"}),c.jsx("input",{type:"email",value:n.email,onChange:f=>i(h=>({...h,email:f.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs text-[var(--text-muted-color)] mb-1",children:"Adres"}),c.jsx("input",{value:n.address,onChange:f=>i(h=>({...h,address:f.target.value})),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)]"})]}),c.jsxs("div",{className:"md:col-span-6 flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>i({name:"",contact:"",phone:"",email:"",address:""}),className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-sm",children:"Temizle"}),c.jsx("button",{type:"submit",className:"bg-[var(--primary-600)] text-white font-bold py-2 px-4 rounded-lg hover:bg-[var(--primary-700)]",children:"Kaydet"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("input",{value:a,onChange:f=>o(f.target.value),placeholder:"Ara: tedarikçi adı",className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] text-sm w-60"}),c.jsxs("button",{onClick:d,className:"px-3 py-2 bg-[var(--surface-color)] border border-[var(--border-color)] rounded-lg text-[var(--text-color)] hover:bg-[var(--surface-hover-color)] flex items-center gap-1 text-sm",children:[c.jsx(tu,{size:16})," CSV İndir"]})]}),c.jsx("div",{className:"max-h-[55vh] overflow-y-auto pr-2 space-y-2 pb-4",children:s.length===0?c.jsx(yr,{icon:c.jsx(Kg,{size:40}),message:"Tedarikçi bulunamadı."}):s.map(f=>c.jsx("div",{className:"p-3 rounded-lg bg-[var(--surface-color)] border border-[var(--border-color)]",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-[var(--text-color)]",children:f.name}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]",children:[f.contact||""," ",f.phone?`• ${f.phone}`:""," ",f.email?`• ${f.email}`:""]}),f.address&&c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:f.address})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{onClick:()=>ie(`'${f.name}' silinsin mi?`,{action:{label:"Evet, sil",onClick:()=>u(f.name)},cancel:{label:"İptal"}}),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-md",children:c.jsx(Xi,{size:14})})})]})},f.id||f.name))})]})},JTe=({title:t,current:e,previous:r})=>{const n=r>0?(e-r)/r*100:e>0?100:0,i=n>=0;return c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] font-medium",children:t}),c.jsxs("div",{className:"flex items-end justify-between mt-2",children:[c.jsx("p",{className:"text-2xl font-bold text-[var(--text-color)]",children:he(e)}),c.jsxs("div",{className:`flex items-center text-sm font-semibold ${i?"text-green-600":"text-red-600"}`,children:[i?c.jsx(g3,{size:16}):c.jsx(m3,{size:16}),c.jsxs("span",{children:[n.toFixed(1),"%"]})]})]}),c.jsxs("p",{className:"text-xs text-[var(--text-muted-color)]/70 mt-1",children:["Önceki dönem: ",he(r)]})]})},Np=({title:t,icon:e,children:r})=>c.jsxs("div",{className:"bg-[var(--surface-color)] p-4 rounded-lg flex flex-col border border-[var(--border-color)] h-[300px]",children:[c.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-[var(--text-color)]",children:[c.jsx(e,{size:18})," ",t]}),c.jsx("div",{className:"flex-grow",children:r})]}),ZTe=({products:t,sales:e,purchases:r,suppliers:n,customers:i,categories:a,expenses:o,payments:s,customerPoints:l})=>{const[u,d]=R.useState("export"),[f,h]=R.useState(!1),[m,g]=R.useState(!1),[v,w]=R.useState(null),[y,_]=R.useState(null),b=async(k="json")=>{h(!0);try{const E={products:t,sales:e,purchases:r,suppliers:n,customers:i,categories:a,expenses:o,payments:s,customerPoints:l,exportDate:new Date().toISOString(),version:"1.0"};if(k==="json"){const I=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),O=URL.createObjectURL(I),P=document.createElement("a");P.href=O,P.download=`stok-takip-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(O)}else if(k==="csv"){const I=hk(["ID","Barkod","Ad","Kategori","Stok","Alış Fiyatı","Satış Fiyatı","KDV","Açıklama"],t.map(L=>[L.id,L.barcode||"",L.name||"",L.category||"",L.stock||0,L.purchasePrice||0,L.salePrice||0,L.vatRate||0,L.description||""])),O=new Blob([I],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(O),C=document.createElement("a");C.href=P,C.download=`urunler-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(P)}ie.success(`${k.toUpperCase()} formatında yedekleme tamamlandı`)}catch(E){console.error("Export error:",E),ie.error("Yedekleme sırasında hata oluştu")}finally{h(!1)}},j=k=>{const E=k.target.files[0];if(E)if(w(E),E.type==="application/json"){const I=new FileReader;I.onload=O=>{try{const P=JSON.parse(O.target.result);_(P)}catch{ie.error("Geçersiz JSON dosyası"),_(null)}},I.readAsText(E)}else ie.error("Sadece JSON dosyaları destekleniyor"),w(null)},x=async()=>{if(!(!v||!y)){g(!0);try{const k=cs(ye);let E=0,I=0;if(y.products&&Array.isArray(y.products))for(const O of y.products)try{const P=Ee(At(ye,"products")),C={...O,id:P.id,createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Product import error:",P),I++}if(y.categories&&Array.isArray(y.categories))for(const O of y.categories)try{const P=Ee(At(ye,"categories")),C={...O,id:P.id,createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Category import error:",P),I++}if(y.suppliers&&Array.isArray(y.suppliers))for(const O of y.suppliers)try{const P=Ee(At(ye,"suppliers")),C={...O,id:P.id,createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Supplier import error:",P),I++}if(y.customers&&Array.isArray(y.customers))for(const O of y.customers)try{const P=Ee(At(ye,"customers")),C={...O,id:P.id,createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Customer import error:",P),I++}if(y.sales&&Array.isArray(y.sales))for(const O of y.sales)try{const P=Ee(At(ye,"sales")),C={...O,id:P.id,saleDate:O.saleDate?new Date(O.saleDate):_e(),createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Sale import error:",P),I++}if(y.purchases&&Array.isArray(y.purchases))for(const O of y.purchases)try{const P=Ee(At(ye,"purchases")),C={...O,id:P.id,purchaseDate:O.purchaseDate?new Date(O.purchaseDate):_e(),createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Purchase import error:",P),I++}if(y.expenses&&Array.isArray(y.expenses))for(const O of y.expenses)try{const P=Ee(At(ye,"expenses")),C={...O,id:P.id,date:O.date?new Date(O.date):_e(),createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Expense import error:",P),I++}if(y.payments&&Array.isArray(y.payments))for(const O of y.payments)try{const P=Ee(At(ye,"payments")),C={...O,id:P.id,date:O.date?new Date(O.date):_e(),createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Payment import error:",P),I++}if(y.customerPoints&&Array.isArray(y.customerPoints))for(const O of y.customerPoints)try{const P=Ee(At(ye,"customer_points")),C={...O,id:P.id,createdAt:_e(),updatedAt:_e()};k.set(P,C),E++}catch(P){console.error("Customer point import error:",P),I++}await k.commit(),I>0?ie.warning(`${E} kayıt başarıyla içe aktarıldı, ${I} kayıt hatası`):ie.success(`${E} kayıt başarıyla içe aktarıldı`),w(null),_(null)}catch(k){console.error("Import error:",k),ie.error("İçe aktarma sırasında hata oluştu: "+k.message)}finally{g(!1)}}},T={products:t.length,sales:e.length,purchases:r.length,suppliers:n.length,customers:i.length,categories:a.length,expenses:o.length,payments:s.length,customerPoints:l.length};return c.jsxs("div",{className:"p-4 bg-[var(--bg-color)] rounded-lg shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(wbe,{className:"w-6 h-6 text-[var(--primary-600)]"}),"Yedekleme ve Geri Yükleme"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>d("export"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="export"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Dışa Aktar"}),c.jsx("button",{onClick:()=>d("import"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="import"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"İçe Aktar"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.products}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Ürünler"})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.sales}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Satışlar"})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.purchases}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Alışlar"})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.customers}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Müşteriler"})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.suppliers}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Tedarikçiler"})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-lg font-bold text-[var(--text-color)]",children:T.categories}),c.jsx("div",{className:"text-xs text-[var(--text-muted-color)]",children:"Kategoriler"})]})]}),u==="export"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(tu,{className:"w-5 h-5"}),"Veri Dışa Aktarma"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-[var(--text-muted-color)]",children:"Tüm verilerinizi güvenli bir şekilde dışa aktarabilirsiniz. JSON formatı tüm verileri içerir, CSV formatı sadece ürünleri içerir."}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>b("json"),disabled:f,className:"px-6 py-3 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx(vbe,{className:"w-4 h-4"}),f?"Dışa Aktarılıyor...":"JSON Olarak Dışa Aktar"]}),c.jsxs("button",{onClick:()=>b("csv"),disabled:f,className:"px-6 py-3 bg-[var(--info-color)] text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx(bh,{className:"w-4 h-4"}),f?"Dışa Aktarılıyor...":"CSV Olarak Dışa Aktar"]})]})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(Ug,{className:"w-5 h-5"}),"Önemli Notlar"]}),c.jsxs("div",{className:"space-y-2 text-sm text-[var(--text-muted-color)]",children:[c.jsx("p",{children:"• JSON formatı tüm verileri (ürünler, satışlar, müşteriler vb.) içerir"}),c.jsx("p",{children:"• CSV formatı sadece ürün listesini içerir"}),c.jsx("p",{children:"• Yedekleme dosyalarını güvenli bir yerde saklayın"}),c.jsx("p",{children:"• Düzenli yedekleme yapmanız önerilir"})]})]})]}),u==="import"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(f1,{className:"w-5 h-5"}),"Veri İçe Aktarma"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-[var(--text-muted-color)]",children:"Daha önce dışa aktardığınız JSON dosyalarını içe aktarabilirsiniz."}),c.jsxs("div",{className:"border-2 border-dashed border-[var(--border-color)] rounded-lg p-6 text-center",children:[c.jsx("input",{type:"file",accept:".json",onChange:j,className:"hidden",id:"import-file"}),c.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[c.jsx(f1,{className:"w-8 h-8 text-[var(--text-muted-color)]"}),c.jsx("span",{className:"text-[var(--text-color)]",children:"JSON dosyası seçin"}),c.jsx("span",{className:"text-sm text-[var(--text-muted-color)]",children:"Sadece JSON formatı destekleniyor"})]})]}),y&&c.jsxs("div",{className:"bg-[var(--bg-color)] p-4 rounded-lg border border-[var(--border-color)]",children:[c.jsx("h4",{className:"font-medium text-[var(--text-color)] mb-2",children:"Önizleme:"}),c.jsxs("div",{className:"text-sm text-[var(--text-muted-color)] space-y-1",children:[c.jsxs("p",{children:["Dosya Adı: ",v.name]}),c.jsxs("p",{children:["Dosya Boyutu: ",(v.size/1024).toFixed(2)," KB"]}),c.jsxs("p",{children:["İçerik: ",Object.keys(y).join(", ")]}),c.jsxs("p",{children:["Dışa Aktarma Tarihi: ",y.exportDate?new Date(y.exportDate).toLocaleString("tr-TR"):"Bilinmiyor"]})]}),c.jsxs("button",{onClick:x,disabled:m,className:"mt-3 px-4 py-2 bg-[var(--success-color)] text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx(mbe,{className:"w-4 h-4"}),m?"İçe Aktarılıyor...":"Verileri İçe Aktar"]})]})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(Ug,{className:"w-5 h-5"}),"Uyarılar"]}),c.jsxs("div",{className:"space-y-2 text-sm text-[var(--text-muted-color)]",children:[c.jsx("p",{children:"• İçe aktarma işlemi mevcut verileri etkileyebilir"}),c.jsx("p",{children:"• İşlem öncesi yedekleme yapmanız önerilir"}),c.jsx("p",{children:"• Sadece bu sistemden dışa aktarılan dosyalar desteklenir"}),c.jsx("p",{children:"• İçe aktarma özelliği yakında aktif olacak"})]})]})]})]})},eke=({settings:t,setSettings:e,settingsPath:r})=>{const[n,i]=R.useState("general"),[a,o]=R.useState(t),[s,l]=R.useState(!1),{applyTheme:u}=Ah();R.useEffect(()=>{o(t)},[t]),R.useEffect(()=>{a.theme&&a.palette&&u(a.theme,a.palette)},[a.theme,a.palette,u]);const d=async()=>{l(!0);try{const m=a.enabledSections||{};if(!Object.values(m).some(v=>v)){ie.error("En az bir sidebar bölümü aktif olmalıdır"),l(!1);return}a.enabledFeatures&&(a.enabledFeatures.settings=!0),await Rr(Ee(ye,r,"appSettings"),{...a,updatedAt:_e()},{merge:!0}),e(a),localStorage.setItem("theme",a.theme||"light"),localStorage.setItem("palette",a.palette||"teal"),ie.success("Ayarlar kaydedildi")}catch(m){console.error("Error saving settings:",m),ie.error("Ayarlar kaydedilemedi")}finally{l(!1)}},f=()=>{o(t),t.theme&&t.palette&&u(t.theme,t.palette),ie.info("Ayarlar sıfırlandı")},h={teal:{name:"Teal",primary:"#0ea5a5",secondary:"#14b8a6"},blue:{name:"Blue",primary:"#3b82f6",secondary:"#2563eb"},purple:{name:"Purple",primary:"#8b5cf6",secondary:"#7c3aed"},green:{name:"Green",primary:"#10b981",secondary:"#059669"},orange:{name:"Orange",primary:"#f97316",secondary:"#ea580c"},red:{name:"Red",primary:"#ef4444",secondary:"#dc2626"},pink:{name:"Pink",primary:"#ec4899",secondary:"#db2777"},indigo:{name:"Indigo",primary:"#6366f1",secondary:"#4f46e5"}};return c.jsxs("div",{className:"p-4 bg-[var(--bg-color)] rounded-lg shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(yd,{className:"w-6 h-6 text-[var(--primary-600)]"}),"Ayarlar"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:f,className:"px-4 py-2 bg-[var(--surface-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--surface-hover-color)] transition-colors flex items-center gap-2",children:[c.jsx(E3,{className:"w-4 h-4"}),"Sıfırla"]}),c.jsxs("button",{onClick:d,disabled:s,className:"px-4 py-2 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] transition-colors flex items-center gap-2 disabled:opacity-50",children:[c.jsx(j3,{className:"w-4 h-4"}),s?"Kaydediliyor...":"Kaydet"]})]})]}),c.jsxs("div",{className:"flex gap-2 mb-6",children:[c.jsx("button",{onClick:()=>i("general"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="general"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Genel"}),c.jsx("button",{onClick:()=>i("company"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="company"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Şirket Bilgileri"}),c.jsx("button",{onClick:()=>i("appearance"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="appearance"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Görünüm"}),c.jsx("button",{onClick:()=>i("business"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="business"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"İş Ayarları"}),c.jsx("button",{onClick:()=>i("sidebar"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="sidebar"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Sidebar Düzenleme"}),c.jsx("button",{onClick:()=>i("notifications"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="notifications"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:"Bildirimler"})]}),n==="general"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(yd,{className:"w-5 h-5"}),"Genel Ayarlar"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Kritik Stok Seviyesi"}),c.jsx("input",{type:"number",value:a.criticalStockLevel||5,onChange:m=>o({...a,criticalStockLevel:parseInt(m.target.value)||0}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",min:"0"}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)] mt-1",children:"Bu seviyenin altındaki ürünler kritik stok olarak işaretlenir"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Maliyet Hesaplama Yöntemi"}),c.jsxs("select",{value:a.costMethod||"last",onChange:m=>o({...a,costMethod:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",children:[c.jsx("option",{value:"last",children:"Son Alış Fiyatı"}),c.jsx("option",{value:"average",children:"Ortalama Alış Fiyatı"}),c.jsx("option",{value:"fifo",children:"FIFO (İlk Giren İlk Çıkar)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Varsayılan Kar Marjı (%)"}),c.jsx("input",{type:"number",value:a.defaultMarkupPercent||0,onChange:m=>o({...a,defaultMarkupPercent:parseFloat(m.target.value)||0}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",min:"0",step:"0.1"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"autoUpdateSalePrice",checked:a.autoUpdateSalePrice||!1,onChange:m=>o({...a,autoUpdateSalePrice:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"autoUpdateSalePrice",className:"text-sm text-[var(--text-color)]",children:"Alış fiyatı değiştiğinde satış fiyatını otomatik güncelle"})]})]})]})}),n==="company"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(fbe,{className:"w-5 h-5"}),"Şirket Bilgileri"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Şirket Adı"}),c.jsx("input",{type:"text",value:a.companyName||"",onChange:m=>o({...a,companyName:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"İşletmem"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Logo URL"}),c.jsx("input",{type:"url",value:a.companyLogoUrl||"",onChange:m=>o({...a,companyLogoUrl:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Adres"}),c.jsx("textarea",{value:a.companyAddress||"",onChange:m=>o({...a,companyAddress:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",rows:"3",placeholder:"Şirket adresi"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Vergi Numarası"}),c.jsx("input",{type:"text",value:a.companyTaxNumber||"",onChange:m=>o({...a,companyTaxNumber:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"1234567890"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Telefon"}),c.jsx("input",{type:"tel",value:a.companyPhone||"",onChange:m=>o({...a,companyPhone:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"+90 555 123 45 67"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"E-posta"}),c.jsx("input",{type:"email",value:a.companyEmail||"",onChange:m=>o({...a,companyEmail:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"info@sirket.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Website"}),c.jsx("input",{type:"url",value:a.companyWebsite||"",onChange:m=>o({...a,companyWebsite:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"https://www.sirket.com"})]})]})]})]})}),n==="appearance"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(jbe,{className:"w-5 h-5"}),"Görünüm Ayarları"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-3",children:"Tema"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o({...a,theme:"light"}),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${a.theme==="light"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:[c.jsx(C3,{className:"w-4 h-4"}),"Açık Tema"]}),c.jsxs("button",{onClick:()=>o({...a,theme:"dark"}),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${a.theme==="dark"?"bg-[var(--primary-600)] text-white":"bg-[var(--surface-color)] text-[var(--text-color)] hover:bg-[var(--surface-hover-color)]"}`,children:[c.jsx(b3,{className:"w-4 h-4"}),"Koyu Tema"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-3",children:"Renk Paleti"}),c.jsx("div",{className:"grid grid-cols-4 gap-3",children:Object.entries(h).map(([m,g])=>c.jsx("button",{onClick:()=>o({...a,palette:m}),className:`p-3 rounded-lg border-2 transition-all ${a.palette===m?"border-[var(--primary-600)]":"border-[var(--border-color)] hover:border-[var(--primary-300)]"}`,children:c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:g.primary}}),c.jsx("span",{className:"text-sm font-medium text-[var(--text-color)]",children:g.name})]})},m))})]})]})]})}),n==="business"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(xh,{className:"w-5 h-5"}),"İş Ayarları"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Varsayılan KDV Oranı (%)"}),c.jsx("input",{type:"number",value:a.defaultVatRate||18,onChange:m=>o({...a,defaultVatRate:parseFloat(m.target.value)||0}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",min:"0",max:"100",step:"0.1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Para Birimi"}),c.jsxs("select",{value:a.currency||"TRY",onChange:m=>o({...a,currency:m.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",children:[c.jsx("option",{value:"TRY",children:"Türk Lirası (₺)"}),c.jsx("option",{value:"USD",children:"Amerikan Doları ($)"}),c.jsx("option",{value:"EUR",children:"Euro (€)"}),c.jsx("option",{value:"GBP",children:"İngiliz Sterlini (£)"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"enableBarcodeScanner",checked:a.enableBarcodeScanner!==!1,onChange:m=>o({...a,enableBarcodeScanner:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"enableBarcodeScanner",className:"text-sm text-[var(--text-color)]",children:"Barkod tarayıcısını etkinleştir"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"enableReceiptPrinting",checked:a.enableReceiptPrinting||!1,onChange:m=>o({...a,enableReceiptPrinting:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"enableReceiptPrinting",className:"text-sm text-[var(--text-color)]",children:"Fiş yazdırmayı etkinleştir"})]})]})]})}),n==="sidebar"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(yd,{className:"w-5 h-5"}),"Bölüm Yönetimi"]}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] mb-6",children:"Sidebar'da görünmesini istediğiniz bölümleri seçin ve sıralayın."}),c.jsx("div",{className:"space-y-4",children:(a.sidebarOrder||["main","inventory","purchasing","finance","customers","reports","tools"]).map((m,g)=>{var w;const v={main:{title:"Ana İşlemler",description:"Satış, Dashboard, Hızlı Satış",color:"text-blue-600"},inventory:{title:"Stok Yönetimi",description:"Stok, Sayım, Kritik Stok, Kategoriler",color:"text-green-600"},purchasing:{title:"Satın Alma",description:"Satın Alma, Tedarikçiler, Siparişler",color:"text-purple-600"},finance:{title:"Finans",description:"Kasa, Giderler, Veresiye, Ödemeler",color:"text-yellow-600"},customers:{title:"Müşteriler",description:"Müşteri yönetimi",color:"text-pink-600"},reports:{title:"Raporlar",description:"İstatistikler, Geçmiş, Raporlar, Analitik",color:"text-indigo-600"},tools:{title:"Araçlar",description:"İndirimler, Ayarlar, Yedekleme, Notlar",color:"text-gray-600"}}[m];return v?c.jsxs("div",{className:"flex items-center gap-3 p-4 border border-[var(--border-color)] rounded-lg",children:[c.jsx("div",{className:"flex items-center gap-2 text-gray-400 cursor-move",children:c.jsx(bbe,{size:16})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("h4",{className:`font-medium ${v.color}`,children:v.title})}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)]",children:v.description})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:((w=a.enabledSections)==null?void 0:w[m])||!1,disabled:m==="tools",onChange:y=>{o(_=>({..._,enabledSections:{..._.enabledSections,[m]:y.target.checked}}))},className:"sr-only peer"}),c.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[var(--primary-200)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--primary-600)] ${m==="tools"?"opacity-50 cursor-not-allowed":""}`})]})]},m):null})})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(vn,{className:"w-5 h-5"}),"Özellik Yönetimi"]}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] mb-6",children:"Her bölümdeki alt özellikleri ayrı ayrı açıp kapatabilirsiniz."}),c.jsx("div",{className:"space-y-6",children:[{section:"main",title:"Ana İşlemler",color:"text-blue-600",features:[{id:"salesScreen",name:"Satış Ekranı",description:"Hızlı satış ve sepet yönetimi"},{id:"quickSale",name:"Hızlı Satış",description:"Tek tıkla anında satış"},{id:"dashboard",name:"Dashboard",description:"Genel işletme durumu"}]},{section:"inventory",title:"Stok Yönetimi",color:"text-green-600",features:[{id:"stock",name:"Stok Yönetimi",description:"Ürün ekleme, düzenleme ve takip"},{id:"stockCount",name:"Stok Sayımı",description:"Fiziksel stok kontrolü"},{id:"lowStock",name:"Kritik Stok",description:"Düşük stok uyarıları"},{id:"categories",name:"Kategoriler",description:"Ürün kategorileri yönetimi"}]},{section:"purchasing",title:"Satın Alma",color:"text-purple-600",features:[{id:"purchases",name:"Satın Alma",description:"Tedarikçilerden ürün alımı"},{id:"suppliers",name:"Tedarikçiler",description:"Tedarikçi bilgileri ve iletişim"},{id:"purchaseOrders",name:"Siparişler",description:"Açık ve geçmiş siparişler"}]},{section:"finance",title:"Finans",color:"text-yellow-600",features:[{id:"cashDrawer",name:"Kasa Yönetimi",description:"Günlük kasa işlemleri"},{id:"expenses",name:"Giderler",description:"İşletme giderleri takibi"},{id:"credit",name:"Veresiye",description:"Müşteri borçları"},{id:"payments",name:"Ödemeler",description:"Ödeme yöntemleri ve geçmişi"}]},{section:"customers",title:"Müşteriler",color:"text-pink-600",features:[{id:"customers",name:"Müşteriler",description:"Müşteri bilgileri ve geçmişi"}]},{section:"reports",title:"Raporlar",color:"text-indigo-600",features:[{id:"statistics",name:"İstatistikler",description:"Detaylı satış analizleri"},{id:"history",name:"İşlem Geçmişi",description:"Tüm işlem kayıtları"},{id:"reports",name:"Raporlar",description:"Kâr/zarar ve performans raporları"},{id:"analytics",name:"Analitik",description:"Gelişmiş veri analizi"}]},{section:"tools",title:"Araçlar",color:"text-gray-600",features:[{id:"discounts",name:"İndirimler",description:"Ürün ve kategori indirimleri"},{id:"settings",name:"Ayarlar",description:"Sistem ayarları ve yapılandırma"},{id:"backup",name:"Yedekleme",description:"Veri yedekleme ve geri yükleme"},{id:"notes",name:"Notlar",description:"Kişisel notlar ve hatırlatıcılar"}]}].map(m=>c.jsxs("div",{className:"border border-[var(--border-color)] rounded-lg p-4",children:[c.jsx("h4",{className:`font-medium mb-3 ${m.color}`,children:m.title}),c.jsx("div",{className:"space-y-2",children:m.features.map(g=>{var v;return c.jsxs("div",{className:"flex items-center justify-between p-2 rounded",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-medium",children:g.name})}),c.jsx("p",{className:"text-xs text-[var(--text-muted-color)]",children:g.description})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:((v=a.enabledFeatures)==null?void 0:v[g.id])!==!1,disabled:g.id==="settings",onChange:w=>{o(y=>({...y,enabledFeatures:{...y.enabledFeatures,[g.id]:w.target.checked}}))},className:"sr-only peer"}),c.jsx("div",{className:`w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[var(--primary-200)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-[var(--primary-600)] ${g.id==="settings"?"opacity-50 cursor-not-allowed":""}`})]})]},g.id)})})]},m.section))})]}),c.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ug,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Önemli Notlar"}),c.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[c.jsx("li",{children:"• Ayarlar bölümü asla kapatılamaz"}),c.jsx("li",{children:"• En az bir bölüm aktif olmalıdır"}),c.jsx("li",{children:"• Değişiklikler kaydedildikten sonra sidebar otomatik güncellenir"})]})]})]})})]}),n==="notifications"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(c1,{className:"w-5 h-5"}),"Bildirim Ayarları"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"lowStockNotifications",checked:a.lowStockNotifications!==!1,onChange:m=>o({...a,lowStockNotifications:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"lowStockNotifications",className:"text-sm text-[var(--text-color)]",children:"Düşük stok bildirimleri"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"expiredProductNotifications",checked:a.expiredProductNotifications||!1,onChange:m=>o({...a,expiredProductNotifications:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"expiredProductNotifications",className:"text-sm text-[var(--text-color)]",children:"Süresi dolan ürün bildirimleri"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"dailySalesReport",checked:a.dailySalesReport||!1,onChange:m=>o({...a,dailySalesReport:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"dailySalesReport",className:"text-sm text-[var(--text-color)]",children:"Günlük satış raporu"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",id:"backupReminders",checked:a.backupReminders||!1,onChange:m=>o({...a,backupReminders:m.target.checked}),className:"w-4 h-4 text-[var(--primary-600)] bg-[var(--bg-color)] border-[var(--border-color)] rounded focus:ring-[var(--primary-600)]"}),c.jsx("label",{htmlFor:"backupReminders",className:"text-sm text-[var(--text-color)]",children:"Yedekleme hatırlatmaları"})]})]})]})})]})},pF=R.createContext(),tke=({children:t})=>{const[e,r]=R.useState([]),[n,i]=R.useState(!1),[a,o]=R.useState("default"),s=R.useCallback(async()=>{if(!("Notification"in window))return ie.error("Bu tarayıcı bildirimleri desteklemiyor"),!1;try{const h=await Notification.requestPermission();return o(h),h==="granted"?(i(!0),ie.success("Bildirimler etkinleştirildi"),!0):(ie.warning("Bildirim izni reddedildi"),!1)}catch(h){return console.error("Notification permission error:",h),ie.error("Bildirim izni alınamadı"),!1}},[]),l=R.useCallback((h,m={})=>{if(!n||a!=="granted"){ie.info(h);return}try{const g=new Notification(h,{icon:"/favicon.ico",badge:"/favicon.ico",...m});setTimeout(()=>{g.close()},5e3),r(v=>[...v,{id:Date.now(),title:h,options:m,timestamp:new Date,read:!1}])}catch(g){console.error("Notification send error:",g),ie.error("Bildirim gönderilemedi")}},[n,a]),u=R.useCallback(h=>{r(m=>m.map(g=>g.id===h?{...g,read:!0}:g))},[]),d=R.useCallback(()=>{r([])},[]);R.useEffect(()=>{},[]);const f={notifications:e,isEnabled:n,permission:a,requestPermission:s,sendNotification:l,markAsRead:u,clearAll:d};return c.jsx(pF.Provider,{value:f,children:t})},mF=()=>{const t=R.useContext(pF);if(!t)throw new Error("useNotifications must be used within NotificationProvider");return t},gF=R.createContext(),m0={tr:{"app.title":"Stok Takip Uygulaması","app.company":"İşletme Paneli","app.loading":"Yükleniyor...","app.error":"Hata","app.success":"Başarılı","app.warning":"Uyarı","app.info":"Bilgi","app.save":"Kaydet","app.cancel":"İptal","app.delete":"Sil","app.edit":"Düzenle","app.add":"Ekle","app.search":"Ara","app.filter":"Filtrele","app.clear":"Temizle","app.close":"Kapat","app.back":"Geri","app.next":"İleri","app.previous":"Önceki","app.confirm":"Onayla","app.yes":"Evet","app.no":"Hayır","nav.dashboard":"Gösterge Paneli","nav.sales":"Satış Ekranı","nav.quickSale":"Hızlı Satış","nav.inventory":"Stok Yönetimi","nav.stockCount":"Stok Sayımı","nav.lowStock":"Kritik Stok","nav.categories":"Kategoriler","nav.purchases":"Satın Alma","nav.suppliers":"Tedarikçiler","nav.purchaseOrders":"Siparişler","nav.cashDrawer":"Kasa Yönetimi","nav.expenses":"Giderler","nav.credit":"Veresiye","nav.payments":"Ödemeler","nav.customers":"Müşteriler","nav.loyalty":"Sadakat Programı","nav.reports":"Raporlar","nav.analytics":"Analitik","nav.settings":"Ayarlar","nav.backup":"Yedekleme","nav.users":"Kullanıcılar","nav.history":"İşlem Geçmişi","role.admin":"Yönetici","role.manager":"Müdür","role.cashier":"Kasiyer","role.user":"Kullanıcı","notification.enabled":"Bildirimler etkinleştirildi","notification.disabled":"Bildirimler devre dışı","notification.permission.denied":"Bildirim izni reddedildi","notification.permission.error":"Bildirim izni alınamadı","notification.sale.completed":"Satış Tamamlandı","notification.stock.low":"Düşük Stok Uyarısı","sales.title":"Satış Ekranı","sales.cart":"Sepet","sales.total":"Toplam","sales.payment":"Ödeme","sales.cash":"Nakit","sales.card":"Kart","sales.credit":"Veresiye","sales.personnel":"Personel","sales.completed":"Satış tamamlandı","sales.cancelled":"Satış iptal edildi","stock.title":"Stok Yönetimi","stock.add":"Ürün Ekle","stock.edit":"Ürün Düzenle","stock.name":"Ürün Adı","stock.barcode":"Barkod","stock.category":"Kategori","stock.quantity":"Miktar","stock.price":"Fiyat","stock.purchasePrice":"Alış Fiyatı","stock.salePrice":"Satış Fiyatı","stock.vat":"KDV","stock.description":"Açıklama","stock.low":"Düşük Stok","stock.critical":"Kritik Stok","customer.title":"Müşteri Yönetimi","customer.name":"Müşteri Adı","customer.phone":"Telefon","customer.email":"E-posta","customer.address":"Adres","customer.add":"Müşteri Ekle","customer.edit":"Müşteri Düzenle","customer.totalPurchases":"Toplam Alışveriş","customer.lastPurchase":"Son Alışveriş","report.title":"Raporlar","report.sales":"Satış Raporu","report.purchases":"Alış Raporu","report.profit":"Kar/Zarar","report.inventory":"Stok Raporu","report.export":"Dışa Aktar","report.dateRange":"Tarih Aralığı","report.today":"Bugün","report.thisWeek":"Bu Hafta","report.thisMonth":"Bu Ay","report.thisYear":"Bu Yıl","settings.title":"Ayarlar","settings.general":"Genel","settings.company":"Şirket Bilgileri","settings.appearance":"Görünüm","settings.business":"İş Ayarları","settings.notifications":"Bildirimler","settings.companyName":"Şirket Adı","settings.companyAddress":"Şirket Adresi","settings.companyPhone":"Şirket Telefonu","settings.companyEmail":"Şirket E-postası","settings.theme":"Tema","settings.light":"Açık","settings.dark":"Koyu","settings.palette":"Renk Paleti","settings.language":"Dil","settings.turkish":"Türkçe","settings.english":"İngilizce","backup.title":"Yedekleme ve Geri Yükleme","backup.export":"Dışa Aktar","backup.import":"İçe Aktar","backup.json":"JSON Formatı","backup.csv":"CSV Formatı","backup.download":"İndir","backup.upload":"Yükle","backup.success":"Yedekleme başarılı","backup.error":"Yedekleme hatası","user.title":"Kullanıcı Yönetimi","user.add":"Kullanıcı Ekle","user.edit":"Kullanıcı Düzenle","user.email":"E-posta","user.password":"Şifre","user.name":"Ad Soyad","user.phone":"Telefon","user.role":"Rol","user.active":"Aktif","user.inactive":"Pasif","user.created":"Oluşturulma Tarihi","user.lastLogin":"Son Giriş","error.generic":"Bir hata oluştu","error.network":"Ağ hatası","error.permission":"Yetki hatası","error.validation":"Doğrulama hatası","error.notFound":"Bulunamadı","error.unauthorized":"Yetkisiz erişim","error.forbidden":"Erişim reddedildi","error.server":"Sunucu hatası","success.saved":"Başarıyla kaydedildi","success.updated":"Başarıyla güncellendi","success.deleted":"Başarıyla silindi","success.created":"Başarıyla oluşturuldu","success.sent":"Başarıyla gönderildi","success.completed":"Başarıyla tamamlandı"},en:{"app.title":"Stock Management App","app.company":"Business Panel","app.loading":"Loading...","app.error":"Error","app.success":"Success","app.warning":"Warning","app.info":"Info","app.save":"Save","app.cancel":"Cancel","app.delete":"Delete","app.edit":"Edit","app.add":"Add","app.search":"Search","app.filter":"Filter","app.clear":"Clear","app.close":"Close","app.back":"Back","app.next":"Next","app.previous":"Previous","app.confirm":"Confirm","app.yes":"Yes","app.no":"No","nav.dashboard":"Dashboard","nav.sales":"Sales Screen","nav.quickSale":"Quick Sale","nav.inventory":"Inventory Management","nav.stockCount":"Stock Count","nav.lowStock":"Low Stock","nav.categories":"Categories","nav.purchases":"Purchases","nav.suppliers":"Suppliers","nav.purchaseOrders":"Purchase Orders","nav.cashDrawer":"Cash Drawer","nav.expenses":"Expenses","nav.credit":"Credit","nav.payments":"Payments","nav.customers":"Customers","nav.loyalty":"Loyalty Program","nav.reports":"Reports","nav.analytics":"Analytics","nav.settings":"Settings","nav.backup":"Backup","nav.users":"Users","nav.history":"Transaction History","role.admin":"Administrator","role.manager":"Manager","role.cashier":"Cashier","role.user":"User","notification.enabled":"Notifications enabled","notification.disabled":"Notifications disabled","notification.permission.denied":"Notification permission denied","notification.permission.error":"Could not get notification permission","notification.sale.completed":"Sale Completed","notification.stock.low":"Low Stock Warning","sales.title":"Sales Screen","sales.cart":"Cart","sales.total":"Total","sales.payment":"Payment","sales.cash":"Cash","sales.card":"Card","sales.credit":"Credit","sales.personnel":"Personnel","sales.completed":"Sale completed","sales.cancelled":"Sale cancelled","stock.title":"Inventory Management","stock.add":"Add Product","stock.edit":"Edit Product","stock.name":"Product Name","stock.barcode":"Barcode","stock.category":"Category","stock.quantity":"Quantity","stock.price":"Price","stock.purchasePrice":"Purchase Price","stock.salePrice":"Sale Price","stock.vat":"VAT","stock.description":"Description","stock.low":"Low Stock","stock.critical":"Critical Stock","customer.title":"Customer Management","customer.name":"Customer Name","customer.phone":"Phone","customer.email":"Email","customer.address":"Address","customer.add":"Add Customer","customer.edit":"Edit Customer","customer.totalPurchases":"Total Purchases","customer.lastPurchase":"Last Purchase","report.title":"Reports","report.sales":"Sales Report","report.purchases":"Purchase Report","report.profit":"Profit/Loss","report.inventory":"Inventory Report","report.export":"Export","report.dateRange":"Date Range","report.today":"Today","report.thisWeek":"This Week","report.thisMonth":"This Month","report.thisYear":"This Year","settings.title":"Settings","settings.general":"General","settings.company":"Company Information","settings.appearance":"Appearance","settings.business":"Business Settings","settings.notifications":"Notifications","settings.companyName":"Company Name","settings.companyAddress":"Company Address","settings.companyPhone":"Company Phone","settings.companyEmail":"Company Email","settings.theme":"Theme","settings.light":"Light","settings.dark":"Dark","settings.palette":"Color Palette","settings.language":"Language","settings.turkish":"Turkish","settings.english":"English","backup.title":"Backup and Restore","backup.export":"Export","backup.import":"Import","backup.json":"JSON Format","backup.csv":"CSV Format","backup.download":"Download","backup.upload":"Upload","backup.success":"Backup successful","backup.error":"Backup error","user.title":"User Management","user.add":"Add User","user.edit":"Edit User","user.email":"Email","user.password":"Password","user.name":"Full Name","user.phone":"Phone","user.role":"Role","user.active":"Active","user.inactive":"Inactive","user.created":"Created Date","user.lastLogin":"Last Login","error.generic":"An error occurred","error.network":"Network error","error.permission":"Permission error","error.validation":"Validation error","error.notFound":"Not found","error.unauthorized":"Unauthorized access","error.forbidden":"Access denied","error.server":"Server error","success.saved":"Successfully saved","success.updated":"Successfully updated","success.deleted":"Successfully deleted","success.created":"Successfully created","success.sent":"Successfully sent","success.completed":"Successfully completed"}},rke=({children:t})=>{const[e,r]=R.useState(()=>localStorage.getItem("app-language")||"tr"),n=R.useCallback((o,s=o)=>{var l;return((l=m0[e])==null?void 0:l[o])||s},[e]),i=R.useCallback(o=>{r(o),localStorage.setItem("app-language",o)},[]),a={language:e,setLanguage:i,t:n,translations:m0[e]||m0.tr};return c.jsx(gF.Provider,{value:a,children:t})},nke=()=>{const t=R.useContext(gF);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},Nc=({fullPage:t=!1,message:e=""})=>c.jsxs("div",{className:`flex flex-col justify-center items-center ${t?"h-screen bg-[var(--surface-color)]":"h-full py-10"}`,children:[c.jsx(x3,{className:"w-10 h-10 text-[var(--primary-600)] animate-spin"}),e&&c.jsx("p",{className:"mt-4 text-[var(--text-muted-color)]",children:e})]}),yr=({icon:t,message:e,description:r})=>c.jsxs("div",{className:"text-center py-10 px-4 flex flex-col items-center justify-center h-full",children:[c.jsx("div",{className:"text-[var(--text-muted-color)] mb-3",children:t}),c.jsx("h3",{className:"font-semibold text-lg text-[var(--text-color)]",children:e}),r&&c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] mt-1",children:r})]}),ike=({notes:t,notesPath:e})=>{const[r,n]=R.useState({id:"",title:"",content:"",color:"#0ea5a5",isImportant:!1,tags:[]}),[i,a]=R.useState(""),[o,s]=R.useState(null),[l,u]=R.useState(""),[d,f]=R.useState(!1),h=R.useMemo(()=>(t||[]).filter(x=>{const S=(x.title||"").toLowerCase().includes(i.toLowerCase())||(x.content||"").toLowerCase().includes(i.toLowerCase()),T=!l||(x.tags||[]).includes(l);return S&&T}),[t,i,l]),m=R.useMemo(()=>{const x=new Set;return(t||[]).forEach(S=>{(S.tags||[]).forEach(T=>x.add(T))}),Array.from(x)},[t]),g=async x=>{if(x.preventDefault(),!r.title.trim()||!r.content.trim()){ie.warning("Başlık ve içerik alanları zorunludur");return}f(!0);try{const S={...r,updatedAt:_e()};o?(await Dl(Ee(ye,"artifacts",Gt,"users",userId,"notes",o),S),ie.success("Not güncellendi")):(await uh(At(ye,"artifacts",Gt,"users",userId,"notes"),{...S,createdAt:_e()}),ie.success("Not kaydedildi")),n({id:"",title:"",content:"",color:"#0ea5a5",isImportant:!1,tags:[]}),s(null)}catch(S){console.error("Error saving note:",S),ie.error("Not kaydedilemedi")}finally{f(!1)}},v=async x=>{if(confirm("Bu notu silmek istediğinizden emin misiniz?"))try{await ch(Ee(ye,"artifacts",Gt,"users",userId,"notes",x)),ie.success("Not silindi")}catch(S){console.error("Error deleting note:",S),ie.error("Not silinemedi")}},w=x=>{n({id:x.id,title:x.title||"",content:x.content||"",color:x.color||"#0ea5a5",isImportant:x.isImportant||!1,tags:x.tags||[]}),s(x.id)},y=()=>{n({id:"",title:"",content:"",color:"#0ea5a5",isImportant:!1,tags:[]}),s(null)},_=x=>{x.trim()&&!r.tags.includes(x.trim())&&n({...r,tags:[...r.tags,x.trim()]})},b=x=>{n({...r,tags:r.tags.filter(S=>S!==x)})},j=x=>x?(x.toDate?x.toDate():new Date(x)).toLocaleString("tr-TR"):"";return c.jsxs("div",{className:"p-4 bg-[var(--bg-color)] rounded-lg shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-[var(--text-color)] flex items-center gap-2",children:[c.jsx(N3,{className:"w-6 h-6 text-[var(--primary-600)]"}),"Notlar"]}),c.jsx("button",{onClick:y,className:"px-4 py-2 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] transition-colors",children:"Yeni Not"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color)] mb-4",children:o?"Not Düzenle":"Yeni Not"}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Başlık"}),c.jsx("input",{type:"text",value:r.title,onChange:x=>n({...r,title:x.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",placeholder:"Not başlığı...",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"İçerik"}),c.jsx("textarea",{value:r.content,onChange:x=>n({...r,content:x.target.value}),className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",rows:6,placeholder:"Not içeriği...",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Renk"}),c.jsx("input",{type:"color",value:r.color,onChange:x=>n({...r,color:x.target.value}),className:"w-full h-10 border border-[var(--border-color)] rounded-lg cursor-pointer"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"isImportant",checked:r.isImportant,onChange:x=>n({...r,isImportant:x.target.checked}),className:"mr-2"}),c.jsx("label",{htmlFor:"isImportant",className:"text-sm font-medium text-[var(--text-color)]",children:"Önemli"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-color)] mb-2",children:"Etiketler"}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.tags.map((x,S)=>c.jsxs("span",{className:"px-2 py-1 bg-[var(--primary-100)] text-[var(--primary-800)] rounded-full text-sm flex items-center gap-1",children:[x,c.jsx("button",{type:"button",onClick:()=>b(x),className:"text-[var(--primary-600)] hover:text-[var(--primary-800)]",children:c.jsx(pa,{className:"w-3 h-3"})})]},S))}),c.jsx("input",{type:"text",placeholder:"Etiket ekle...",className:"w-full px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]",onKeyPress:x=>{x.key==="Enter"&&(x.preventDefault(),_(x.target.value),x.target.value="")}})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-[var(--primary-600)] text-white rounded-lg hover:bg-[var(--primary-700)] disabled:opacity-50 transition-colors",children:d?"Kaydediliyor...":o?"Güncelle":"Kaydet"}),o&&c.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-[var(--secondary-color)] text-[var(--text-color)] rounded-lg hover:bg-[var(--secondary-hover-color)] transition-colors",children:"İptal"})]})]})]}),c.jsxs("div",{className:"bg-[var(--surface-color)] p-6 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-color)]",children:"Notlarım"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(IT,{className:"w-4 h-4 text-[var(--text-muted-color)]"}),c.jsx("input",{type:"text",placeholder:"Not ara...",value:i,onChange:x=>a(x.target.value),className:"px-3 py-2 border border-[var(--border-color)] rounded-lg bg-[var(--bg-color)] text-[var(--text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-600)]"})]})]}),l&&c.jsx("div",{className:"mb-4",children:c.jsxs("span",{className:"text-sm text-[var(--text-muted-color)]",children:["Filtre: ",c.jsx("span",{className:"font-medium",children:l}),c.jsx("button",{onClick:()=>u(""),className:"ml-2 text-[var(--primary-600)] hover:text-[var(--primary-700)]",children:c.jsx(pa,{className:"w-4 h-4 inline"})})]})}),m.length>0&&c.jsx("div",{className:"mb-4",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(x=>c.jsx("button",{onClick:()=>u(l===x?"":x),className:`px-2 py-1 rounded-full text-xs transition-colors ${l===x?"bg-[var(--primary-600)] text-white":"bg-[var(--secondary-color)] text-[var(--text-color)] hover:bg-[var(--secondary-hover-color)]"}`,children:x},x))})}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.map(x=>c.jsx("div",{className:"p-4 border border-[var(--border-color)] rounded-lg hover:bg-[var(--surface-hover-color)] transition-colors",style:{borderLeftColor:x.color,borderLeftWidth:"4px"},children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h4",{className:"font-medium text-[var(--text-color)]",children:x.title}),x.isImportant&&c.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"Önemli"})]}),c.jsx("p",{className:"text-sm text-[var(--text-muted-color)] mb-2 line-clamp-3",children:x.content}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-muted-color)]",children:[c.jsxs("span",{children:["Oluşturulma: ",j(x.createdAt)]}),x.updatedAt&&x.updatedAt!==x.createdAt&&c.jsxs("span",{children:["Güncellenme: ",j(x.updatedAt)]})]}),x.tags&&x.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:x.tags.map((S,T)=>c.jsx("span",{className:"px-2 py-1 bg-[var(--primary-100)] text-[var(--primary-800)] rounded-full text-xs",children:S},T))})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx("button",{onClick:()=>w(x),className:"p-2 text-[var(--primary-600)] hover:bg-[var(--primary-100)] rounded-lg transition-colors",title:"Düzenle",children:c.jsx(Zp,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(x.id),className:"p-2 text-[var(--error-color)] hover:bg-red-100 rounded-lg transition-colors",title:"Sil",children:c.jsx(Cbe,{className:"w-4 h-4"})})]})]})},x.id))}),h.length===0&&c.jsx("div",{className:"text-center py-8 text-[var(--text-muted-color)]",children:i||l?"Arama kriterlerinize uygun not bulunamadı":"Henüz not eklenmemiş"})]})]})]})};g0.createRoot(document.getElementById("root")).render(c.jsx(M.StrictMode,{children:c.jsx(TTe,{})}));
